import{_ as K}from"./CUC3bBKZ.js";import{S as I,p as S,Y as $,G as V,V as M,q as F,s as A,a as j,u as k,E as P,x as b,y as i,b as C,e as D,g as o,f as t,z as a,j as y,_ as R,A as E,B,t as T,D as z,C as G,O as H}from"./BomcfpdA.js";import{_ as L}from"./DZUntXF2.js";import{S as U}from"./CQpqnWfj.js";import{r as Y}from"./7hh0RuxJ.js";import{r as X}from"./D94jxSfK.js";import{r as J}from"./DvUQq13P.js";import{_ as Q}from"./CF5TCNvl.js";import{_ as q}from"./CRpPaH5K.js";import{r as O}from"./Bebq7u_r.js";import{_ as W}from"./yJB2Qts7.js";import{P as Z}from"./WDQKvhhq.js";import{u as ee}from"./BjPGKtCZ.js";import"./C0NBKdgm.js";import"./D6yT9IfA.js";import"./CRSxM5WR.js";const te={components:{TransitionRoot:I,TransitionChild:S,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F,UserIcon:Y},data(){return{open:!1,addIcon:A,saveIcon:X,clearIcon:J,loading:!1,name:"",description:"",cookie:j("token")}},methods:{async submitForm(){this.loading=!0;const r=new U;let e={name:this.name,description:this.description};const{data:l,error:c,pending:n}=await r.createStockLocation(`${this.cookie}`,e);this.loading=n,l.value&&(this.handleClick(),k().$toast.success(`${this.name} stock location created successfully!`),this.loading=!1,this.description="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),k().$toast.error(P),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe={class:"fixed inset-0 overflow-y-auto"},ne={class:"flex min-h-full items-center justify-center p-4 text-center"},ie={class:"border-b px-3 py-3 flex items-center justify-between"},ae={class:"mt-2 space-y-3"},se={class:"w-full flex items-center px-5"},le={class:"w-full flex flex-col space-y-2"},ce={class:"w-full flex items-center px-5 space-x-3"},re={class:"w-full flex flex-col space-y-2"},de={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function me(r,e,l,c,n,s){const u=R,d=i("TransitionChild"),h=i("DialogTitle"),x=i("XMarkIcon"),m=i("FormKit"),f=L,v=i("DialogPanel"),p=i("Dialog"),w=i("TransitionRoot");return C(),D("div",null,[o("div",null,[t(u,{text:"Add location",color:"primary",icon:n.addIcon,click:s.handleClick},null,8,["icon","click"])]),t(w,{appear:"",show:n.open,as:"template"},{default:a(()=>[t(p,{as:"div",onClose:s.handleClick,class:"relative z-10"},{default:a(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",oe,[o("div",ne,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[t(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[o("div",ie,[t(h,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:a(()=>e[4]||(e[4]=[y(" Create Stock Location ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[t(x,{class:"w-5 h-5"})])]),t(m,{type:"form","submit-label":"Update",onSubmit:s.submitForm,actions:!1,id:"submitForm"},{default:a(({value:g})=>[o("div",ae,[o("div",se,[o("div",le,[t(m,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":e[1]||(e[1]=_=>n.name=_)},null,8,["modelValue"])])]),o("div",ce,[o("div",re,[t(m,{type:"textarea",label:"Description",validation:"required",modelValue:n.description,"onUpdate:modelValue":e[2]||(e[2]=_=>n.description=_)},null,8,["modelValue"])])])]),o("div",de,[t(f,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),t(u,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const ue=b(te,[["render",me]]),pe={components:{TransitionRoot:I,TransitionChild:S,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F},data(){return{viewIcon:E,show:!1,editIcon:B}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},_e={class:"fixed inset-0 overflow-y-auto"},fe={class:"flex min-h-full items-center justify-center p-4 text-center"},he={class:"border-b px-3 py-3 flex items-center justify-between"},xe={class:"space-y-3 px-5 py-5"},ve={class:"w-full flex flex-col space-y-1"},ge={class:"underline"},ye={class:"w-full flex flex-col space-y-1"},ke={class:"underline"};function we(r,e,l,c,n,s){const u=R,d=i("TransitionChild"),h=i("DialogTitle"),x=i("XMarkIcon"),m=i("DialogPanel"),f=i("Dialog"),v=i("TransitionRoot");return C(),D("div",null,[t(u,{click:()=>{s.handleClick()},color:"primary",text:"View",icon:n.viewIcon},null,8,["click","icon"]),t(v,{appear:"",show:n.show,as:"template"},{default:a(()=>[t(f,{as:"div",class:"relative z-10"},{default:a(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",_e,[o("div",fe,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[t(m,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[o("div",he,[t(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>e[2]||(e[2]=[o("img",{src:q,class:"w-8 h-8 mr-2"},null,-1),y(" View Stock Location ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...p)=>s.handleClick&&s.handleClick(...p))},[t(x,{class:"w-5 h-5"})])]),o("div",xe,[o("div",ve,[e[3]||(e[3]=o("label",{class:"font-semibold text-lg"},"Name",-1)),o("p",ge,T(l.data.name),1)]),o("div",ye,[e[4]||(e[4]=o("label",{class:"font-semibold text-lg"},"Description",-1)),o("p",ke,T(l.data.description),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const be=b(pe,[["render",we]]),Ce={components:{TransitionRoot:I,TransitionChild:S,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F},data(){return{editIcon:B,show:!1,saveIcon:X,name:"",description:"",loading:!1,cookie:j("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick(),this.name=this.data.name,this.description=this.data.description},async submitForm(){this.loading=!0;const r=new U;let e={id:this.data.id,name:this.name,description:this.description};const{data:l,error:c,pending:n}=await r.updateStockLocation(`${this.cookie}`,e);this.loading=n,l.value&&(this.handleClick(),k().$toast.success(`${this.name} stock location updated successfully!`),this.loading=!1,this.description="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),k().$toast.error(P),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},De={class:"fixed inset-0 overflow-y-auto"},Te={class:"flex min-h-full items-center justify-center p-4 text-center"},Ie={class:"border-b px-3 py-3 flex items-center justify-between"},Se={class:"mt-2 space-y-3"},$e={class:"w-full flex items-center px-5"},Ve={class:"w-full flex flex-col space-y-2"},Me={class:"w-full flex items-center px-5 space-x-3"},Fe={class:"w-full flex flex-col space-y-2"},je={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Re(r,e,l,c,n,s){const u=R,d=i("TransitionChild"),h=i("DialogTitle"),x=i("XMarkIcon"),m=i("FormKit"),f=L,v=i("DialogPanel"),p=i("Dialog"),w=i("TransitionRoot");return C(),D("div",null,[t(u,{click:()=>{s.init()},text:"Edit",color:"success",icon:n.editIcon},null,8,["click","icon"]),t(w,{appear:"",show:n.show,as:"template"},{default:a(()=>[t(p,{as:"div",class:"relative z-10"},{default:a(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",De,[o("div",Te,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[t(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[o("div",Ie,[t(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>e[4]||(e[4]=[o("img",{src:q,class:"w-8 h-8 mr-2"},null,-1),y(" Edit Stock Location ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[t(x,{class:"w-5 h-5"})])]),t(m,{type:"form",id:"editForm","submit-label":"Update",onSubmit:s.submitForm,actions:!1},{default:a(({value:g})=>[o("div",Se,[o("div",$e,[o("div",Ve,[t(m,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":e[1]||(e[1]=_=>n.name=_)},null,8,["modelValue"])])]),o("div",Me,[o("div",Fe,[t(m,{type:"textarea",label:"Description",validation:"required",modelValue:n.description,"onUpdate:modelValue":e[2]||(e[2]=_=>n.description=_)},null,8,["modelValue"])])])]),o("div",je,[t(f,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),t(u,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ue=b(Ce,[["render",Re]]),Pe={components:{TransitionRoot:I,TransitionChild:S,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F,ExclamationTriangleIcon:z},data(){return{show:!1,deleteIcon:O,loading:!1,reason:"",cookie:j("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(r){this.loading=!0;const e=new U,{data:l,error:c,pending:n}=await e.voidStockLocation(`${this.cookie}`,{reason:this.reason,id:r});this.loading=n,l.value&&(this.handleClick(),k().$toast.success("Stock location deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),k().$toast.error(P),this.loading=!1)},handleClick(){this.show=!this.show}}},Be={class:"fixed inset-0 overflow-y-auto"},Le={class:"flex min-h-full items-center justify-center p-4 text-center"},Ae={class:"border-b px-3 py-3 flex items-center justify-between"},Ee={class:"mt-2 space-y-3 px-5"},Xe={class:"rounded px-2 py-2"},qe={class:"font-semibold text-red-500"},Oe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ne(r,e,l,c,n,s){const u=R,d=i("TransitionChild"),h=i("ExclamationTriangleIcon"),x=i("DialogTitle"),m=i("XMarkIcon"),f=i("FormKit"),v=L,p=i("DialogPanel"),w=i("Dialog"),g=i("TransitionRoot");return C(),D("div",null,[t(u,{click:s.handleClick,color:"error",text:"Delete",icon:n.deleteIcon},null,8,["click","icon"]),t(g,{appear:"",show:n.show,as:"template"},{default:a(()=>[t(w,{as:"div",class:"relative z-10"},{default:a(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Be,[o("div",Le,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[t(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[o("div",Ae,[t(x,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[t(h,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=y(" Confirm delete "))]),_:1}),o("button",{onClick:e[0]||(e[0]=(..._)=>s.handleClick&&s.handleClick(..._))},[t(m,{class:"w-5 h-5"})])]),t(f,{type:"form","submit-label":"Update",onSubmit:e[2]||(e[2]=_=>s.voidStockSupplier(l.data.id)),actions:!1},{default:a(({value:_})=>[o("div",Ee,[o("div",Xe,[e[5]||(e[5]=y(" Do you really want to delete ")),o("span",qe,T(l.data.name),1),e[6]||(e[6]=y("? Note that once this action is completed, it can not be undone "))]),t(f,{type:"textarea",label:"Reason",validation:"required",modelValue:n.reason,"onUpdate:modelValue":e[1]||(e[1]=N=>n.reason=N)},null,8,["modelValue"])]),o("div",Oe,[t(v,{click:()=>{s.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),t(u,{loading:n.loading,type:"submit",click:()=>{},color:"error",icon:n.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ke=b(Pe,[["render",Ne]]),ze={setup(){ee({title:`${Z.name.toUpperCase()} - Stock Locations`})},data(){return{header:"Stock Locations",addIcon:A,viewIcon:E,deleteIcon:O,editIcon:B,search:"",loading:!1,cookie:j("token"),pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"description",value:"description"},{text:"actions",value:"actions"}],locations:new Array}},created(){this.init()},methods:{async init(){this.loading=!0;const r=new U,{data:e,error:l,pending:c}=await r.getStockLocation(`${this.cookie}`);this.loading=c,e.value&&(this.locations=e.value.filter(n=>({...n,created_date:G(n.created_date).format(H)})),this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}},watch:{search(r){console.log(r)}}},Ge={class:"px-5 py-5"},He={class:"flex items-center justify-between py-5"},Ye={class:"text-2xl font-semibold"},Je={class:"flex items-center space-x-3"},Qe={class:"flex items-center justify-end py-5"},We={class:"py-2 flex items-center space-x-2"};function Ze(r,e,l,c,n,s){const u=K,d=ue,h=Q,x=be,m=Ue,f=Ke,v=W;return C(),D("div",Ge,[t(u,{pages:n.pages},null,8,["pages"]),o("div",He,[o("h3",Ye,T(n.header),1),o("div",Je,[t(d,{onUpdate:s.init},null,8,["onUpdate"])])]),o("div",Qe,[t(h,{search:n.search},null,8,["search"])]),o("div",null,[t(v,{loading:n.loading,headers:n.headers,data:n.locations,"search-value":n.search,"search-field":"name"},{actions:a(({item:p})=>[o("div",We,[t(x,{data:p},null,8,["data"]),t(m,{data:p,onUpdate:s.init},null,8,["data","onUpdate"]),t(f,{data:p,onUpdate:s.init},null,8,["data","onUpdate"])])]),_:1},8,["loading","headers","data","search-value"])])])}const ht=b(ze,[["render",Ze]]);export{ht as default};
