import{_ as Z}from"./Bo9Y6Pu_.js";import{S as T,p as $,Y as I,G as S,V as M,q as V,s as H,a as F,u as k,E as B,x as w,y as n,b,e as D,g as t,f as e,z as s,k as y,_ as R,A as X,B as P,t as U,D as K,C as z,O as L}from"./B6Tj7v0x.js";import{_ as E}from"./Cvxcf13Z.js";import{S as j}from"./DoyeRNeh.js";import{r as G}from"./DopEa1Gw.js";import{r as A}from"./LlNZ35XP.js";import{r as Y}from"./DjbowuN7.js";import{_ as J}from"./CQqertM8.js";import{r as O}from"./DmLkMLbG.js";import{_ as Q}from"./DV7heDwp.js";import{u as W}from"./BU27LF7R.js";import{P as ee}from"./D0dD8Pjq.js";import"./BbLbM4kr.js";import"./Ch3yEbHE.js";import"./CFG611di.js";const te={components:{TransitionRoot:T,TransitionChild:$,Dialog:I,DialogPanel:S,DialogTitle:M,XMarkIcon:V,UserIcon:G},data(){return{open:!1,addIcon:H,saveIcon:A,clearIcon:Y,loading:!1,name:"",cookie:F("token")}},methods:{async submitForm(){this.loading=!0;const d=new j,a={name:this.name},{data:l,error:c,pending:o}=await d.createStockCategory(`${this.cookie}`,a);this.loading=o,l.value&&(this.handleClick(),k().$toast.success(`${this.name} stock category created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ae={class:"fixed inset-0 overflow-y-auto"},ne={class:"flex min-h-full items-center justify-center p-4 text-center"},se={class:"border-b px-3 py-3 flex items-center justify-between"},ie={class:"mt-2 space-y-3"},le={class:"w-full flex items-center px-5"},ce={class:"w-full flex flex-col space-y-2"},re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function de(d,a,l,c,o,i){const m=R,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("FormKit"),p=E,g=n("DialogPanel"),_=n("Dialog"),C=n("TransitionRoot");return b(),D("div",null,[t("div",null,[e(m,{text:"Create category",color:"primary",icon:o.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(C,{appear:"",show:o.open,as:"template"},{default:s(()=>[e(_,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[oe]),_:1}),t("div",ae,[t("div",ne,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",se,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:s(()=>[y(" Create stock category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...v)=>i.handleClick&&i.handleClick(...v))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1,id:"submitForm"},{default:s(({value:v})=>[t("div",ie,[t("div",le,[t("div",ce,[e(u,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":a[1]||(a[1]=x=>o.name=x)},null,8,["modelValue"])])])]),t("div",re,[e(p,{type:"button",click:()=>{i.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const me=w(te,[["render",de]]),ue={components:{TransitionRoot:T,TransitionChild:$,Dialog:I,DialogPanel:S,DialogTitle:M,XMarkIcon:V},data(){return{viewIcon:X,show:!1,editIcon:P}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},N="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%207V37C10%2038.6569%2011.3431%2040%2013%2040H26V36.4649C24.8044%2035.7733%2024%2034.4806%2024%2033C24%2030.7909%2025.7909%2029%2028%2029C30.2091%2029%2032%2030.7909%2032%2033C32%2034.4806%2031.1956%2035.7733%2030%2036.4649V40H35C36.6569%2040%2038%2038.6569%2038%2037V7C38%205.34315%2036.6569%204%2035%204H13C11.3431%204%2010%205.34315%2010%207ZM28%2035C29.1046%2035%2030%2034.1046%2030%2033C30%2031.8954%2029.1046%2031%2028%2031C26.8954%2031%2026%2031.8954%2026%2033C26%2034.1046%2026.8954%2035%2028%2035ZM18%2011C18%2010.4477%2018.4477%2010%2019%2010L29%2010C29.5523%2010%2030%2010.4477%2030%2011C30%2011.5523%2029.5523%2012%2029%2012L19%2012C18.4477%2012%2018%2011.5523%2018%2011ZM15%2016C14.4477%2016%2014%2016.4477%2014%2017C14%2017.5523%2014.4477%2018%2015%2018H33C33.5523%2018%2034%2017.5523%2034%2017C34%2016.4477%2033.5523%2016%2033%2016H15ZM14%2021C14%2020.4477%2014.4477%2020%2015%2020H33C33.5523%2020%2034%2020.4477%2034%2021C34%2021.5523%2033.5523%2022%2033%2022H15C14.4477%2022%2014%2021.5523%2014%2021ZM15%2024C14.4477%2024%2014%2024.4477%2014%2025C14%2025.5523%2014.4477%2026%2015%2026H33C33.5523%2026%2034%2025.5523%2034%2025C34%2024.4477%2033.5523%2024%2033%2024H15Z'%20fill='currentColor'/%3e%3cpath%20d='M26%2044V40H30V44L28%2042.5L26%2044Z'%20fill='currentColor'/%3e%3c/svg%3e",_e=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),pe={class:"fixed inset-0 overflow-y-auto"},fe={class:"flex min-h-full items-center justify-center p-4 text-center"},he={class:"border-b px-3 py-3 flex items-center justify-between"},ge=t("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),ve={class:"space-y-3 px-5 py-5"},xe={class:"w-full flex flex-col space-y-1"},ye=t("label",{class:"font-semibold text-lg"},"Name",-1),ke={class:"underline"};function Ce(d,a,l,c,o,i){const m=R,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("DialogPanel"),p=n("Dialog"),g=n("TransitionRoot");return b(),D("div",null,[e(m,{click:()=>{i.handleClick()},color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(g,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(p,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[_e]),_:1}),t("div",pe,[t("div",fe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",he,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[ge,y(" View Stock Category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(..._)=>i.handleClick&&i.handleClick(..._))},[e(h,{class:"w-5 h-5"})])]),t("div",ve,[t("div",xe,[ye,t("p",ke,U(l.data.name),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const we=w(ue,[["render",Ce]]),be={components:{TransitionRoot:T,TransitionChild:$,Dialog:I,DialogPanel:S,DialogTitle:M,XMarkIcon:V},data(){return{editIcon:P,show:!1,saveIcon:A,loading:!1,cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick()},async submitForm(){this.loading=!0;const d=new j;let a={id:this.data.id,name:this.data.name};const{data:l,error:c,pending:o}=await d.updateStockCategory(`${this.cookie}`,a);this.loading=o,l.value&&(this.$emit("update",!0),this.loading=!1,this.handleClick(),k().$toast.success("Stock category updated successfully!")),c.value&&(console.error(c.value),k().$toast.error(B),this.handleClick(),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},De=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Te={class:"fixed inset-0 overflow-y-auto"},$e={class:"flex min-h-full items-center justify-center p-4 text-center"},Ie={class:"border-b px-3 py-3 flex items-center justify-between"},Se=t("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),Me={class:"w-full flex items-center px-5 mt-3"},Ve={class:"w-full flex flex-col space-y-2"},Fe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Re(d,a,l,c,o,i){const m=R,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("FormKit"),p=E,g=n("DialogPanel"),_=n("Dialog"),C=n("TransitionRoot");return b(),D("div",null,[e(m,{click:()=>{i.init()},text:"Edit",color:"success",icon:o.editIcon},null,8,["click","icon"]),e(C,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(_,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[De]),_:1}),t("div",Te,[t("div",$e,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",Ie,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[Se,y(" Edit Stock Category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...v)=>i.handleClick&&i.handleClick(...v))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form",id:"editForm","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:s(({value:v})=>[t("div",Me,[t("div",Ve,[e(u,{type:"text",label:"Name",validation:"required",modelValue:l.data.name,"onUpdate:modelValue":a[1]||(a[1]=x=>l.data.name=x)},null,8,["modelValue"])])]),t("div",Fe,[e(p,{type:"button",click:()=>{i.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const je=w(be,[["render",Re]]),Be={components:{TransitionRoot:T,TransitionChild:$,Dialog:I,DialogPanel:S,DialogTitle:M,XMarkIcon:V,ExclamationTriangleIcon:K},data(){return{show:!1,deleteIcon:O,loading:!1,reason:"",cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockCategory(d){this.loading=!0;const a=new j,{data:l,error:c,pending:o}=await a.voidStockCategory(`${this.cookie}`,{reason:this.reason,id:d});l.value&&(this.handleClick(),k().$toast.success("Stock category deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.show=!this.show}}},Pe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ue={class:"fixed inset-0 overflow-y-auto"},Ee={class:"flex min-h-full items-center justify-center p-4 text-center"},He={class:"border-b px-3 py-3 flex items-center justify-between"},Xe={class:"mt-2 space-y-3 px-5"},Ae={class:"rounded px-2 py-2"},Oe={class:"font-semibold text-red-500"},Ne={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function qe(d,a,l,c,o,i){const m=R,r=n("TransitionChild"),f=n("ExclamationTriangleIcon"),h=n("DialogTitle"),u=n("XMarkIcon"),p=n("FormKit"),g=E,_=n("DialogPanel"),C=n("Dialog"),v=n("TransitionRoot");return b(),D("div",null,[e(m,{click:i.handleClick,color:"error",text:"Delete",icon:o.deleteIcon},null,8,["click","icon"]),e(v,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(C,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Pe]),_:1}),t("div",Ue,[t("div",Ee,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(_,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",He,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[e(f,{class:"h-5 w-5 mr-2"}),y(" Confirm delete ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...x)=>i.handleClick&&i.handleClick(...x))},[e(u,{class:"w-5 h-5"})])]),e(p,{type:"form","submit-label":"Update",onSubmit:a[2]||(a[2]=x=>i.voidStockCategory(l.data.id)),actions:!1},{default:s(({value:x})=>[t("div",Xe,[t("div",Ae,[y(" Do you really want to delete "),t("span",Oe,U(l.data.name),1),y("? Note that once this action is completed, it can not be undone ")]),e(p,{type:"textarea",label:"Reason",validation:"required",modelValue:o.reason,"onUpdate:modelValue":a[1]||(a[1]=q=>o.reason=q)},null,8,["modelValue"])]),t("div",Ne,[e(g,{click:()=>{i.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"error",icon:o.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ze=w(Be,[["render",qe]]),Ke={setup(){W({title:`${ee.name.toUpperCase()} - Stock Categories`})},data(){return{header:"Stock Category",addIcon:H,viewIcon:X,deleteIcon:O,editIcon:P,search:"",loading:!1,cookie:F("token"),pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"date created",value:"created_date"},{text:"actions",value:"actions"}],categories:new Array}},created(){this.init()},methods:{async init(){this.loading=!0;const d=new j,{data:a,error:l,pending:c}=await d.getStockCategory(`${this.cookie}`);this.loading=c,a.value&&(this.categories=a.value.map(o=>({...o,created_date:z(o.created_date).format(L)})),this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}}},ze={class:"px-5 py-5"},Le={class:"flex items-center justify-between py-5"},Ge={class:"text-2xl font-semibold"},Ye={class:"flex items-center space-x-3"},Je={class:"flex items-center justify-end py-5"},Qe={class:"py-2 flex items-center space-x-2"};function We(d,a,l,c,o,i){const m=Z,r=me,f=J,h=we,u=je,p=Ze,g=Q;return b(),D("div",ze,[e(m,{pages:o.pages},null,8,["pages"]),t("div",Le,[t("h3",Ge,U(o.header),1),t("div",Ye,[e(r,{onUpdate:i.init},null,8,["onUpdate"])])]),t("div",Je,[e(f,{search:o.search},null,8,["search"])]),t("div",null,[e(g,{headers:o.headers,data:o.categories,"search-field":"name","search-value":o.search},{actions:s(({item:_})=>[t("div",Qe,[e(h,{data:_},null,8,["data"]),e(u,{data:_,onUpdate:i.init},null,8,["data","onUpdate"]),e(p,{data:_,onUpdate:i.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","search-value"])])])}const ft=w(Ke,[["render",We]]);export{ft as default};
