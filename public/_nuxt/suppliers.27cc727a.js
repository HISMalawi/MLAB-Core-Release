import{_ as E}from"./Breadcrumb.vue.becc510d.js";import{a as T,b as y,_ as b,g as a,o as C,c as D,e as t,d as e,h as n,i as k,f as $,t as S,u as K}from"./entry.4de71976.js";import{_ as R}from"./OutlinedButton.17a6425f.js";import{e as B,d as O}from"./constants.21d45e56.js";import{S as I}from"./stock.07f26c58.js";import{r as V}from"./XMarkIcon.71885131.js";import{r as z}from"./UserIcon.0fdc638a.js";import{r as G,a as H,h as J}from"./fetch.bfb1bb55.js";import{r as X}from"./ArrowDownTrayIcon.b003e3b3.js";import{r as L}from"./ArrowUturnLeftIcon.15bb7976.js";import{S as F,h as M,U,G as j,V as P}from"./transition.9533f77f.js";import{_ as Q}from"./SearchBar.d9c93c77.js";import{r as W,a as A}from"./PencilSquareIcon.aafc535d.js";import{_ as q}from"./city.c2237e24.js";import{r as Y}from"./TrashIcon.5534a06a.js";import{_ as Z}from"./Datatable.f8e8f287.js";import{P as ee}from"./package.ff8ec66d.js";import"./nuxt-link.d2a17216.js";import"./HomeIcon.b89edfca.js";import"./PrinterIcon.b492aebf.js";import"./hidden.08e3289b.js";import"./Loader.1b523c4e.js";const te={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V,UserIcon:z},data(){return{open:!1,addIcon:G,saveIcon:X,clearIcon:L,loading:!1,name:"",address:"",cookie:T("token")}},methods:{async submitForm(){this.loading=!0;const u=new I;let s={name:this.name,address:this.address};const{data:i,error:c,pending:o}=await u.createStockSupplier(`${this.cookie}`,s);this.loading=o,i.value&&(this.handleClick(),y().$toast.success(`${this.name} stock supplier created successfully!`),this.loading=!1,this.address="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(B),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),se={class:"fixed inset-0 overflow-y-auto"},ae={class:"flex min-h-full items-center justify-center p-4 text-center"},ne={class:"border-b px-3 py-3 flex items-center justify-between"},le={class:"mt-2 space-y-3"},ie={class:"w-full flex items-center px-5"},ce={class:"w-full flex flex-col space-y-2"},re={class:"w-full flex items-center px-5 space-x-3"},de={class:"w-full flex flex-col space-y-2"},ue={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function me(u,s,i,c,o,l){const m=$,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("FormKit"),f=R,v=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[t("div",null,[e(m,{text:"Add supplier",color:"primary",icon:o.addIcon,click:l.handleClick},null,8,["icon","click"])]),e(w,{appear:"",show:o.open,as:"template"},{default:n(()=>[e(p,{as:"div",onClose:l.handleClick,class:"relative z-10"},{default:n(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[oe]),_:1}),t("div",se,[t("div",ae,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[e(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[t("div",ne,[e(h,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[k(" Create stock supplier ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...g)=>l.handleClick&&l.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(d,{type:"form","submit-label":"Update",onSubmit:l.submitForm,actions:!1,id:"submitForm"},{default:n(({value:g})=>[t("div",le,[t("div",ie,[t("div",ce,[e(d,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":s[1]||(s[1]=_=>o.name=_)},null,8,["modelValue"])])]),t("div",re,[t("div",de,[e(d,{type:"textarea",label:"Address",validation:"required",modelValue:o.address,"onUpdate:modelValue":s[2]||(s[2]=_=>o.address=_)},null,8,["modelValue"])])])]),t("div",ue,[e(f,{type:"button",click:()=>{l.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const pe=b(te,[["render",me]]),_e={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V},data(){return{viewIcon:W,show:!1,editIcon:A}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},fe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),he={class:"fixed inset-0 overflow-y-auto"},xe={class:"flex min-h-full items-center justify-center p-4 text-center"},ve={class:"border-b px-3 py-3 flex items-center justify-between"},ge=t("img",{src:q,class:"w-8 h-8 mr-2"},null,-1),ke={class:"space-y-3 px-5 py-5"},ye={class:"w-full flex flex-col space-y-1"},we=t("label",{class:"font-semibold text-lg"},"Name",-1),be={class:"w-full flex flex-col space-y-1"},Ce=t("label",{class:"font-semibold text-lg"},"Address",-1);function De(u,s,i,c,o,l){const m=$,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("DialogPanel"),f=a("Dialog"),v=a("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{l.handleClick()},color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(v,{appear:"",show:o.show,as:"template"},{default:n(()=>[e(f,{as:"div",class:"relative z-10"},{default:n(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[fe]),_:1}),t("div",he,[t("div",xe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[e(d,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[t("div",ve,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[ge,k(" View Stock Supplier ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...p)=>l.handleClick&&l.handleClick(...p))},[e(x,{class:"w-5 h-5"})])]),t("div",ke,[t("div",ye,[we,t("p",null,S(i.data.name),1)]),t("div",be,[Ce,t("p",null,S(i.data.address),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Se=b(_e,[["render",De]]),Te={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V},data(){return{editIcon:A,show:!1,saveIcon:X,name:"",address:"",loading:!1,cookie:T("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick(),this.name=this.data.name,this.address=this.data.address},async submitForm(){this.loading=!0;const u=new I;let s={id:this.data.id,name:this.name,address:this.address};const{data:i,error:c,pending:o}=await u.updateStockSupplier(`${this.cookie}`,s);this.loading=o,i.value&&(this.handleClick(),y().$toast.success(`${this.name} stock supplier updated successfully!`),this.loading=!1,this.address="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(B),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},$e=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ie={class:"fixed inset-0 overflow-y-auto"},Ve={class:"flex min-h-full items-center justify-center p-4 text-center"},Fe={class:"border-b px-3 py-3 flex items-center justify-between"},Me=t("img",{src:q,class:"w-8 h-8 mr-2"},null,-1),Ue={class:"mt-2 space-y-3"},je={class:"w-full flex items-center px-5"},Pe={class:"w-full flex flex-col space-y-2"},Re={class:"w-full flex items-center px-5 space-x-3"},Be={class:"w-full flex flex-col space-y-2"},Xe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ae(u,s,i,c,o,l){const m=$,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("FormKit"),f=R,v=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{l.init()},text:"Edit",color:"success",icon:o.editIcon},null,8,["click","icon"]),e(w,{appear:"",show:o.show,as:"template"},{default:n(()=>[e(p,{as:"div",class:"relative z-10"},{default:n(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[$e]),_:1}),t("div",Ie,[t("div",Ve,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[e(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[t("div",Fe,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[Me,k(" Edit Stock Supplier ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...g)=>l.handleClick&&l.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(d,{type:"form",id:"editForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:n(({value:g})=>[t("div",Ue,[t("div",je,[t("div",Pe,[e(d,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":s[1]||(s[1]=_=>o.name=_)},null,8,["modelValue"])])]),t("div",Re,[t("div",Be,[e(d,{type:"textarea",label:"Address",validation:"required",modelValue:o.address,"onUpdate:modelValue":s[2]||(s[2]=_=>o.address=_)},null,8,["modelValue"])])])]),t("div",Xe,[e(f,{type:"button",click:()=>{l.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const qe=b(Te,[["render",Ae]]),Ne={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V,ExclamationTriangleIcon:H},data(){return{show:!1,deleteIcon:Y,loading:!1,reason:"",cookie:T("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(u){this.loading=!0;const s=new I,{data:i,error:c,pending:o}=await s.voidStockSupplier(`${this.cookie}`,{reason:this.reason,id:u});this.loading=o,i.value&&(this.handleClick(),y().$toast.success("Stock supplier deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),y().$toast.error(B),this.loading=!1)},handleClick(){this.show=!this.show}}},Ee=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ke={class:"fixed inset-0 overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center p-4 text-center"},ze={class:"border-b px-3 py-3 flex items-center justify-between"},Ge={class:"mt-2 space-y-3 px-5"},He={class:"rounded px-2 py-2"},Je={class:"font-semibold text-red-500"},Le={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Qe(u,s,i,c,o,l){const m=$,r=a("TransitionChild"),h=a("ExclamationTriangleIcon"),x=a("DialogTitle"),d=a("XMarkIcon"),f=a("FormKit"),v=R,p=a("DialogPanel"),w=a("Dialog"),g=a("TransitionRoot");return C(),D("div",null,[e(m,{click:l.handleClick,color:"error",text:"Delete",icon:o.deleteIcon},null,8,["click","icon"]),e(g,{appear:"",show:o.show,as:"template"},{default:n(()=>[e(w,{as:"div",class:"relative z-10"},{default:n(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Ee]),_:1}),t("div",Ke,[t("div",Oe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[e(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[t("div",ze,[e(x,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[e(h,{class:"h-5 w-5 mr-2"}),k(" Confirm delete ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(..._)=>l.handleClick&&l.handleClick(..._))},[e(d,{class:"w-5 h-5"})])]),e(f,{type:"form","submit-label":"Update",onSubmit:s[2]||(s[2]=_=>l.voidStockSupplier(i.data.id)),actions:!1},{default:n(({value:_})=>[t("div",Ge,[t("div",He,[k(" Do you really want to delete "),t("span",Je,S(i.data.name),1),k("? Note that once this action is completed, it can not be undone ")]),e(f,{type:"textarea",label:"Reason",validation:"required",modelValue:o.reason,"onUpdate:modelValue":s[1]||(s[1]=N=>o.reason=N)},null,8,["modelValue"])]),t("div",Le,[e(v,{click:()=>{l.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"error",icon:o.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const We=b(Ne,[["render",Qe]]),Ye={setup(){K({title:`${ee.name.toUpperCase()} - Stock Suppliers`})},data(){return{header:"Stock Suppliers",search:"",pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"address",value:"address"},{text:"actions",value:"actions"}],suppliers:new Array,loading:!1,cookie:T("token")}},created(){this.init()},methods:{async init(){this.loading=!0;const u=new I,{data:s,error:i,pending:c}=await u.getStockSupplier(`${this.cookie}`);this.loading=c,s.value&&(this.suppliers=s.value.filter(o=>({...o,created_date:J(o.created_date).format(O)})),this.loading=!1),i.value&&(console.error(i.value),this.loading=!1)}}},Ze={class:"px-5 py-5"},et={class:"flex items-center justify-between py-5"},tt={class:"text-2xl font-semibold"},ot={class:"flex items-center space-x-3"},st={class:"flex items-center justify-end py-5"},at={class:"py-2 flex items-center space-x-2"};function nt(u,s,i,c,o,l){const m=E,r=pe,h=Q,x=Se,d=qe,f=We,v=Z;return C(),D("div",Ze,[e(m,{pages:o.pages},null,8,["pages"]),t("div",et,[t("h3",tt,S(o.header),1),t("div",ot,[e(r,{onUpdate:l.init},null,8,["onUpdate"])])]),t("div",st,[e(h,{search:o.search},null,8,["search"])]),t("div",null,[e(v,{headers:o.headers,data:o.suppliers,loading:o.loading},{actions:n(({item:p})=>[t("div",at,[e(x,{data:p},null,8,["data"]),e(d,{data:p,onUpdate:l.init},null,8,["data","onUpdate"]),e(f,{data:p,onUpdate:l.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading"])])])}const $t=b(Ye,[["render",nt]]);export{$t as default};
