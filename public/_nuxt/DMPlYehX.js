import{_ as N}from"./D2iAdfOK.js";import{S as T,p as S,Y as I,G as $,V as M,q as U,s as q,a as F,u as y,E as V,x as b,y as a,b as C,e as D,g as o,f as e,z as i,j as k,_ as j,A as K,B as A,t as P,D as z,C as G,O as H}from"./CpqwsBCr.js";import{_ as B}from"./BeBt5uam.js";import{S as R}from"./CtqoTdWc.js";import{r as Y}from"./pZMJ6Qi7.js";import{r as E}from"./DgbeGPrl.js";import{r as J}from"./C0WmLC-R.js";import{_ as L}from"./BBzQqOzR.js";import{_ as X}from"./CaB7BVGy.js";import{r as Q}from"./BwGPq-ZM.js";import{_ as W}from"./DFbPGSN_.js";import{P as Z}from"./CejigzqB.js";import{u as ee}from"./3Owfe8OW.js";import"./C1gcPR4j.js";import"./DicwA20n.js";import"./CX_spC93.js";const te={components:{TransitionRoot:T,TransitionChild:S,Dialog:I,DialogPanel:$,DialogTitle:M,XMarkIcon:U,UserIcon:Y},data(){return{open:!1,addIcon:q,saveIcon:E,clearIcon:J,loading:!1,name:"",description:"",cookie:F("token")}},methods:{async submitForm(){this.loading=!0;const d=new R;let t={name:this.name};const{data:c,error:l,pending:n}=await d.createStockUnit(`${this.cookie}`,t);this.loading=n,c.value&&(this.handleClick(),y().$toast.success(`${this.name} stock metric created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),l.value&&(this.handleClick(),console.error(l.value),y().$toast.error(V),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe={class:"fixed inset-0 overflow-y-auto"},ne={class:"flex min-h-full items-center justify-center p-4 text-center"},ae={class:"border-b px-3 py-3 flex items-center justify-between"},ie={class:"mt-2 space-y-3"},se={class:"w-full flex items-center px-5"},le={class:"w-full flex flex-col space-y-2"},ce={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function re(d,t,c,l,n,s){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("FormKit"),_=B,x=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[o("div",null,[e(m,{text:"Add metric",color:"primary",icon:n.addIcon,click:s.handleClick},null,8,["icon","click"])]),e(w,{appear:"",show:n.open,as:"template"},{default:i(()=>[e(p,{as:"div",onClose:s.handleClick,class:"relative z-10"},{default:i(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>t[2]||(t[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",oe,[o("div",ne,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(x,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",ae,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:i(()=>t[3]||(t[3]=[k(" Create Stock Metric ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form","submit-label":"Update",onSubmit:s.submitForm,actions:!1,id:"submitForm"},{default:i(({value:g})=>[o("div",ie,[o("div",se,[o("div",le,[e(u,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=v=>n.name=v)},null,8,["modelValue"])])])]),o("div",ce,[e(_,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const de=b(te,[["render",re]]),me={components:{TransitionRoot:T,TransitionChild:S,Dialog:I,DialogPanel:$,DialogTitle:M,XMarkIcon:U},data(){return{viewIcon:K,show:!1,editIcon:A}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},_e={class:"border-b px-3 py-3 flex items-center justify-between"},fe={class:"space-y-3 px-5 py-5"},he={class:"w-full flex flex-col space-y-1"};function xe(d,t,c,l,n,s){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("DialogPanel"),_=a("Dialog"),x=a("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{s.handleClick()},color:"primary",text:"View",icon:n.viewIcon},null,8,["click","icon"]),e(x,{appear:"",show:n.show,as:"template"},{default:i(()=>[e(_,{as:"div",class:"relative z-10"},{default:i(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>t[1]||(t[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ue,[o("div",pe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",_e,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>t[2]||(t[2]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" View Stock Metric ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...p)=>s.handleClick&&s.handleClick(...p))},[e(h,{class:"w-5 h-5"})])]),o("div",fe,[o("div",he,[t[3]||(t[3]=o("label",{class:"font-semibold text-lg"},"Name",-1)),o("p",null,P(c.data.name),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ge=b(me,[["render",xe]]),ve={components:{TransitionRoot:T,TransitionChild:S,Dialog:I,DialogPanel:$,DialogTitle:M,XMarkIcon:U},data(){return{editIcon:A,show:!1,saveIcon:E,name:"",loading:!1,cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick(),this.name=this.data.name},async submitForm(){this.loading=!0;const d=new R;let t={id:this.data.id,name:this.name};const{data:c,error:l,pending:n}=await d.updateStockUnit(`${this.cookie}`,t);this.loading=n,c.value&&(this.handleClick(),y().$toast.success(`${this.name} stock supplier created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),l.value&&(this.handleClick(),console.error(l.value),y().$toast.error(V),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},ke={class:"fixed inset-0 overflow-y-auto"},ye={class:"flex min-h-full items-center justify-center p-4 text-center"},we={class:"border-b px-3 py-3 flex items-center justify-between"},be={class:"mt-2 space-y-3"},Ce={class:"w-full flex items-center px-5"},De={class:"w-full flex flex-col space-y-2"},Te={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Se(d,t,c,l,n,s){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("FormKit"),_=B,x=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{s.init()},text:"Edit",color:"success",icon:n.editIcon},null,8,["click","icon"]),e(w,{appear:"",show:n.show,as:"template"},{default:i(()=>[e(p,{as:"div",class:"relative z-10"},{default:i(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>t[2]||(t[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ke,[o("div",ye,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(x,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",we,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>t[3]||(t[3]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" Edit Stock Supplier ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form",id:"editForm","submit-label":"Update",onSubmit:s.submitForm,actions:!1},{default:i(({value:g})=>[o("div",be,[o("div",Ce,[o("div",De,[e(u,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=v=>n.name=v)},null,8,["modelValue"])])])]),o("div",Te,[e(_,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ie=b(ve,[["render",Se]]),$e={components:{TransitionRoot:T,TransitionChild:S,Dialog:I,DialogPanel:$,DialogTitle:M,XMarkIcon:U,ExclamationTriangleIcon:z},data(){return{show:!1,deleteIcon:Q,loading:!1,reason:"",cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(d){this.loading=!0;const t=new R,{data:c,error:l,pending:n}=await t.voidStockUnit(`${this.cookie}`,{reason:this.reason,id:d});this.loading=n,c.value&&(this.handleClick(),y().$toast.success("Stock category deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),l.value&&(console.error(l.value),y().$toast.error(V),this.loading=!1)},handleClick(){this.show=!this.show}}},Me={class:"fixed inset-0 overflow-y-auto"},Ue={class:"flex min-h-full items-center justify-center p-4 text-center"},Fe={class:"border-b px-3 py-3 flex items-center justify-between"},je={class:"mt-2 space-y-3 px-5"},Re={class:"rounded px-2 py-2"},Ve={class:"font-semibold text-red-500"},Pe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Be(d,t,c,l,n,s){const m=j,r=a("TransitionChild"),f=a("ExclamationTriangleIcon"),h=a("DialogTitle"),u=a("XMarkIcon"),_=a("FormKit"),x=B,p=a("DialogPanel"),w=a("Dialog"),g=a("TransitionRoot");return C(),D("div",null,[e(m,{click:s.handleClick,color:"error",text:"Delete",icon:n.deleteIcon},null,8,["click","icon"]),e(g,{appear:"",show:n.show,as:"template"},{default:i(()=>[e(w,{as:"div",class:"relative z-10"},{default:i(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>t[3]||(t[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Me,[o("div",Ue,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",Fe,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>[e(f,{class:"h-5 w-5 mr-2"}),t[4]||(t[4]=k(" Confirm delete "))]),_:1}),o("button",{onClick:t[0]||(t[0]=(...v)=>s.handleClick&&s.handleClick(...v))},[e(u,{class:"w-5 h-5"})])]),e(_,{type:"form","submit-label":"Update",onSubmit:t[2]||(t[2]=v=>s.voidStockSupplier(c.data.id)),actions:!1},{default:i(({value:v})=>[o("div",je,[o("div",Re,[t[5]||(t[5]=k(" Do you really want to delete ")),o("span",Ve,P(c.data.name),1),t[6]||(t[6]=k("? Note that once this action is completed, it can not be undone "))]),e(_,{type:"textarea",label:"Reason",validation:"required",modelValue:n.reason,"onUpdate:modelValue":t[1]||(t[1]=O=>n.reason=O)},null,8,["modelValue"])]),o("div",Pe,[e(x,{click:()=>{s.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"error",icon:n.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ae=b($e,[["render",Be]]),Ee={setup(){ee({title:`${Z.name.toUpperCase()} - Stock Metrics`})},data(){return{header:"Stock Metrics",cookie:F("token"),search:"",loading:!1,headers:[{text:"name",value:"name",sortable:!0},{text:"date created",value:"created_date"},{text:"actions",value:"actions"}],metrics:new Array,pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}]}},created(){this.init()},methods:{async init(){this.loading=!0;const d=new R,{data:t,pending:c,error:l}=await d.getStockUnit(`${this.cookie}`);this.loading=c,t.value&&(this.metrics=t.value.map(n=>({...n,created_date:G(n.created_date).format(H)})),this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}}},Xe={class:"px-5 py-5"},Oe={class:"flex items-center justify-between py-5"},Ne={class:"text-2xl font-semibold"},qe={class:"flex items-center justify-end py-5"},Ke={class:"py-2 flex items-center space-x-2"};function ze(d,t,c,l,n,s){const m=N,r=de,f=L,h=ge,u=Ie,_=Ae,x=W;return C(),D("div",Xe,[e(m,{pages:n.pages},null,8,["pages"]),o("div",Oe,[o("h3",Ne,P(n.header),1),e(r,{onUpdate:s.init},null,8,["onUpdate"])]),o("div",qe,[e(f,{search:n.search},null,8,["search"])]),o("div",null,[e(x,{headers:n.headers,data:n.metrics,loading:n.loading},{actions:i(({item:p})=>[o("div",Ke,[e(h,{data:p,onUpdate:s.init},null,8,["data","onUpdate"]),e(u,{data:p,onUpdate:s.init},null,8,["data","onUpdate"]),e(_,{data:p,onUpdate:s.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading"])])])}const ct=b(Ee,[["render",ze]]);export{ct as default};
