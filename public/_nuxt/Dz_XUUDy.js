import{C as pt,A as _t,p as vt,a as ft,P as gt}from"./DKoFedlh.js";import{b as r,e as d,g as t,s as O,x as _,H as F,P as it,z as Q,Q as lt,I as q,j as y,t as u,f as i,y as m,T as X,J as Z,C as M,i as S,v as R,d as N,a as G,L as W,R as ht,r as E,c as yt,w as rt,o as dt,F as A,k as T,h as b,l as Y,m as tt,_ as et,U as ct,W as J,X as xt,K as bt}from"./Dq6GAKbi.js";import{g as st,b as nt,M as ot,S as at,r as ut}from"./CPDGOL5l.js";import{r as wt}from"./EXcEevOM.js";import{r as Ct}from"./-0aQroE5.js";import{_ as Mt}from"./cien4RO4.js";import{_ as U}from"./CCv5i2WQ.js";import{_ as kt}from"./DtWROlmf.js";import{_ as $t}from"./Cl1Pa16j.js";import{u as Vt}from"./B9wtpvPg.js";import{_ as Ht}from"./k8KgKHpS.js";import{_ as Lt}from"./BBIgpWSn.js";import{_ as Zt}from"./BaJf9vfg.js";import{_ as It}from"./quWe4lpW.js";import{u as At}from"./DausA3Fa.js";import{r as Tt}from"./B-Z5sfJU.js";import{r as Dt}from"./BHu9M65u.js";import{P as Bt}from"./Cym2IAMG.js";import{u as jt}from"./B-asOVRT.js";import"./Bzq-bUMT.js";import"./B9U-_Lex.js";import"./Cu8fGwMK.js";import"./BrH0U_CL.js";function Pt(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z","clip-rule":"evenodd"}),t("path",{"fill-rule":"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z","clip-rule":"evenodd"})])}function St(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M10.5 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm0 6a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z","clip-rule":"evenodd"})])}pt.register(_t,vt,ft);const Rt={components:{Pie:gt},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}}};function Et(l,e,a,s,n,o){const g=_("Pie");return r(),F(g,{data:n.data,options:n.options},null,8,["data","options"])}const Ft=O(Rt,[["render",Et]]),Nt={components:{EllipsisVerticalIcon:St,Menu:st,MenuItem:nt,MenuItems:ot,MenuButton:at,ChartPieIcon:Pt,DocumentTextIcon:wt},props:{data:{required:!0,type:Object}},data(){return{viewChart:!1,applyIcon:Ct,from:"",to:""}},created(){this.formatDateRanges()},methods:{getColor(l){return it(l)},proccessedAnalyticsData(){var l,e,a,s,n,o;return{labels:["Not Received","Pending","Started","Completed","Verified","Rejected"],datasets:[{backgroundColor:["#ec4899","#0ea5e9","#f59e0b","#22c55e","#047857","#dc2626"],data:[(l=this.data)==null?void 0:l.tests_by_status["not-received"],(e=this.data)==null?void 0:e.tests_by_status.pending,(a=this.data)==null?void 0:a.tests_by_status.started,(s=this.data)==null?void 0:s.tests_by_status.completed,(n=this.data)==null?void 0:n.tests_by_status.verified,(o=this.data)==null?void 0:o.tests_by_status.rejected]}]}},formatDateRanges(){var n,o;const e=Q().format(lt),s=Q().subtract(30,"days").format(lt);this.from=((n=this.data)==null?void 0:n.from)||s,this.to=((o=this.data)==null?void 0:o.to)||e},navigateFilterTests(l,e,a){this.$router.push(`/tests?from=${e}&to=${a}&status=${l}`)},getDepartment(){const{department:l}=q();return l=="Lab Reception"?"All":l}}},zt={key:0,class:"border rounded col-span-1"},Ot={class:"flex rounded-t items-center justify-between bg-gray-50 px-2 py-2 border-b"},qt={class:"text-xl font-semibold"},Gt={class:"text-base font-medium"},Ut={class:"px-1 py-1"},Kt={class:"flex items-center space-x-2 px-5 py-2"},Jt={class:"w-full px-5 py-2 space-y-2"},Qt={class:"flex items-center justify-between"},Wt={class:"flex items-center justify-between"},Xt={class:"flex items-center space-x-2"},Yt={class:"flex items-center justify-between"},te={class:"flex items-center space-x-2"},ee={class:"flex items-center justify-between"},se={class:"flex items-center space-x-2"},ne={class:"flex items-center justify-between"},oe={class:"flex items-center space-x-2"},ae={key:0};function le(l,e,a,s,n,o){var c,x,p,C,V,D,I,B,j,P;const g=_("EllipsisVerticalIcon"),w=_("MenuButton"),k=_("DocumentTextIcon"),v=_("ChartPieIcon"),h=_("MenuItem"),$=_("MenuItems"),H=_("Menu"),f=Ft;return a.data.tests_by_status?(r(),d("div",zt,[t("div",null,[t("div",Ot,[t("h3",qt,[e[7]||(e[7]=y(" Tests ")),t("span",Gt,"(Past 30 Days - "+u(o.getDepartment())+")",1)]),i(H,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:m(()=>[i(w,null,{default:m(()=>[i(g,{class:"w-6 h-6"})]),_:1}),i(X,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:m(()=>[i($,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:m(()=>[t("div",Ut,[i(h,null,{default:m(({active:L})=>[t("button",{onClick:e[0]||(e[0]=K=>n.viewChart=!n.viewChart),class:Z([L?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[n.viewChart?(r(),F(k,{key:0,class:"w-5 h-5 mr-2"})):M("",!0),n.viewChart?M("",!0):(r(),F(v,{key:1,class:"w-5 h-5 mr-2"})),y(" "+u(n.viewChart?"View summary":"View as Pie Chart"),1)],2)]),_:1})])]),_:1})]),_:1})]),_:1})]),S(t("div",null,[t("div",Kt,[e[8]||(e[8]=t("img",{src:Mt,alt:"clinical-fe-icon"},null,-1)),((c=a.data)==null?void 0:c.tests)!==null&&((x=a.data)==null?void 0:x.tests)!==void 0?(r(),d("h3",{key:0,class:"text-3xl hover:text-sky-500 transition duration-150 font-semibold hover:underline cursor-pointer",onClick:e[1]||(e[1]=L=>o.navigateFilterTests("",n.from,n.to))},u((p=a.data)==null?void 0:p.tests.toLocaleString()),1)):M("",!0)]),t("div",Jt,[t("div",Qt,[e[9]||(e[9]=t("div",{class:"flex items-center space-x-2"},[t("div",{class:"w-3 h-3 rounded-full bg-sky-500"}),t("h3",{class:"font-medium"},"Pending")],-1)),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:e[2]||(e[2]=L=>o.navigateFilterTests("pending",n.from,n.to))},u((C=a.data)!=null&&C.tests_by_status.pending?(V=a.data)==null?void 0:V.tests_by_status.pending:0),1)]),t("div",Wt,[t("div",Xt,[t("div",{class:Z(["bg-amber-500","w-3 h-3 rounded-full"])}),e[10]||(e[10]=t("h3",{class:"font-medium"},"Started",-1))]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:e[3]||(e[3]=L=>o.navigateFilterTests("started",n.from,n.to))},u((D=a.data)==null?void 0:D.tests_by_status.started),1)]),t("div",Yt,[t("div",te,[t("div",{class:Z(["bg-green-500","w-3 h-3 rounded-full"])}),e[11]||(e[11]=t("h3",{class:"font-medium"},"Completed",-1))]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:e[4]||(e[4]=L=>o.navigateFilterTests("completed",n.from,n.to))},u((I=a.data)==null?void 0:I.tests_by_status.completed),1)]),t("div",ee,[t("div",se,[t("div",{class:Z(["bg-emerald-700","w-3 h-3 rounded-full"])}),e[12]||(e[12]=t("h3",{class:"font-medium"},"Verified",-1))]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:e[5]||(e[5]=L=>o.navigateFilterTests("verified",n.from,n.to))},u((B=a.data)==null?void 0:B.tests_by_status.verified),1)]),t("div",ne,[t("div",oe,[t("div",{class:Z(["bg-red-600","w-3 h-3 rounded-full"])}),e[13]||(e[13]=t("h3",{class:"font-medium"},"Rejected",-1))]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:e[6]||(e[6]=L=>o.navigateFilterTests("rejected",n.from,n.to))},u((j=a.data)==null?void 0:j.tests_by_status.rejected),1)])])],512),[[R,!n.viewChart]])]),((P=a.data)==null?void 0:P.tests_by_status.data)!==0&&n.viewChart?(r(),d("div",ae,[i(f,{chartData:o.proccessedAnalyticsData()},null,8,["chartData"])])):M("",!0)])):M("",!0)}const ie=O(Nt,[["render",le]]),re="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M13.0193%2011.9846C13.0768%2011.2752%2013.2616%2010.6012%2013.5512%209.98462H6V12.4662L10%2015.4969V42.0154H38V15.5321L42.5%2012.5014V9.98462H24.4488C24.7384%2010.6012%2024.9232%2011.2752%2024.9807%2011.9846H39.687L36%2014.4678V40.0154H12V14.5031L8.67616%2011.9846H13.0193Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%2013.75L7.5%2010.5H13.25L16.5%2017H21L24.5%2010.5H41L38%2014.5V41H34V24H26V41H10V13.75ZM14%2024H21V31H14V24Z'%20fill='%23333333'/%3e%3cpath%20d='M6%2041C6%2041.5523%206.44772%2042%207%2042H41C41.5523%2042%2042%2041.5523%2042%2041C42%2040.4477%2041.5523%2040%2041%2040H7C6.44772%2040%206%2040.4477%206%2041Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M25%2012C25%2015.3137%2022.3137%2018%2019%2018C15.6863%2018%2013%2015.3137%2013%2012C13%208.68629%2015.6863%206%2019%206C22.3137%206%2025%208.68629%2025%2012ZM20%209V11H22V13H20V15H18V13H16V11H18V9H20Z'%20fill='%23333333'/%3e%3c/svg%3e",de={class:"border rounded"},ce={class:"px-3 py-3 space-y-4"},ue={class:"flex items-center space-x-5"},me={class:"text-3xl font-bold"},pe={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},_e={class:"flex items-center space-x-5"},ve={class:"text-3xl font-bold"},fe={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},ge={class:"flex items-center space-x-5"},he={class:"text-3xl font-bold"},ye={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},xe=N({__name:"lab-configuration",props:{data:{required:!0,type:Object}},setup(l){const e=l;return(a,s)=>{var o,g,w;const n=U;return r(),d("div",de,[t("div",null,[s[6]||(s[6]=t("div",{class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},[t("h3",null,[y("Lab Configuration "),t("span",{class:"text-base font-medium"},"(All)")])],-1)),t("div",ce,[t("div",ue,[s[1]||(s[1]=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:kt,class:"w-8 h-8"})],-1)),t("p",me,[y(u((o=e.data)==null?void 0:o.instruments),1),t("span",pe,[i(n,{to:"/lab-configuration/instruments"},{default:m(()=>s[0]||(s[0]=[y("instruments")])),_:1})])])]),t("div",_e,[s[3]||(s[3]=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:$t,class:"w-8 h-8"})],-1)),t("p",ve,[y(u((g=e.data)==null?void 0:g.facilities),1),t("span",fe,[i(n,{to:"/lab-configuration/facilities"},{default:m(()=>s[2]||(s[2]=[y("facilities")])),_:1})])])]),t("div",ge,[s[5]||(s[5]=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:re,class:"w-8 h-8"})],-1)),t("p",he,[y(u((w=e.data)==null?void 0:w.wards),1),t("span",ye,[i(n,{to:"/lab-configuration/facility-wards"},{default:m(()=>s[4]||(s[4]=[y("wards")])),_:1})])])])])])])}}});function be(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M5.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H6a.75.75 0 0 1-.75-.75V12ZM6 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H6ZM7.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H8a.75.75 0 0 1-.75-.75V12ZM8 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H8ZM9.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V10ZM10 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H10ZM9.25 14a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H10a.75.75 0 0 1-.75-.75V14ZM12 9.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V10a.75.75 0 0 0-.75-.75H12ZM11.25 12a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H12a.75.75 0 0 1-.75-.75V12ZM12 13.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V14a.75.75 0 0 0-.75-.75H12ZM13.25 10a.75.75 0 0 1 .75-.75h.01a.75.75 0 0 1 .75.75v.01a.75.75 0 0 1-.75.75H14a.75.75 0 0 1-.75-.75V10ZM14 11.25a.75.75 0 0 0-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 0 0 .75-.75V12a.75.75 0 0 0-.75-.75H14Z"}),t("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})])}function we(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z","clip-rule":"evenodd"})])}function Ce(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M15.5 2A1.5 1.5 0 0 0 14 3.5v13a1.5 1.5 0 0 0 1.5 1.5h1a1.5 1.5 0 0 0 1.5-1.5v-13A1.5 1.5 0 0 0 16.5 2h-1ZM9.5 6A1.5 1.5 0 0 0 8 7.5v9A1.5 1.5 0 0 0 9.5 18h1a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 10.5 6h-1ZM3.5 10A1.5 1.5 0 0 0 2 11.5v5A1.5 1.5 0 0 0 3.5 18h1A1.5 1.5 0 0 0 6 16.5v-5A1.5 1.5 0 0 0 4.5 10h-1Z"})])}function mt(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})])}function Me(l,e){return r(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{d:"M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z"})])}const ke={components:{EllipsisVerticalIcon:mt,Menu:st,MenuItem:nt,MenuItems:ot,MenuButton:at,UserGroupIcon:Me,DocumentTextIcon:ut},props:{data:{required:!0,type:Object}},data(){return{cookie:G("token")}},methods:{getPercentage(l,e){return e==0?0:Math.round(l/e*100)}}},$e="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%2016.5C18%2018.9862%2015.9862%2021%2013.5%2021C11.0138%2021%209%2018.9862%209%2016.5C9%2014.0138%2011.0138%2012%2013.5%2012C15.9862%2012%2018%2014.0138%2018%2016.5Z'%20fill='%23333333'/%3e%3cpath%20d='M4%2028.3333C4%2024.7867%2010.3294%2023%2013.5%2023C16.6706%2023%2023%2024.7867%2023%2028.3333V36H4V28.3333Z'%20fill='%23333333'/%3e%3cpath%20d='M39%2016.5C39%2018.9862%2036.9863%2021%2034.5%2021C32.0138%2021%2030%2018.9862%2030%2016.5C30%2014.0138%2032.0138%2012%2034.5%2012C36.9863%2012%2039%2014.0138%2039%2016.5Z'%20fill='%23333333'/%3e%3cpath%20d='M27%2015C27%2016.6575%2025.6575%2018%2024%2018C22.3425%2018%2021%2016.6575%2021%2015C21%2013.3425%2022.3425%2012%2024%2012C25.6575%2012%2027%2013.3425%2027%2015Z'%20fill='%23333333'/%3e%3cpath%20d='M25%2028.3333C25%2024.7867%2031.3294%2023%2034.5%2023C37.6706%2023%2044%2024.7867%2044%2028.3333V36H25V28.3333Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M28.7508%2022.185C28.4839%2022.2831%2028.2206%2022.3873%2027.9625%2022.4975C26.7914%2022.998%2025.6088%2023.6741%2024.69%2024.5785C24.444%2024.8208%2024.2105%2025.0864%2024%2025.375C23.7895%2025.0864%2023.556%2024.8208%2023.3099%2024.5785C22.3912%2023.6741%2021.2085%2022.998%2020.0374%2022.4975C19.7794%2022.3873%2019.5161%2022.2831%2019.2491%2022.185C20.7717%2021.3961%2022.7298%2021%2024%2021C25.2701%2021%2027.2282%2021.3961%2028.7508%2022.185Z'%20fill='%23333333'/%3e%3c/svg%3e",Ve={class:"border rounded"},He={class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},Le={class:"py-1 border-y"},Ze={class:""},Ie={class:"flex items-center space-x-2 px-2 py-2"},Ae={key:0,class:"px-5"},Te={class:"w-full flex items-center"},De={class:"mt-2"},Be={class:"flex items-center space-x-2"},je={class:"flex items-center space-x-2"};function Pe(l,e,a,s,n,o){var c,x,p,C,V,D,I,B,j,P,L,K;const g=_("EllipsisVerticalIcon"),w=_("MenuButton"),k=_("UserGroupIcon"),v=U,h=_("MenuItem"),$=_("DocumentTextIcon"),H=_("MenuItems"),f=_("Menu");return r(),d("div",Ve,[t("div",null,[t("div",He,[e[3]||(e[3]=t("h3",null,[y("Patients "),t("span",{class:"text-base font-medium"},"(All)")],-1)),i(f,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:m(()=>[i(w,null,{default:m(()=>[i(g,{class:"w-5 h-5"})]),_:1}),i(X,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:m(()=>[i(H,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:m(()=>[t("div",Le,[i(h,null,{default:m(({active:z})=>[i(v,{to:"/patients"},{default:m(()=>[t("button",{class:Z([z?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[i(k,{class:"w-5 h-5 mr-2"}),e[1]||(e[1]=y(" View Patients "))],2)]),_:2},1024)]),_:1}),i(h,null,{default:m(({active:z})=>[i(v,{to:"/reports/daily/patient-report"},{default:m(()=>[t("button",{class:Z([z?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[i($,{class:"w-5 h-5 mr-2"}),e[2]||(e[2]=y(" Generate Reports "))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),t("div",Ze,[t("div",Ie,[e[4]||(e[4]=t("img",{src:$e},null,-1)),((c=a.data)==null?void 0:c.clients)!==null&&((x=a.data)==null?void 0:x.clients)!==void 0?(r(),d("h3",{key:0,onClick:e[0]||(e[0]=z=>l.$router.push("/patients")),class:"text-2xl font-semibold hover:text-sky-500 cursor-pointer hover:underline transition duration-150"},u((p=a.data)==null?void 0:p.clients.toLocaleString()),1)):M("",!0)]),((C=a.data)==null?void 0:C.clients)>0?(r(),d("div",Ae,[e[7]||(e[7]=t("h3",{class:"mb-2 font-medium"},"By Gender",-1)),t("div",Te,[t("div",{style:W({width:o.getPercentage((V=a.data)==null?void 0:V.by_sex.M,(D=a.data)==null?void 0:D.clients)+"%"}),class:"h-4 bg-sky-500 rounded-tl-full rounded-bl-full"},null,4),t("div",{style:W({width:o.getPercentage((I=a.data)==null?void 0:I.by_sex.F,(B=a.data)==null?void 0:B.clients)+"%"}),class:"h-4 bg-green-500 rounded-br-full rounded-tr-full"},null,4)]),t("div",De,[t("div",Be,[e[5]||(e[5]=t("div",{class:"w-3 h-3 bg-sky-500 rounded-full"},null,-1)),t("p",null,u(o.getPercentage((j=a.data)==null?void 0:j.by_sex.M,(P=a.data)==null?void 0:P.clients))+"% Males ",1)]),t("div",je,[e[6]||(e[6]=t("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1)),t("p",null,u(o.getPercentage((L=a.data)==null?void 0:L.by_sex.F,(K=a.data)==null?void 0:K.clients))+"% Females ",1)])])])):M("",!0)])])])}const Se=O(ke,[["render",Pe]]),Re={class:"col-span-1 rounded border relative"},Ee={key:0},Fe={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},Ne={class:"text-lg font-semibold"},ze={class:"text-base font-medium"},Oe={class:"w-full"},qe=["onClick"],Ge={class:"px-2 py-2 capitalize flex items-center"},Ue={class:"px-2 py-2"},Ke={class:"px-2 py-2 capitalize"},Je={key:1},Qe={class:"mt-2 space-y-2 px-2"},We=N({__name:"recent-tests",setup(l){const e=ht(),a=q(),s=G("token"),n=E([]),o=E(!1),{getTestTypeDisplayName:g}=Vt(),w=yt(()=>a.department==="Lab Reception"?"All":a.department),k=f=>it(f),v=()=>{e.push("/tests")},h=f=>f.charAt(0).toUpperCase()+f.slice(1),$=(f,c)=>{const x=f.find(p=>p.name===c);return x?x.id:0},H=async()=>{o.value=!0;const f=a.user.departments.find(I=>I.name===a.department),c=f?f.id:null,x=$(a.locations.filter(I=>I.id!==void 0),a.selectedLocation),p={route:`${Y.tests}?minimal=true&page=1&per_page=9&status=&search=&department_id=${c}&lab_location=${x}&start_date=&end_date=`,method:"GET",token:`${s.value}`},{data:C,error:V,pending:D}=await tt(p);o.value=D,C.value&&(n.value=C.value.data,o.value=!1),V.value&&(console.error("recent-tests: ",V.value),o.value=!1)};return rt(()=>[a.department,a.selectedLocation],()=>{H()},{deep:!0}),dt(()=>{H()}),(f,c)=>{const x=et;return r(),d("div",Re,[o.value?M("",!0):(r(),d("div",Ee,[t("div",Fe,[t("h3",Ne,[c[0]||(c[0]=y(" Recent Tests ")),t("span",ze,"("+u(w.value)+")",1)])]),t("div",null,[t("table",Oe,[t("tbody",null,[(r(!0),d(A,null,T(n.value,(p,C)=>(r(),d("tr",{class:Z(["border-b border-dotted cursor-pointer hover:bg-sky-50 transition duration-150",C%2!==0?"bg-gray-50":""]),key:C,onClick:V=>f.$router.push(`/tests?search=${p.accession_number}`)},[t("td",Ge,[t("div",{style:W({backgroundColor:k(p.status)}),class:"w-3 h-3 rounded-full mr-2"},null,4),y(" "+u(`${h(p.client.first_name.toLowerCase())}
                ${p.client.middle_name!==null?p.client.middle_name:""} ${h(p.client.last_name.toLowerCase())}`),1)]),t("td",Ue,u(b(g)(p.test_type_name,p.test_type_preferred_name)),1),t("td",Ke,u(p.status.split("-").join(" ")),1)],10,qe))),128))])]),i(x,{click:v,text:"View tests →",color:"primary",class:"m-2 bottom-0"})])])),o.value?(r(),d("div",Je,[c[2]||(c[2]=t("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[t("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),t("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1)),t("div",Qe,[(r(),d(A,null,T(10,p=>t("div",{class:"flex items-center space-x-2",key:p},c[1]||(c[1]=[t("div",{class:"h-5 w-5 rounded-full bg-gray-100 animate-pulse"},null,-1),t("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1)]))),64))]),c[3]||(c[3]=t("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1))])):M("",!0)])}}}),Xe={components:{EllipsisVerticalIcon:mt,ChartBarIcon:Ce,Menu:st,MenuItem:nt,MenuItems:ot,MenuButton:at,DocumentTextIcon:ut,CalendarDaysIcon:be,CalendarIcon:we},data(){return{moment:Q,cookie:G("token"),clients:new Array,loading:!0}},created(){this.getClients()},methods:{async getClients(){const l=q(),e=ct(l.locations,l.selectedLocation),a={route:`${Y.clients}?page=1&per_page=9&status=&search=&start_date=&end_date=&lab_location=${e}&dashboard=true`,method:"GET",token:`${this.cookie}`},{data:s,error:n,pending:o}=await tt(a);this.loading=o,s.value&&(this.clients=s.value.clients,this.loading=!1),n.value&&(console.error(n.value),this.loading=!1)},async newOrder(l){this.$router.push(`/tests/new-test?patient_id=${l.client_id}`)}}},Ye={class:"col-span-1 rounded border relative"},t2={key:0},e2={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},s2={class:"py-1 border-y"},n2={class:""},o2={class:"w-full"},a2={class:"px-2 py-2 capitalize flex items-center"},l2={class:"px-2 py-2"},i2={class:"px-2 py-2"},r2={key:1},d2={class:"mt-2 space-y-2 px-2"};function c2(l,e,a,s,n,o){const g=_("EllipsisVerticalIcon"),w=_("MenuButton"),k=_("DocumentTextIcon"),v=U,h=_("MenuItem"),$=_("MenuItems"),H=_("Menu"),f=et;return r(),d("div",Ye,[n.loading?M("",!0):(r(),d("div",t2,[t("div",e2,[e[1]||(e[1]=t("h3",{class:"text-lg font-semibold"},[y("Recent patients "),t("span",{class:"text-base font-medium"},"(All)")],-1)),t("div",null,[i(H,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:m(()=>[i(w,null,{default:m(()=>[i(g,{class:"w-5 h-5"})]),_:1}),i(X,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:m(()=>[i($,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:m(()=>[t("div",s2,[i(h,null,{default:m(({active:c})=>[i(v,{to:"/reports/daily/patient-report"},{default:m(()=>[t("button",{class:Z([c?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[i(k,{class:"w-5 h-5 mr-2"}),e[0]||(e[0]=y(" "+u("Generate Reports")))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),t("div",n2,[t("table",o2,[t("tbody",null,[(r(!0),d(A,null,T(n.clients,(c,x)=>(r(),d("tr",{class:Z(["border-b border-dotted",x%2!==0?"bg-gray-50":""]),key:x},[t("td",a2,u(`${("capitalizeStr"in l?l.capitalizeStr:b(J))(c.first_name.toLowerCase())} ${c.middle_name!==null?("capitalizeStr"in l?l.capitalizeStr:b(J))(c.middle_name.toLowerCase()):""} ${("capitalizeStr"in l?l.capitalizeStr:b(J))(c.last_name.toLowerCase())}`),1),t("td",l2,u(n.moment(c.created_at).format("DATE_FORMAT"in l?l.DATE_FORMAT:b(xt))),1),t("td",i2,[i(f,{text:"New order →",color:"primary",click:()=>{o.newOrder(c)}},null,8,["click"])])],2))),128))])])])])),n.loading?(r(),d("div",r2,[e[3]||(e[3]=t("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[t("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),t("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1)),t("div",d2,[(r(),d(A,null,T(10,c=>t("div",{class:"flex items-center space-x-2",key:c},e[2]||(e[2]=[t("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1)]))),64))]),e[4]||(e[4]=t("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1))])):M("",!0)])}const u2=O(Xe,[["render",c2]]),m2="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M34.5%2034.5L42.7059%2032.0442L43.2941%2033.9557L33.5%2037L34.5%2034.5Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M37%2021C36.4477%2021%2036%2020.5523%2036%2020V13C36%2012.4477%2036.4477%2012%2037%2012C37.5523%2012%2038%2012.4477%2038%2013V20C38%2020.5523%2037.5523%2021%2037%2021Z'%20fill='%23333333'/%3e%3cpath%20d='M29%2010H38V16H29V10Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M36%2012H31V14H36V12ZM29%2010V16H38V10H29Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9.01446%2020.138C9.40179%2018.869%2010.5901%2018%2011.9381%2018H37.5827L43.9349%2032.6489C44.1322%2033.166%2043.8657%2033.7424%2043.3395%2033.9363C42.8134%2034.1302%2042.2269%2033.8682%2042.0296%2033.3511L36.9848%2022.1289L32.1825%2035.862C31.7952%2037.131%2030.6069%2038%2029.2589%2038H7.05433C5.00969%2038%203.54321%2036.0628%204.13073%2034.138L9.01446%2020.138ZM19.0299%2031.7577C18.8959%2032.2935%2019.2217%2032.8364%2019.7575%2032.9704C20.2933%2033.1043%2020.8362%2032.7786%2020.9701%2032.2428L21.7808%2029H25C25.5523%2029%2026%2028.5523%2026%2028C26%2027.4477%2025.5523%2027%2025%2027H22.2808L22.9701%2024.2428C23.1041%2023.707%2022.7783%2023.164%2022.2425%2023.0301C21.7067%2022.8961%2021.1638%2023.2219%2021.0299%2023.7577L20.2193%2027H17C16.4477%2027%2016%2027.4477%2016%2028C16%2028.5523%2016.4477%2029%2017%2029H19.7193L19.0299%2031.7577Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10.9158%2020.7595L6.03573%2034.7491C5.87591%2035.3365%206.31672%2036%207.05433%2036H29.2589C29.7467%2036%2030.1448%2035.6872%2030.2697%2035.2782L30.2814%2035.2398L35.6105%2020H11.9381C11.4503%2020%2011.0522%2020.3128%2010.9273%2020.7218L10.9158%2020.7595ZM36.9848%2022.1289L42.0296%2033.3511C42.2269%2033.8682%2042.8134%2034.1302%2043.3395%2033.9363C43.8657%2033.7424%2044.1322%2033.166%2043.9349%2032.6489L37.5827%2018H11.9381C10.5901%2018%209.40179%2018.869%209.01446%2020.138L4.13073%2034.138C3.54321%2036.0628%205.00969%2038%207.05433%2038H29.2589C30.6069%2038%2031.7952%2037.131%2032.1825%2035.862L36.9848%2022.1289ZM17%2029C16.4477%2029%2016%2028.5523%2016%2028C16%2027.4477%2016.4477%2027%2017%2027H20.2193L21.0299%2023.7577C21.1638%2023.2219%2021.7067%2022.8961%2022.2425%2023.0301C22.7783%2023.164%2023.1041%2023.707%2022.9701%2024.2428L22.2808%2027H25C25.5523%2027%2026%2027.4477%2026%2028C26%2028.5523%2025.5523%2029%2025%2029H21.7808L20.9701%2032.2428C20.8362%2032.7786%2020.2933%2033.1043%2019.7575%2032.9704C19.2217%2032.8364%2018.8959%2032.2935%2019.0299%2031.7577C19.0298%2031.758%2019.0299%2031.7574%2019.0299%2031.7577L19.7193%2029H17ZM23.3424%2031L22.9104%2032.7278C22.5086%2034.3352%2020.8798%2035.3125%2019.2724%2034.9107C17.665%2034.5088%2016.6877%2032.88%2017.0896%2031.2726L17.1577%2031H17C15.3431%2031%2014%2029.6568%2014%2028C14%2026.3431%2015.3431%2025%2017%2025H18.6577L19.0896%2023.2726C19.4914%2021.6652%2021.1202%2020.688%2022.7276%2021.0898C24.335%2021.4917%2025.3123%2023.1205%2024.9104%2024.7278L24.8424%2025H25C26.6569%2025%2028%2026.3431%2028%2028C28%2029.6568%2026.6569%2031%2025%2031H23.3424Z'%20fill='%23333333'/%3e%3c/svg%3e",p2=""+new URL("cone_test_on_nets.BR6NB2oF.svg",import.meta.url).href,_2="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%209C6%207.34315%207.34315%206%209%206H39C40.6569%206%2042%207.34315%2042%209V39C42%2040.6569%2040.6569%2042%2039%2042H9C7.34315%2042%206%2040.6569%206%2039V9ZM21.5191%2014.5819H17V33.3986H21.5191V14.5819ZM21.5191%2012.5819H15V35.3986H21.5191V37.2128C21.5191%2037.8953%2022.1878%2038.3773%2022.8353%2038.1614L31.7004%2035.2064C32.1087%2035.0703%2032.3842%2034.6882%2032.3842%2034.2577V13.9691C32.3842%2013.5387%2032.1087%2013.1565%2031.7004%2013.0204L22.8353%2010.0654C22.1878%209.84955%2021.5191%2010.3315%2021.5191%2011.0141V12.5819ZM25.8651%2023.3891C25.8651%2024.1892%2025.5408%2024.8378%2025.1408%2024.8378C24.7407%2024.8378%2024.4164%2024.1892%2024.4164%2023.3891C24.4164%2022.589%2024.7407%2021.9404%2025.1408%2021.9404C25.5408%2021.9404%2025.8651%2022.589%2025.8651%2023.3891Z'%20fill='%23333333'/%3e%3c/svg%3e",v2={class:"col-span-1 border rounded"},f2={class:"px-2 py-2 grid grid-cols-3 gap-4"},g2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},h2={class:"text-2xl font-semibold mt-2"},y2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},x2={class:"text-2xl font-semibold mt-2"},b2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},w2={class:"text-2xl font-semibold mt-2"},C2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},M2={class:"text-2xl font-semibold mt-2"},k2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},$2={class:"text-2xl font-semibold mt-2"},V2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},H2={class:"text-2xl font-semibold mt-2"},L2={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},Z2={class:"text-2xl font-semibold mt-2"},I2=N({__name:"test-catalog",props:{data:{required:!1,type:Object}},setup(l){const e=l;return(a,s)=>{const n=U;return r(),d("div",v2,[s[14]||(s[14]=t("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"},[y(" Test Catalog "),t("span",{class:"text-base font-medium"},"(All)")],-1)),t("div",f2,[i(n,{to:"/test-catalog/organisms"},{default:m(()=>{var o;return[t("div",g2,[s[0]||(s[0]=t("img",{src:Ht,class:"w-10 h-10 mb-5s",alt:"virus-svg"},null,-1)),t("h3",h2,u((o=e.data)==null?void 0:o.organisms),1),s[1]||(s[1]=t("p",null,"Organisms",-1))])]}),_:1}),i(n,{to:"/test-catalog/drugs"},{default:m(()=>{var o;return[t("div",y2,[s[2]||(s[2]=t("img",{src:Lt,class:"w-10 h-10 mb-5s",alt:"medicines-svg"},null,-1)),t("h3",x2,u((o=e.data)==null?void 0:o.drugs),1),s[3]||(s[3]=t("p",null,"Drugs",-1))])]}),_:1}),i(n,{to:"/test-catalog/diseases"},{default:m(()=>{var o;return[t("div",b2,[s[4]||(s[4]=t("img",{src:Zt,class:"w-10 h-10 mb-5s",alt:"bacteria-svg"},null,-1)),t("h3",w2,u((o=e.data)==null?void 0:o.diseases),1),s[5]||(s[5]=t("p",null,"Diseases",-1))])]}),_:1}),i(n,{to:"/test-catalog/test-panels"},{default:m(()=>{var o;return[t("div",C2,[s[6]||(s[6]=t("img",{src:m2,class:"w-10 h-10 mb-5s",alt:"virus-svg"},null,-1)),t("h3",M2,u((o=e.data)==null?void 0:o.test_panels),1),s[7]||(s[7]=t("p",null,"Test Panels",-1))])]}),_:1}),i(n,{to:"/test-catalog/test-types"},{default:m(()=>{var o;return[t("div",k2,[s[8]||(s[8]=t("img",{src:p2,class:"w-10 h-10 mb-5s",alt:"cone-test-on-nets-svg"},null,-1)),t("h3",$2,u((o=e.data)==null?void 0:o.test_types),1),s[9]||(s[9]=t("p",null,"Test Types",-1))])]}),_:1}),i(n,{to:"/test-catalog/specimen-types"},{default:m(()=>{var o;return[t("div",V2,[s[10]||(s[10]=t("img",{src:It,class:"w-10 h-10 mb-5s",alt:"blood-drop-svg"},null,-1)),t("h3",H2,u((o=e.data)==null?void 0:o.specimen_types),1),s[11]||(s[11]=t("p",null,"Specimen Types",-1))])]}),_:1}),i(n,{to:"/test-catalog/lab-sections"},{default:m(()=>{var o;return[t("div",L2,[s[12]||(s[12]=t("img",{src:_2,class:"w-10 h-10 mb-5s",alt:"admissions-svg"},null,-1)),t("h3",Z2,u((o=e.data)==null?void 0:o.lab_sections),1),s[13]||(s[13]=t("p",null,"Laboratory Sections",-1))])]}),_:1})])])}}}),A2={class:"w-full border rounded"},T2={class:"px-3 py-3 space-y-2"},D2={class:"p-3 bg-gray-100 rounded border"},B2={class:"text-lg font-semibold text-black"},j2={class:"text-base text-gray-500"},P2=N({__name:"available-printers",props:{data:{required:!0,type:Object}},setup(l){const{can:e}=At(),a=l;return(s,n)=>{var g;const o=et;return r(),d("div",A2,[n[0]||(n[0]=t("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"},[y(" Available Printers "),t("span",{class:"text-base font-medium"},"(All)")],-1)),t("div",T2,[(r(!0),d(A,null,T((g=a.data)==null?void 0:g.printers,w=>(r(),d("div",{class:"flex items-center space-x-5 bg-white border-b pb-2 border-dotted",key:w.name},[t("div",D2,[i(b(Tt),{class:"w-7 h-7"})]),t("div",null,[t("h3",B2,u(w.name),1),t("p",j2,u(w.description),1)])]))),128)),b(e).manage("lab_configurations")?(r(),F(o,{key:0,click:()=>s.$router.push("configuration??tab=printers"),text:"Printer Configuration",icon:b(Dt),color:"primary"},null,8,["click","icon"])):M("",!0)])])}}}),S2={class:"px-5 py-5"},R2={class:"grid grid-cols-3 gap-4"},E2={class:"w-full grid grid-cols-3 gap-4"},F2={class:"grid grid-cols-2 gap-4 py-5"},N2={class:"cols-span-1 border rounded"},z2={class:"w-full grid grid-cols-3 gap-5 py-2 px-2"},O2={class:"col-span-1 flex flex-col space-y-3"},_s=N({__name:"home",setup(l){jt({title:`${Bt.name.toUpperCase()} - Home`});const e=q(),a=G("token"),s=E(!0),n=E({}),o=E([{name:"superadmin"},{name:"superuser"}]);async function g(){s.value=!0;const k=ct(e.locations,e.selectedLocation),v={route:`${Y.analytics}/home?department=${e.department}&lab_location=${k}`,method:"GET",token:`${a.value}`},{data:h,error:$}=await tt(v);h.value&&(n.value=h.value.data,s.value=!1),$.value&&(console.error($.value),s.value=!1)}const w=k=>{const v=new Set(e.user.roles.map(h=>h.role_name.toLowerCase()));return k.some(h=>v.has(h.name.toLowerCase()))};return dt(()=>{g()}),rt(()=>e,()=>{g()},{deep:!0}),(k,v)=>{const h=ie,$=xe,H=Se,f=We,c=u2,x=I2,p=P2;return r(),d("div",S2,[S(t("div",R2,[i(h,{data:b(n)},null,8,["data"]),i($,{data:b(n)},null,8,["data"]),i(H,{data:b(n)},null,8,["data"])],512),[[R,!b(s)]]),S(t("div",E2,[(r(),d(A,null,T(3,C=>t("div",{class:"col-span-1 border rounded",key:C},[v[1]||(v[1]=bt('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-4"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div>',2)),(r(),d(A,null,T(3,V=>t("div",{key:V},v[0]||(v[0]=[t("div",{class:"flex items-center space-x-3 px-2 pb-2"},[t("div",{class:"h-5 w-5 bg-gray-100 rounded-full animate-pulse"}),t("div",{class:"h-8 w-8 bg-gray-100 rounded animate-pulse"}),t("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1)]))),64))])),64))],512),[[R,b(s)]]),t("div",F2,[i(f),i(c),w(b(o))?S((r(),F(x,{key:0},null,512)),[[R,!b(s)]]):M("",!0),S(t("div",N2,[v[2]||(v[2]=t("div",{class:"w-full h-10 bg-gray-100 transition duration-150 animate-pulse"},null,-1)),t("div",z2,[(r(),d(A,null,T(7,C=>t("div",{class:"col-span-1 w-auto h-36 bg-gray-100 transition-all animate-pulse rounded",key:C})),64))])],512),[[R,b(s)]]),t("div",O2,[i(p,{data:b(n)},null,8,["data"])])])])}}});export{_s as default};
