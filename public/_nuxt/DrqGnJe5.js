import{_ as L}from"./Cjy89chx.js";import{_ as D}from"./B75xAycs.js";import{d as B,r as n,u as M,b as _,e as x,g as e,f as a,h as t,y as p,Y as q,p as C,G as E,V as G,j as T,t as h,q as Z,i as $,v as P,F as R,k as U,C as V,S as F,m as H,l as N,_ as S,n as Y,o as I,A as O,H as J}from"./Dq6GAKbi.js";import{r as K}from"./BqtKM9rz.js";import{_ as Q}from"./DwzG69rt.js";import{u as W}from"./DausA3Fa.js";import{P as X}from"./Cym2IAMG.js";import{u as ee}from"./CtUVHdOQ.js";import{u as te}from"./B-asOVRT.js";import{r as se}from"./D5QMWYSq.js";import"./CCv5i2WQ.js";import"./E1BQBXOe.js";const ae={class:"fixed inset-0 overflow-y-auto"},oe={class:"flex min-h-full items-center justify-center p-4 text-center"},le={class:"border-b px-3 py-3 flex items-center justify-between"},ne={class:"flex items-center justify-center mx-auto my-20"},ce={class:"space-y-3 px-5 py-5"},re={class:"w-full flex flex-col space-y-1"},ie={class:"text-gray-600"},de={class:"w-full flex flex-col space-y-1"},me={class:"text-gray-600"},ue={class:"w-full flex flex-col space-y-1"},pe=["innerHTML"],fe={class:"w-full flex flex-col space-y-1"},ve={class:"font-semibold list text-lg"},he={class:"grid grid-cols-1 sm:grid-cols-2 gap-2 mt-2 max-h-60 overflow-y-auto"},_e=["title"],xe={key:0,class:"text-gray-500 italic text-sm"},ge=B({__name:"index",props:{data:{required:!0,type:Object}},setup(k){const b=k,d=n(!1),m=K,c=n(!1),l=n({}),f=M(),g=async()=>{d.value=!0,c.value=!0;const{pending:y,error:s,data:o}=await H({route:`${N.testPanels}/${b.data.id}`,method:"GET"});c.value=y,o.value&&(l.value=o.value,c.value=!1),s.value&&(console.error(s.value),c.value=!1,f.$toast.error("An error occurred, please try again!"))},z=()=>{d.value=!d.value};return(y,s)=>{const o=S,r=Y;return _(),x("div",null,[e("div",null,[a(o,{click:()=>g(),text:"View",color:"primary",icon:t(m)},null,8,["click","icon"])]),a(t(F),{appear:"",show:t(d),as:"template"},{default:p(()=>[a(t(q),{as:"div",onClose:()=>{},class:"relative z-10"},{default:p(()=>[a(t(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:p(()=>s[1]||(s[1]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",ae,[e("div",oe,[a(t(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:p(()=>[a(t(E),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:p(()=>{var u,v;return[e("div",le,[a(t(G),{as:"h3",class:"text-2xl flex items-center font-medium leading-6"},{default:p(()=>{var i;return[s[2]||(s[2]=e("svg",{class:"w-12 h-12 mr-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"m22.7 2.14l-11.98.03v20H1.37v.76H22.7Zm-7.604 2.158h3.065l-.006 4.234h-3.072zm.125.163v3.908h2.789V4.461zm.119.129h2.55v3.6h-2.55Zm-.285 5.25l3.127.007l.007 4.309h-3.147zm.166.21v3.91h2.789v-3.91zm.119.14h2.55v3.6h-2.55zm-.305 5.563l3.188.007l-.04 4.325l-3.169-.014zm.186.218v3.91h2.789v-3.91zm.119.138h2.55v3.602h-2.55z"})],-1)),T(" "+h((i=t(l))==null?void 0:i.name),1)]}),_:1}),e("button",{onClick:s[0]||(s[0]=()=>z())},[a(t(Z),{class:"w-5 h-5"})])]),$(e("div",ne,[a(r,{loading:t(c)},null,8,["loading"])],512),[[P,t(c)]]),$(e("div",ce,[e("div",re,[s[3]||(s[3]=e("label",{class:"font-semibold text-lg"},"Preferred name",-1)),e("p",ie,h(t(l).preferred_name||"Not specified"),1)]),e("div",de,[s[4]||(s[4]=e("label",{class:"font-semibold text-lg"},"Short Name",-1)),e("p",me,h(t(l).short_name||"Not specified"),1)]),e("div",ue,[s[5]||(s[5]=e("label",{class:"font-semibold text-lg"},"Description",-1)),e("div",{class:"text-gray-600",innerHTML:t(l).description},null,8,pe)]),e("div",fe,[e("label",ve,"Test Types ("+h(((u=t(l).test_types)==null?void 0:u.length)||0)+")",1),e("div",he,[(_(!0),x(R,null,U(t(l).test_types,i=>(_(),x("div",{key:i.id,class:"flex items-center p-2 rounded bg-gray-50"},[s[6]||(s[6]=e("svg",{class:"w-5 h-5 text-black mr-2 flex-shrink-0",xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"},[e("path",{fill:"currentColor",d:"M276.95 18.752c-17.61.005-29.2 5.172-33.776 13.1c-5.232 9.06-2.762 24.25 9.775 42.494c12.536 18.243 34.302 38.05 61.864 53.963c27.562 15.91 55.6 24.856 77.666 26.592c22.068 1.736 36.456-3.72 41.688-12.78c5.23-9.06 2.762-24.25-9.775-42.493s-34.303-38.05-61.866-53.964c-27.562-15.913-55.598-24.858-77.666-26.594a101 101 0 0 0-7.91-.32zm9.818 21.453c16.105.134 40.723 8.224 65.804 22.705c38.22 22.067 63.046 50.616 55.453 63.768s-44.732 5.925-82.95-16.14c-38.22-22.068-63.047-50.618-55.454-63.77c2.61-4.52 8.71-6.633 17.148-6.563zm-50.784 42.352L79.594 392.385c-10.137 17.762-10.692 36.284-4.504 51.6c6.224 15.41 18.583 27.613 33.222 35.6c14.64 7.99 31.752 11.89 48.39 9.743c16.64-2.145 32.87-10.827 43.554-27.033l.01-.018L388.914 173.33c-6.485-.61-13.232-1.71-20.172-3.29l-32.846 50.308c-.272-.25-.55-.5-.878-.77c-3.27-2.697-8.986-5.776-16.44-8.377c-14.908-5.2-36.63-8.684-60.63-8.684c-23.997 0-45.72 3.484-60.628 8.685a81 81 0 0 0-6.683 2.667l57.967-114.84c-4.098-4.665-7.81-9.377-11.055-14.097c-.542-.788-1.047-1.582-1.566-2.373zM415.03 184.553l-8.794 33.5c-7.48 28.495-19.135 51.737-29.22 71.646s-19.258 36.267-19.14 53.5c.217 31.9 26.61 57.75 58.634 57.505l-.008.002c32.01-.217 58.057-26.384 57.836-58.29c-.076-11.126-4-21.653-9.54-32.974c-.62-1.593-1.43-3.186-2.41-4.797c-2.39-4.645-4.986-9.447-7.656-14.505c-10.25-19.42-22.206-42.452-30.453-72.21zm-232.85 46.07c3.385 2.44 8.59 5.096 15.14 7.38c14.908 5.202 36.63 8.685 60.63 8.685c23.998 0 45.72-3.483 60.628-8.684a79 79 0 0 0 7.893-3.22l-16.365 25.068c-15.16 3.556-32.977 5.53-52.156 5.53c-25.762 0-49.088-3.553-66.788-9.728c-6.642-2.317-12.488-4.99-17.47-8.215l8.488-16.817zm233.242 19.498c.32.83.65 1.62.973 2.437c-1.073 34.75-13.116 59.906-8.944 75.015c4.384 15.93 20.963 25.358 36.974 20.852a30.15 30.15 0 0 0 11.226-5.83c.126 21.712-17.307 39.275-39.275 39.424h-.007c-21.97.167-39.654-17.217-39.8-38.944v-.002c-.067-9.577 7.017-24.98 17.12-44.927c6.888-13.598 14.798-29.615 21.735-48.024zm-191.04 29.74c9.492 0 17.186 7.697 17.186 17.19c0 9.49-7.694 17.184-17.185 17.184s-17.186-7.694-17.186-17.185c0-9.493 7.695-17.19 17.186-17.19zm-54.35 13.44c12.148 0 21.997 9.85 21.997 22s-9.85 21.997-22 21.997c-12.147 0-21.997-9.848-21.997-21.996c0-12.15 9.85-22 21.998-22zm22.007 57.81c13.287 0 24.058 10.775 24.058 24.064c0 13.287-10.77 24.058-24.06 24.058c-13.286 0-24.06-10.77-24.06-24.058c0-13.29 10.774-24.063 24.06-24.063z"})],-1)),e("span",{class:"text-gray-700 truncate font-medium",title:i.name},h(i.name),9,_e)]))),128))]),(v=t(l).test_types)!=null&&v.length?V("",!0):(_(),x("p",xe," No test types associated with this panel "))])],512),[[P,!t(c)]])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),ye={class:"py-5 px-5"},we={class:"flex items-center justify-between py-5"},be={class:"text-2xl font-semibold flex items-center uppercase"},ze={class:"flex justify-end w-full px-2 py-2 mb-2"},ke={class:"py-2 flex items-center space-x-2"},De=B({__name:"index",setup(k){te({title:`${X.name.toUpperCase()} - Test Panels`});const b=n("Test Panels"),d=n([]),m=n(!1),{navigateSecure:c}=ee(),l=n([{name:"Home",link:"/home"},{name:"Test Catalog",link:"#"}]),f=n(""),g=n(""),z=n([{text:"id",value:"id",sortable:!0},{text:"name",value:"name",sortable:!0},{text:"short name",value:"short_name",sortable:!1},{text:"preferred name",value:"preferred_name",sortable:!1},{text:"nlims code",value:"nlims_code",sortable:!1},{text:"description",value:"description",sortable:!0,html:!0},{text:"actions",value:"actions",sortable:!1}]),y=o=>{g.value=o,f.value=o},s=async()=>{m.value=!0;const o={route:N.testPanels,method:"GET"},{data:r,error:u,pending:v}=await H(o);m.value=v.value,r.value&&(d.value=r.value,m.value=!1),u.value&&(console.error(u.value),m.value=!1)};return I(()=>{s()}),(o,r)=>{const u=L,v=D,i=ge,j=S,A=Q;return _(),x("div",ye,[a(u,{pages:t(l)},null,8,["pages"]),e("div",we,[e("div",be,[r[1]||(r[1]=e("svg",{class:"w-10 h-10 mr-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[e("path",{fill:"currentColor",d:"m22.7 2.14l-11.98.03v20H1.37v.76H22.7Zm-7.604 2.158h3.065l-.006 4.234h-3.072zm.125.163v3.908h2.789V4.461zm.119.129h2.55v3.6h-2.55Zm-.285 5.25l3.127.007l.007 4.309h-3.147zm.166.21v3.91h2.789v-3.91zm.119.14h2.55v3.6h-2.55zm-.305 5.563l3.188.007l-.04 4.325l-3.169-.014zm.186.218v3.91h2.789v-3.91zm.119.138h2.55v3.602h-2.55z"})],-1)),T(" "+h(t(b)),1)])]),e("div",ze,[a(v,{search:t(f),"onUpdate:search":r[0]||(r[0]=w=>O(f)?f.value=w:null),onUpdate:y},null,8,["search"])]),("usePermissions"in o?o.usePermissions:t(W))().can.manage("test_catalog")?(_(),J(A,{key:0,headers:t(z),data:t(d),loading:t(m),"search-value":t(g)},{actions:p(({item:w})=>[e("div",ke,[a(i,{data:w},null,8,["data"]),a(j,{click:()=>t(c)("/test-catalog/test-panels/edit",w.id),text:"Edit",color:"success",icon:t(se)},null,8,["click","icon"])])]),_:1},8,["headers","data","loading","search-value"])):V("",!0)])}}});export{De as default};
