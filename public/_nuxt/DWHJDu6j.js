import{S as y,p as b,Y as C,G as w,V as D,q as T,s as F,a as V,l as I,m as N,u as p,x as S,y as o,b as B,e as q,g as t,f as e,z as a,k as P,_ as R}from"./BxD-h1LR.js";import{_ as j}from"./DlrUcOnO.js";import{r as A}from"./BPzJPC5B.js";import{_ as M}from"./BO87LaRX.js";const X={components:{TransitionRoot:y,TransitionChild:b,Dialog:C,DialogPanel:w,DialogTitle:D,XMarkIcon:T},data(){return{addIcon:F,saveIcon:A,open:!1,loading:!1,cookie:V("token"),name:""}},methods:{async submitForm(){this.loading=!0;const r={route:I.disease.create,method:"POST",token:`${this.cookie}`,body:{disease:{data:[{name:this.name}]}}},{data:s,pending:d,error:l}=await N(r);this.loading=d,s.value&&(this.name="",p().$toast.success("Disease added successfully!"),this.$emit("action-completed",[]),this.handleClick()),l.value&&(p().$toast.error(`${l.value.data.error}`),this.loading=!1,this.handleClick())},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("editForm")}}},z=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),G={class:"fixed inset-0 overflow-y-auto"},K={class:"flex min-h-full items-center justify-center p-4 text-center"},O={class:"border-b px-3 py-3 flex items-center justify-between"},U=t("img",{src:M,class:"w-8 h-8 mr-2"},null,-1),Y={class:"mt-2 space-y-3 px-5 py-5"},E={class:"w-full grid grid-cols-1 gap-1"},$={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function H(r,s,d,l,n,i){const m=R,u=o("TransitionChild"),f=o("DialogTitle"),h=o("XMarkIcon"),_=o("FormKit"),x=j,g=o("DialogPanel"),k=o("Dialog"),v=o("TransitionRoot");return B(),q("div",null,[t("div",null,[e(m,{text:"New Disease",color:"primary",icon:n.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(v,{appear:"",show:n.open,as:"template"},{default:a(()=>[e(k,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:a(()=>[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[z]),_:1}),t("div",G,[t("div",K,[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",O,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:a(()=>[U,P(" Add Disease ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...c)=>i.handleClick&&i.handleClick(...c))},[e(h,{class:"w-5 h-5"})])]),e(_,{id:"editForm",type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:a(()=>[t("div",Y,[t("div",E,[e(_,{type:"text",label:"Disease Name",modelValue:n.name,"onUpdate:modelValue":s[1]||(s[1]=c=>n.name=c),validation:"required|text"},null,8,["modelValue"])])]),t("div",$,[e(x,{type:"button",text:"Clear form",click:()=>i.clearForm()},null,8,["click"]),e(m,{type:"submit",color:"success",icon:n.saveIcon,click:()=>{},text:"Save changes",loading:n.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Z=S(X,[["render",H]]);export{Z as _};
