import{_ as Z}from"./B9Ei4bVh.js";import{S as T,p as I,Y as S,G as $,V as M,q as V,s as H,a as F,u as k,E as B,x as w,y as a,b,e as D,g as o,f as e,z as s,j as y,_ as j,A as X,B as P,t as U,D as K,C as z,O as L}from"./CFWOeWkC.js";import{_ as E}from"./BQR-CaKE.js";import{S as R}from"./D-5jb8w0.js";import{r as G}from"./gRRVrUEp.js";import{r as A}from"./BhAkX754.js";import{r as Y}from"./Cm-fOTuS.js";import{_ as J}from"./Cz5Qavj5.js";import{r as O}from"./DgrCx2dn.js";import{_ as Q}from"./DNlNi7-O.js";import{P as W}from"./C2uk-pJv.js";import{u as ee}from"./BzJUih2X.js";import"./5jZYBvr-.js";import"./CGdL28WU.js";import"./dHooFwXv.js";const te={components:{TransitionRoot:T,TransitionChild:I,Dialog:S,DialogPanel:$,DialogTitle:M,XMarkIcon:V,UserIcon:G},data(){return{open:!1,addIcon:H,saveIcon:A,clearIcon:Y,loading:!1,name:"",cookie:F("token")}},methods:{async submitForm(){this.loading=!0;const d=new R,t={name:this.name},{data:i,error:c,pending:n}=await d.createStockCategory(`${this.cookie}`,t);this.loading=n,i.value&&(this.handleClick(),k().$toast.success(`${this.name} stock category created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe={class:"fixed inset-0 overflow-y-auto"},ne={class:"flex min-h-full items-center justify-center p-4 text-center"},ae={class:"border-b px-3 py-3 flex items-center justify-between"},se={class:"mt-2 space-y-3"},le={class:"w-full flex items-center px-5"},ie={class:"w-full flex flex-col space-y-2"},ce={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function re(d,t,i,c,n,l){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("FormKit"),_=E,g=a("DialogPanel"),p=a("Dialog"),C=a("TransitionRoot");return b(),D("div",null,[o("div",null,[e(m,{text:"Create category",color:"primary",icon:n.addIcon,click:l.handleClick},null,8,["icon","click"])]),e(C,{appear:"",show:n.open,as:"template"},{default:s(()=>[e(p,{as:"div",onClose:l.handleClick,class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>t[2]||(t[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",oe,[o("div",ne,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[o("div",ae,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:s(()=>t[3]||(t[3]=[y(" Create stock category ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...v)=>l.handleClick&&l.handleClick(...v))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form","submit-label":"Update",onSubmit:l.submitForm,actions:!1,id:"submitForm"},{default:s(({value:v})=>[o("div",se,[o("div",le,[o("div",ie,[e(u,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=x=>n.name=x)},null,8,["modelValue"])])])]),o("div",ce,[e(_,{type:"button",click:()=>{l.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const de=w(te,[["render",re]]),me={components:{TransitionRoot:T,TransitionChild:I,Dialog:S,DialogPanel:$,DialogTitle:M,XMarkIcon:V},data(){return{viewIcon:X,show:!1,editIcon:P}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},N="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M10%207V37C10%2038.6569%2011.3431%2040%2013%2040H26V36.4649C24.8044%2035.7733%2024%2034.4806%2024%2033C24%2030.7909%2025.7909%2029%2028%2029C30.2091%2029%2032%2030.7909%2032%2033C32%2034.4806%2031.1956%2035.7733%2030%2036.4649V40H35C36.6569%2040%2038%2038.6569%2038%2037V7C38%205.34315%2036.6569%204%2035%204H13C11.3431%204%2010%205.34315%2010%207ZM28%2035C29.1046%2035%2030%2034.1046%2030%2033C30%2031.8954%2029.1046%2031%2028%2031C26.8954%2031%2026%2031.8954%2026%2033C26%2034.1046%2026.8954%2035%2028%2035ZM18%2011C18%2010.4477%2018.4477%2010%2019%2010L29%2010C29.5523%2010%2030%2010.4477%2030%2011C30%2011.5523%2029.5523%2012%2029%2012L19%2012C18.4477%2012%2018%2011.5523%2018%2011ZM15%2016C14.4477%2016%2014%2016.4477%2014%2017C14%2017.5523%2014.4477%2018%2015%2018H33C33.5523%2018%2034%2017.5523%2034%2017C34%2016.4477%2033.5523%2016%2033%2016H15ZM14%2021C14%2020.4477%2014.4477%2020%2015%2020H33C33.5523%2020%2034%2020.4477%2034%2021C34%2021.5523%2033.5523%2022%2033%2022H15C14.4477%2022%2014%2021.5523%2014%2021ZM15%2024C14.4477%2024%2014%2024.4477%2014%2025C14%2025.5523%2014.4477%2026%2015%2026H33C33.5523%2026%2034%2025.5523%2034%2025C34%2024.4477%2033.5523%2024%2033%2024H15Z'%20fill='currentColor'/%3e%3cpath%20d='M26%2044V40H30V44L28%2042.5L26%2044Z'%20fill='currentColor'/%3e%3c/svg%3e",ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},_e={class:"border-b px-3 py-3 flex items-center justify-between"},fe={class:"space-y-3 px-5 py-5"},he={class:"w-full flex flex-col space-y-1"},ge={class:"underline"};function ve(d,t,i,c,n,l){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("DialogPanel"),_=a("Dialog"),g=a("TransitionRoot");return b(),D("div",null,[e(m,{click:()=>{l.handleClick()},color:"primary",text:"View",icon:n.viewIcon},null,8,["click","icon"]),e(g,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(_,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>t[1]||(t[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ue,[o("div",pe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[o("div",_e,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>t[2]||(t[2]=[o("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),y(" View Stock Category ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...p)=>l.handleClick&&l.handleClick(...p))},[e(h,{class:"w-5 h-5"})])]),o("div",fe,[o("div",he,[t[3]||(t[3]=o("label",{class:"font-semibold text-lg"},"Name",-1)),o("p",ge,U(i.data.name),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const xe=w(me,[["render",ve]]),ye={components:{TransitionRoot:T,TransitionChild:I,Dialog:S,DialogPanel:$,DialogTitle:M,XMarkIcon:V},data(){return{editIcon:P,show:!1,saveIcon:A,loading:!1,cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick()},async submitForm(){this.loading=!0;const d=new R;let t={id:this.data.id,name:this.data.name};const{data:i,error:c,pending:n}=await d.updateStockCategory(`${this.cookie}`,t);this.loading=n,i.value&&(this.$emit("update",!0),this.loading=!1,this.handleClick(),k().$toast.success("Stock category updated successfully!")),c.value&&(console.error(c.value),k().$toast.error(B),this.handleClick(),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},ke={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},we={class:"border-b px-3 py-3 flex items-center justify-between"},be={class:"w-full flex items-center px-5 mt-3"},De={class:"w-full flex flex-col space-y-2"},Te={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ie(d,t,i,c,n,l){const m=j,r=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),u=a("FormKit"),_=E,g=a("DialogPanel"),p=a("Dialog"),C=a("TransitionRoot");return b(),D("div",null,[e(m,{click:()=>{l.init()},text:"Edit",color:"success",icon:n.editIcon},null,8,["click","icon"]),e(C,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(p,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>t[2]||(t[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ke,[o("div",Ce,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[o("div",we,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>t[3]||(t[3]=[o("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),y(" Edit Stock Category ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...v)=>l.handleClick&&l.handleClick(...v))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form",id:"editForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:s(({value:v})=>[o("div",be,[o("div",De,[e(u,{type:"text",label:"Name",validation:"required",modelValue:i.data.name,"onUpdate:modelValue":t[1]||(t[1]=x=>i.data.name=x)},null,8,["modelValue"])])]),o("div",Te,[e(_,{type:"button",click:()=>{l.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"success",icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Se=w(ye,[["render",Ie]]),$e={components:{TransitionRoot:T,TransitionChild:I,Dialog:S,DialogPanel:$,DialogTitle:M,XMarkIcon:V,ExclamationTriangleIcon:K},data(){return{show:!1,deleteIcon:O,loading:!1,reason:"",cookie:F("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockCategory(d){this.loading=!0;const t=new R,{data:i,error:c,pending:n}=await t.voidStockCategory(`${this.cookie}`,{reason:this.reason,id:d});i.value&&(this.handleClick(),k().$toast.success("Stock category deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.show=!this.show}}},Me={class:"fixed inset-0 overflow-y-auto"},Ve={class:"flex min-h-full items-center justify-center p-4 text-center"},Fe={class:"border-b px-3 py-3 flex items-center justify-between"},je={class:"mt-2 space-y-3 px-5"},Re={class:"rounded px-2 py-2"},Be={class:"font-semibold text-red-500"},Pe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ue(d,t,i,c,n,l){const m=j,r=a("TransitionChild"),f=a("ExclamationTriangleIcon"),h=a("DialogTitle"),u=a("XMarkIcon"),_=a("FormKit"),g=E,p=a("DialogPanel"),C=a("Dialog"),v=a("TransitionRoot");return b(),D("div",null,[e(m,{click:l.handleClick,color:"error",text:"Delete",icon:n.deleteIcon},null,8,["click","icon"]),e(v,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(C,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>t[3]||(t[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Me,[o("div",Ve,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[o("div",Fe,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[e(f,{class:"h-5 w-5 mr-2"}),t[4]||(t[4]=y(" Confirm delete "))]),_:1}),o("button",{onClick:t[0]||(t[0]=(...x)=>l.handleClick&&l.handleClick(...x))},[e(u,{class:"w-5 h-5"})])]),e(_,{type:"form","submit-label":"Update",onSubmit:t[2]||(t[2]=x=>l.voidStockCategory(i.data.id)),actions:!1},{default:s(({value:x})=>[o("div",je,[o("div",Re,[t[5]||(t[5]=y(" Do you really want to delete ")),o("span",Be,U(i.data.name),1),t[6]||(t[6]=y("? Note that once this action is completed, it can not be undone "))]),e(_,{type:"textarea",label:"Reason",validation:"required",modelValue:n.reason,"onUpdate:modelValue":t[1]||(t[1]=q=>n.reason=q)},null,8,["modelValue"])]),o("div",Pe,[e(g,{click:()=>{l.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(m,{loading:n.loading,type:"submit",click:()=>{},color:"error",icon:n.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ee=w($e,[["render",Ue]]),He={setup(){ee({title:`${W.name.toUpperCase()} - Stock Categories`})},data(){return{header:"Stock Category",addIcon:H,viewIcon:X,deleteIcon:O,editIcon:P,search:"",loading:!1,cookie:F("token"),pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"date created",value:"created_date"},{text:"actions",value:"actions"}],categories:new Array}},created(){this.init()},methods:{async init(){this.loading=!0;const d=new R,{data:t,error:i,pending:c}=await d.getStockCategory(`${this.cookie}`);this.loading=c,t.value&&(this.categories=t.value.map(n=>({...n,created_date:z(n.created_date).format(L)})),this.loading=!1),i.value&&(console.error(i.value),this.loading=!1)}}},Xe={class:"px-5 py-5"},Ae={class:"flex items-center justify-between py-5"},Oe={class:"text-2xl font-semibold"},Ne={class:"flex items-center space-x-3"},qe={class:"flex items-center justify-end py-5"},Ze={class:"py-2 flex items-center space-x-2"};function Ke(d,t,i,c,n,l){const m=Z,r=de,f=J,h=xe,u=Se,_=Ee,g=Q;return b(),D("div",Xe,[e(m,{pages:n.pages},null,8,["pages"]),o("div",Ae,[o("h3",Oe,U(n.header),1),o("div",Ne,[e(r,{onUpdate:l.init},null,8,["onUpdate"])])]),o("div",qe,[e(f,{search:n.search},null,8,["search"])]),o("div",null,[e(g,{headers:n.headers,data:n.categories,"search-field":"name","search-value":n.search},{actions:s(({item:p})=>[o("div",Ze,[e(h,{data:p},null,8,["data"]),e(u,{data:p,onUpdate:l.init},null,8,["data","onUpdate"]),e(_,{data:p,onUpdate:l.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","search-value"])])])}const ct=w(He,[["render",Ke]]);export{ct as default};
