import{_ as E}from"./Breadcrumb.b0c0412c.js";import{u as $,a as b,_ as w,f as a,o as C,c as T,d as t,b as e,g as s,h as v,e as I,t as D}from"./entry.791399ec.js";import{_ as R}from"./OutlinedButton.9b05dec9.js";import{e as A}from"./constants.713ae7a7.js";import{r as N,e as S,f as q,a as O,j as K}from"./fetch.b60ef317.js";import{r as V}from"./XMarkIcon.235914cb.js";import{r as z}from"./UserIcon.cb5ef96e.js";import{r as B}from"./ArrowDownTrayIcon.8463c16f.js";import{r as G}from"./ArrowUturnLeftIcon.a3472ebe.js";import{S as U,h as F,U as j,G as P,V as M}from"./transition.f6288412.js";import{_ as H}from"./SearchBar.3bd38df9.js";import{_ as L}from"./blood_drop.f9bca7d7.js";import{r as Y,a as J}from"./PencilSquareIcon.ffacbd25.js";import{r as Q}from"./TrashIcon.252eaf85.js";import{_ as W}from"./Datatable.3b86044c.js";import{u as Z}from"./vue.f36acd1f.8530d91e.js";import{P as ee}from"./package.d411c004.js";import{r as te}from"./MagnifyingGlassIcon.4c928ac3.js";import"./nuxt-link.1af0fd3d.js";import"./HomeIcon.bfaa9779.js";import"./PrinterIcon.9d4d78fd.js";import"./hidden.63232384.js";import"./Loader.0e90c75f.js";const oe={components:{TransitionRoot:U,TransitionChild:F,Dialog:j,DialogPanel:P,DialogTitle:M,XMarkIcon:V,UserIcon:z},data(){return{open:!1,addIcon:N,saveIcon:B,clearIcon:G,name:"",description:"",loading:!1,cookie:$("token")}},methods:{async submitForm(){this.loading=!0;const c={route:S.specimens,method:"POST",token:`${this.cookie}`,body:{name:this.name,description:this.description}},{pending:o,error:l,data:p}=await q(c);this.loading=o,p.value&&(this.handleClick(),b().$toast.success(`${this.name} specimen type created successfully!`),this.loading=!1,this.name="",this.description="",this.$emit("update",!0)),l.value&&(this.handleClick(),console.error(l.value.data.error),b().$toast.error(A),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},ne=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ae={class:"fixed inset-0 overflow-y-auto"},se={class:"flex min-h-full items-center justify-center p-4 text-center"},ie={class:"border-b px-3 py-3 flex items-center justify-between"},le={class:"mt-2 space-y-3"},ce={class:"w-full flex items-center px-5"},re={class:"w-full flex flex-col space-y-2"},de={class:"w-full flex items-center px-5 space-x-3"},me={class:"w-full flex flex-col space-y-2"},pe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ue(c,o,l,p,n,i){const u=I,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("FormKit"),f=R,y=a("DialogPanel"),m=a("Dialog"),k=a("TransitionRoot");return C(),T("div",null,[t("div",null,[e(u,{text:"Create specimen",color:"primary",icon:n.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(k,{appear:"",show:n.open,as:"template"},{default:s(()=>[e(m,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[ne]),_:1}),t("div",ae,[t("div",se,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(y,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",ie,[e(h,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:s(()=>[v(" Create Specimen ")]),_:1}),t("button",{onClick:o[0]||(o[0]=(...g)=>i.handleClick&&i.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(d,{type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1,id:"submitForm"},{default:s(({value:g})=>[t("div",le,[t("div",ce,[t("div",re,[e(d,{type:"text",label:"Name",validation:"required",modelValue:n.name,"onUpdate:modelValue":o[1]||(o[1]=_=>n.name=_)},null,8,["modelValue"])])]),t("div",de,[t("div",me,[e(d,{type:"textarea",label:"Description",validation:"required",modelValue:n.description,"onUpdate:modelValue":o[2]||(o[2]=_=>n.description=_)},null,8,["modelValue"])])]),t("div",pe,[e(f,{text:"Clear form",color:"error",type:"button",click:()=>{i.clearForm()}},null,8,["click"]),e(u,{type:"submit",click:()=>{},color:"success",loading:n.loading,icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const _e=w(oe,[["render",ue]]),fe={components:{TransitionRoot:U,TransitionChild:F,Dialog:j,DialogPanel:P,DialogTitle:M,XMarkIcon:V},data(){return{viewIcon:Y,show:!1}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},he=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),xe={class:"fixed inset-0 overflow-y-auto"},ye={class:"flex min-h-full items-center justify-center p-4 text-center"},ge={class:"border-b px-3 py-3 flex items-center justify-between"},ve=t("img",{src:L,class:"w-8 h-8 mr-2"},null,-1),be={class:"space-y-3 px-5 py-5"},ke={class:"w-full flex flex-col space-y-1"},we=t("label",{class:"font-semibold text-lg"},"Name",-1),Ce={class:"underline"},Te={class:"w-full flex flex-col space-y-1"},De=t("label",{class:"font-semibold text-lg"},"Description",-1),$e={class:"underline"};function Ie(c,o,l,p,n,i){const u=I,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("DialogPanel"),f=a("Dialog"),y=a("TransitionRoot");return C(),T("div",null,[e(u,{click:i.handleClick,color:"primary",text:"View",icon:n.viewIcon},null,8,["click","icon"]),e(y,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(f,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[he]),_:1}),t("div",xe,[t("div",ye,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(d,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",ge,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[ve,v(" View Specimen ")]),_:1}),t("button",{onClick:o[0]||(o[0]=(...m)=>i.handleClick&&i.handleClick(...m))},[e(x,{class:"w-5 h-5"})])]),t("div",be,[t("div",ke,[we,t("p",Ce,D(l.data.name),1)]),t("div",Te,[De,t("p",$e,D(l.data.description),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Se=w(fe,[["render",Ie]]),Ve={components:{TransitionRoot:U,TransitionChild:F,Dialog:j,DialogPanel:P,DialogTitle:M,XMarkIcon:V},data(){return{editIcon:J,show:!1,saveIcon:B,loading:!1,cookie:$("token")}},props:{data:{type:Object,required:!0}},methods:{async submitForm(){this.loading=!0;const c={route:`${S.specimens}/${this.data.id}`,method:"PUT",token:`${this.cookie}`,body:this.data},{pending:o,error:l,data:p}=await q(c);this.loading=o,p.value&&(this.handleClick(),b().$toast.success("Specimen type updated successfully!"),this.loading=!1,this.$emit("update",!0)),l.value&&(b().$toast.success("An error occurred, please try again!"),this.handleClick(),console.log(l.value),this.loading=!1)},handleClick(){this.show=!this.show},clearForm(){this.$formkit.reset("submitForm")}}},Ue=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Fe={class:"fixed inset-0 overflow-y-auto"},je={class:"flex min-h-full items-center justify-center p-4 text-center"},Pe={class:"border-b px-3 py-3 flex items-center justify-between"},Me={class:"mt-2 space-y-3"},Re={class:"w-full flex items-center px-5"},qe={class:"w-full flex flex-col space-y-2"},Be={class:"w-full flex items-center px-5 space-x-3"},Xe={class:"w-full flex flex-col space-y-2"},Ee={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ae(c,o,l,p,n,i){const u=I,r=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),d=a("FormKit"),f=R,y=a("DialogPanel"),m=a("Dialog"),k=a("TransitionRoot");return C(),T("div",null,[e(u,{click:i.handleClick,text:"Edit",icon:n.editIcon,color:"success"},null,8,["click","icon"]),e(k,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(m,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Ue]),_:1}),t("div",Fe,[t("div",je,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(y,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",Pe,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[v(" Edit Specimen ")]),_:1}),t("button",{onClick:o[0]||(o[0]=(...g)=>i.handleClick&&i.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(d,{type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1,id:"submitForm"},{default:s(({value:g})=>[t("div",Me,[t("div",Re,[t("div",qe,[e(d,{type:"text",label:"Name",validation:"required",modelValue:l.data.name,"onUpdate:modelValue":o[1]||(o[1]=_=>l.data.name=_)},null,8,["modelValue"])])]),t("div",Be,[t("div",Xe,[e(d,{type:"textarea",label:"Description",validation:"required",modelValue:l.data.description,"onUpdate:modelValue":o[2]||(o[2]=_=>l.data.description=_)},null,8,["modelValue"])])]),t("div",Ee,[e(f,{text:"Clear form",color:"error",type:"button",click:()=>{i.clearForm()}},null,8,["click"]),e(u,{type:"submit",click:()=>{},color:"success",loading:n.loading,icon:n.saveIcon,text:"Save changes"},null,8,["loading","icon"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ne=w(Ve,[["render",Ae]]),Oe={components:{TransitionRoot:U,TransitionChild:F,Dialog:j,DialogPanel:P,DialogTitle:M,XMarkIcon:V,ExclamationTriangleIcon:O},data(){return{show:!1,deleteIcon:Q,loading:!1,reason:""}},props:{data:{type:Object,required:!0}},setup(){return{cookie:$("token")}},methods:{async deleteData(c){this.loading=!0;const{pending:o,error:l,data:p}=await K(`${S.specimens}/${c}`,{method:"DELETE",headers:{Authorization:`${this.cookie}`},body:{retired_reason:this.reason}},"$f0I2xakYOt");p.value&&(this.handleClick(),b().$toast.success("Specimen type deleted successfully!"),this.loading=!1,this.$emit("update",!0)),l.value&&(b().$toast.success("An error occurred, please try again!"),console.log(l.value),this.loading=!1)},handleClick(){this.show=!this.show}}},Ke=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ze={class:"fixed inset-0 overflow-y-auto"},Ge={class:"flex min-h-full items-center justify-center p-4 text-center"},He={class:"border-b px-3 py-3 flex items-center justify-between"},Le={class:"mt-2 space-y-3 px-5"},Ye={class:"rounded px-2 py-2"},Je={class:"font-semibold text-red-500"},Qe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t bg-gray-50"};function We(c,o,l,p,n,i){const u=I,r=a("TransitionChild"),h=a("ExclamationTriangleIcon"),x=a("DialogTitle"),d=a("XMarkIcon"),f=a("FormKit"),y=R,m=a("DialogPanel"),k=a("Dialog"),g=a("TransitionRoot");return C(),T("div",null,[e(u,{click:i.handleClick,color:"error",text:"Delete",icon:n.deleteIcon},null,8,["click","icon"]),e(g,{appear:"",show:n.show,as:"template"},{default:s(()=>[e(k,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Ke]),_:1}),t("div",ze,[t("div",Ge,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(m,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",He,[e(x,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[e(h,{class:"h-5 w-5 mr-2"}),v(" Confirm delete ")]),_:1}),t("button",{onClick:o[0]||(o[0]=(..._)=>i.handleClick&&i.handleClick(..._))},[e(d,{class:"w-5 h-5"})])]),e(f,{type:"form","submit-label":"Update",onSubmit:o[2]||(o[2]=_=>i.deleteData(l.data.id)),actions:!1},{default:s(({value:_})=>[t("div",Le,[t("div",Ye,[v(" Do you really want to delete "),t("span",Je,D(l.data.name),1),v("? Note that once this action is completed, it can not be undone ")]),e(f,{type:"textarea",label:"Reason",validation:"required",modelValue:n.reason,"onUpdate:modelValue":o[1]||(o[1]=X=>n.reason=X)},null,8,["modelValue"])]),t("div",Qe,[e(y,{type:"button",text:"Cancel",click:()=>{i.handleClick()}},null,8,["click"]),e(u,{loading:n.loading,type:"submit",click:()=>{},color:"error",icon:n.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ze=w(Oe,[["render",We]]),et={setup(){Z({title:`${ee.name.toUpperCase()} - Specimen Types`})},components:{MagnifyingGlassIcon:te},data(){return{header:"Specimen Types",specimens:new Array,pages:[{name:"Home",link:"/home"},{name:"Test Catalog",link:"#"}],loading:!1,search:"",searchValue:"",cookie:$("token"),headers:[{text:"id",value:"id",sortable:!0},{text:"name",value:"name",sortable:!0},{text:"description",value:"description",sortable:!0},{text:"actions",value:"actions"}]}},created(){this.init()},methods:{updateSearch(c){this.searchValue=c,this.search=c},async init(){this.loading=!0;const c={route:S.specimens,method:"GET",token:`${this.cookie}`,body:{}},{data:o,error:l,pending:p}=await q(c);this.loading=p,o.value&&(this.specimens=o.value),l.value&&console.error(l.value)},updateSpecimenTypes(c){c&&this.init()}}},tt={class:"py-5 px-5"},ot={class:"flex items-center justify-between py-5"},nt={class:"text-2xl font-semibold"},at={class:"flex items-center space-x-3"},st={class:"flex justify-end w-full px-2 py-2 mb-2"},it={class:"py-2 flex items-center space-x-2"};function lt(c,o,l,p,n,i){const u=E,r=_e,h=H,x=Se,d=Ne,f=Ze,y=W;return C(),T("div",tt,[e(u,{pages:n.pages},null,8,["pages"]),t("div",ot,[t("h3",nt,D(n.header),1),t("div",at,[e(r,{onUpdate:i.updateSpecimenTypes},null,8,["onUpdate"])])]),t("div",st,[e(h,{search:n.search,"onUpdate:search":o[0]||(o[0]=m=>n.search=m),onUpdate:i.updateSearch},null,8,["search","onUpdate"])]),e(y,{headers:n.headers,data:n.specimens,loading:n.loading,"search-value":n.searchValue,"search-field":"name"},{actions:s(({item:m})=>[t("div",it,[e(x,{data:m},null,8,["data"]),e(d,{data:m,onUpdate:i.updateSpecimenTypes},null,8,["data","onUpdate"]),e(f,{data:m,onUpdate:i.updateSpecimenTypes},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading","search-value"])])}const Ut=w(et,[["render",lt]]);export{Ut as default};
