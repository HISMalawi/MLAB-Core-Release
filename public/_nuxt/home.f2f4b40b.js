import{o as i,c,d as e,_ as $,f as u,p as z,u as H,w as C,v as V,t as p,b as n,g as a,T as F,n as w,h as v,j as b,e as Y,q as ee,F as A,r as S,s as Z,l as le,x as de,y as ue,k as _e,z as pe,A as me,B as he}from"./entry.6a3fbfc1.js";import{P as fe,C as te,A as ge,p as se,a as ne,L as ve,b as ye,c as xe,d as be,e as we,f as $e}from"./index.3963f33e.js";import{u as E,h as O,e as B,f as T}from"./fetch.444ade97.js";import{r as oe}from"./EllipsisVerticalIcon.8049ed97.js";import{M as G,y as q,h as N,R as U}from"./menu.03e86eca.js";import{r as ae}from"./DocumentTextIcon.9fa90f2c.js";import{r as ke}from"./CheckBadgeIcon.86e9e05d.js";import{_ as Me}from"./clinical_fe.1ee7beea.js";import{_ as j}from"./nuxt-link.bebad584.js";import{_ as De}from"./microscope.d79b972c.js";import{r as ie}from"./DocumentTextIcon.04fbc4aa.js";import{d as Ie}from"./constants.cf42f90d.js";import{_ as re}from"./virus.634bbb26.js";import{_ as Ce}from"./medicines.77b1e4b0.js";import{_ as Ve}from"./bacteria.1a885ed1.js";import{_ as ze}from"./cone_test_on_nets.61d62fa3.js";import{_ as Ae}from"./blood_drop.96f11b5d.js";import{_ as Se}from"./admissions.8963e0a6.js";import{S as He}from"./stock.8380d698.js";import{u as Pe}from"./vue.f36acd1f.f8958c90.js";import{P as Be}from"./package.d411c004.js";import"./transition.9bb58b2a.js";import"./hidden.e85239c2.js";import"./XMarkIcon.fd9a39e2.js";import"./PencilSquareIcon.79aa7948.js";import"./PrinterIcon.b8623d34.js";import"./use-text-value.75cce7ff.js";function Te(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z","clip-rule":"evenodd"})])}function je(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 15a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V15zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 18a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V18zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}te.register(ge,se,ne);const Le={components:{Pie:fe},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}}};function Re(t,o,l,_,s,d){const r=u("Pie");return i(),z(r,{data:s.data,options:s.options},null,8,["data","options"])}const Ee=$(Le,[["render",Re]]),Fe={components:{EllipsisVerticalIcon:oe,Menu:G,MenuItem:q,MenuItems:N,MenuButton:U,ChartPieIcon:Te,DocumentTextIcon:ae},data(){return{authStore:E(),cookie:H("token"),testsData:{tests_count:{data:0},statuses_count:{"not-received":0,pending:0,started:0,completed:0,verified:0,voided:0,"not-done":0,"test-rejected":0,"specimen-not-collected":0,"specimen-accepted":0,"specimen-rejected":0}},loading:!0,viewChart:!1,showFilters:!1,startDate:"",endDate:"",applyIcon:ke}},created(){this.init()},methods:{async init(){this.loading=!0;let{department:t}=E();const o=this.startDate==""?"":O(this.startDate).format("YYYY-MM-DD"),l=this.endDate==""?"":O(this.endDate).format("YYYY-MM-DD"),_={route:`${B.tests}/count?department=${t}&from=${o}&to=${l}`,method:"GET",token:`${this.cookie}`},{data:s,error:d,pending:r}=await T(_);this.loading=r,s.value&&(this.testsData=s.value,this.loading=!1,this.viewChart=!1,this.showFilters=!1),d.value&&(console.error(d.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"},proccessedAnalyticsData(t){let o={};return o={labels:["Not Received","Pending","Started","Completed","Verified"],datasets:[{backgroundColor:["#d97706","#dc2626","#06b6d4","#22c55e","#15803d"],data:[t.statuses_count["not-received"],t.statuses_count.pending,t.statuses_count.started,t.statuses_count.completed,t.statuses_count.verified]}]},o}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},Ge={class:"border rounded col-span-1"},qe={class:"flex rounded-t items-center justify-between bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},Ne={class:"px-1 py-1"},Ue={key:0},Oe={class:"flex items-center space-x-4 px-3 py-3"},Ye={class:"w-44"},Je={class:"w-44"},Ke={class:"flex items-center space-x-2 px-5 py-2"},Qe=e("img",{src:Me},null,-1),We={class:"text-3xl font-semibold"},Xe={class:"w-full px-5 py-2 space-y-2"},Ze={class:"flex items-center justify-between"},et={class:"font-medium"},tt={class:"flex items-center justify-between"},st={class:"font-medium"},nt={class:"flex items-center justify-between"},ot={class:"font-medium"},at={key:0},it=ee('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-2"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div><div class="px-2 py-2 space-y-2"><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div></div>',3),rt=[it];function ct(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),m=u("MenuButton"),h=u("DocumentTextIcon"),g=u("MenuItem"),y=u("ChartPieIcon"),M=u("MenuItems"),D=u("Menu"),I=u("datepicker"),f=Y,x=Ee;return i(),c("div",Ge,[C(e("div",null,[e("div",qe,[e("h3",null,p(t.$t("Tests")),1),n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(m,null,{default:a(()=>[n(r,{class:"w-6 h-6"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Ne,[n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[0]||(o[0]=R=>{s.showFilters=!s.showFilters,s.viewChart=!1}),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" "+p(t.$t("Filter_by_date")),1)],2)]),_:1}),n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[1]||(o[1]=R=>s.viewChart=!s.viewChart),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[s.viewChart?(i(),z(h,{key:0,class:"w-5 h-5 mr-2"})):b("",!0),s.viewChart?b("",!0):(i(),z(y,{key:1,class:"w-5 h-5 mr-2"})),v(" "+p(s.viewChart?t.$t("View_summary"):t.$t("View_as_Pie_Chart")),1)],2)]),_:1})])]),_:1})]),_:1})]),_:1})]),s.showFilters?(i(),c("div",Ue,[e("div",Oe,[e("div",Ye,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.startDate,"onUpdate:modelValue":o[2]||(o[2]=k=>s.startDate=k)},null,8,["modelValue"])]),e("div",Je,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.endDate,"onUpdate:modelValue":o[3]||(o[3]=k=>s.endDate=k)},null,8,["modelValue"])]),n(f,{text:"Apply",color:"success",type:"button",icon:s.applyIcon,click:()=>{d.init()}},null,8,["icon","click"])])])):b("",!0),C(e("div",null,[e("div",Ke,[Qe,e("h3",We,p(s.testsData.tests_count.data.toLocaleString()),1)]),e("div",Xe,[e("div",Ze,[e("h3",et,p(t.$t("Pending")),1),e("p",null,p(s.testsData.statuses_count.pending),1)]),e("div",tt,[e("h3",st,p(t.$t("Verified")),1),e("p",null,p(s.testsData.statuses_count.verified),1)]),e("div",nt,[e("h3",ot,p(t.$t("Rejected")),1),e("p",null,p(s.testsData.statuses_count["test-rejected"]),1)])])],512),[[V,!s.viewChart&&!s.showFilters]])],512),[[V,!s.loading]]),s.testsData.tests_count.data!==0&&s.viewChart?(i(),c("div",at,[n(x,{chartData:d.proccessedAnalyticsData(s.testsData)},null,8,["chartData"])])):b("",!0),C(e("div",null,rt,512),[[V,s.loading]])])}const lt=$(Fe,[["render",ct]]);function dt(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}),e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function ut(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function _t(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})])}function L(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"})])}function pt(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM6 8a2 2 0 11-4 0 2 2 0 014 0zM1.49 15.326a.78.78 0 01-.358-.442 3 3 0 014.308-3.516 6.484 6.484 0 00-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 01-2.07-.655zM16.44 15.98a4.97 4.97 0 002.07-.654.78.78 0 00.357-.442 3 3 0 00-4.308-3.517 6.484 6.484 0 011.907 3.96 2.32 2.32 0 01-.026.654zM18 8a2 2 0 11-4 0 2 2 0 014 0zM5.304 16.19a.844.844 0 01-.277-.71 5 5 0 019.947 0 .843.843 0 01-.277.71A6.975 6.975 0 0110 18a6.974 6.974 0 01-4.696-1.81z"})])}const mt={components:{EllipsisVerticalIcon:L},data(){return{cookie:H("token"),loading:!1,analyticsData:{}}},created(){this.init()},methods:{async init(){const t={route:`${B.analytics}/lab_config`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.analyticsData=o.value.data,this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}}},ht=""+new URL("hospital.1f9f843c.svg",import.meta.url).href,ft=""+new URL("ambulatory_clinic.16bfb86e.svg",import.meta.url).href,gt={class:"border rounded"},vt={key:0},yt=e("div",{class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},[e("h3",null,"Lab Configuration")],-1),xt={class:"px-3 py-3 space-y-4"},bt={class:"flex items-center space-x-5"},wt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:De,class:"w-8 h-8"})],-1),$t={class:"text-3xl font-bold"},kt={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Mt={class:"flex items-center space-x-5"},Dt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:ht,class:"w-8 h-8"})],-1),It={class:"text-3xl font-bold"},Ct={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Vt={class:"flex items-center space-x-5"},zt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:ft,class:"w-8 h-8"})],-1),At={class:"text-3xl font-bold"},St={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Ht=e("div",{class:"flex items-center justify-between px-2 py-2"},[e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"}),e("div",{class:"rounded-full h-8 w-8 bg-gray-100 animate-pulse"})],-1),Pt=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-14 w-14 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),Bt=[Pt];function Tt(t,o,l,_,s,d){var m,h,g;const r=j;return i(),c("div",gt,[s.loading?b("",!0):(i(),c("div",vt,[yt,e("div",xt,[e("div",bt,[wt,e("p",$t,[v(p((m=s.analyticsData)==null?void 0:m.instruments),1),e("span",kt,[n(r,{to:"/lab-configuration/instruments"},{default:a(()=>[v("instruments")]),_:1})])])]),e("div",Mt,[Dt,e("p",It,[v(p((h=s.analyticsData)==null?void 0:h.facilities),1),e("span",Ct,[n(r,{to:"/lab-configuration/facilities"},{default:a(()=>[v("facilities")]),_:1})])])]),e("div",Vt,[zt,e("p",At,[v(p((g=s.analyticsData)==null?void 0:g.wards),1),e("span",St,[n(r,{to:"/lab-configuration/facility-wards"},{default:a(()=>[v("wards")]),_:1})])])])])])),C(e("div",null,[Ht,(i(),c(A,null,S(3,y=>e("div",{key:y},Bt)),64))],512),[[V,s.loading]])])}const jt=$(mt,[["render",Tt]]),Lt={components:{EllipsisVerticalIcon:L,Menu:G,MenuItem:q,MenuItems:N,MenuButton:U,UserGroupIcon:pt,DocumentTextIcon:ie},data(){return{cookie:H("token"),loading:!1,analyticsData:{clients:0,by_sex:{M:0,F:0}}}},created(){this.init()},methods:{async init(){this.loading=!0;const t={route:`${B.analytics}/clients`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.analyticsData=o.value.data,this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)},getPercentage(t,o){return o==0?0:Math.round(t/o*100)}}},Rt=""+new URL("group.3c310866.svg",import.meta.url).href,Et={class:"border rounded"},Ft={class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},Gt=e("h3",null,"Patients",-1),qt={class:"py-1 border-y"},Nt={class:""},Ut={class:"flex items-center space-x-2 px-2 py-2"},Ot=e("img",{src:Rt},null,-1),Yt={class:"text-2xl font-semibold"},Jt={class:"px-5"},Kt=e("h3",{class:"mb-2 font-medium"},"By Gender",-1),Qt={class:"w-full flex items-center"},Wt={class:"mt-2"},Xt={class:"flex items-center space-x-2"},Zt=e("div",{class:"w-3 h-3 bg-sky-500 rounded-full"},null,-1),es={class:"flex items-center space-x-2"},ts=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1),ss=ee('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-4"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div>',2),ns=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-5 w-5 bg-gray-100 rounded-full animate-pulse"}),e("div",{class:"h-8 w-8 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),os=[ns];function as(t,o,l,_,s,d){var f,x,k,R,J,K,Q,W,X;const r=u("EllipsisVerticalIcon"),m=u("MenuButton"),h=u("UserGroupIcon"),g=j,y=u("MenuItem"),M=u("DocumentTextIcon"),D=u("MenuItems"),I=u("Menu");return i(),c("div",Et,[C(e("div",null,[e("div",Ft,[Gt,n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(m,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",qt,[n(y,null,{default:a(({active:P})=>[n(g,{to:"/patients"},{default:a(()=>[e("button",{class:w([P?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" View Patients ")],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:P})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([P?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" Generate Reports ")],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),e("div",Nt,[e("div",Ut,[Ot,e("h3",Yt,p((f=s.analyticsData)==null?void 0:f.clients.toLocaleString()),1)]),e("div",Jt,[Kt,e("div",Qt,[e("div",{style:Z({width:d.getPercentage((x=s.analyticsData)==null?void 0:x.by_sex.M,(k=s.analyticsData)==null?void 0:k.clients)+"%"}),class:"h-4 bg-sky-500 rounded-tl-full rounded-bl-full"},null,4),e("div",{style:Z({width:d.getPercentage((R=s.analyticsData)==null?void 0:R.by_sex.F,(J=s.analyticsData)==null?void 0:J.clients)+"%"}),class:"h-4 bg-green-500 rounded-br-full rounded-tr-full"},null,4)]),e("div",Wt,[e("div",Xt,[Zt,e("p",null,p(d.getPercentage((K=s.analyticsData)==null?void 0:K.by_sex.M,(Q=s.analyticsData)==null?void 0:Q.clients))+"% Males",1)]),e("div",es,[ts,e("p",null,p(d.getPercentage((W=s.analyticsData)==null?void 0:W.by_sex.F,(X=s.analyticsData)==null?void 0:X.clients))+"% Females",1)])])])])],512),[[V,!s.loading]]),C(e("div",null,[ss,(i(),c(A,null,S(3,P=>e("div",{key:P},os)),64))],512),[[V,s.loading]])])}const is=$(Lt,[["render",as]]),rs=le({name:"Badge",props:{text:{type:String,required:!0},color:{type:String}}});function cs(t,o,l,_,s,d){return i(),c("div",{class:w([`bg-${t.color}-500 border-2 border-${t.color}-400`,"text-white rounded px-2 py-1 text-sm text-center capitalize"])},p(t.text),3)}const ce=$(rs,[["render",cs]]),ls={components:{EllipsisVerticalIcon:L,Badge:ce},data(){return{authStore:E(),cookie:H("token"),tests:new Array,loading:!1}},created(){this.init()},methods:{async init(){this.loading=!0;const t=this.authStore.user.departments.filter(d=>d.name==this.authStore.department)[0].id,o={route:`${B.tests}?minimal=true&page=1&per_page=9&status=&search=&department_id=${t}&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:l,error:_,pending:s}=await T(o);this.loading=s,l.value&&(this.tests=l.value.data,this.loading=!1),_.value&&(console.log(_.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},ds={class:"col-span-1 rounded border relative"},us={key:0},_s=e("div",{class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},[e("h3",{class:"text-lg font-semibold"},"Recent tests")],-1),ps={class:""},ms={class:"w-full"},hs={class:"px-2 py-2 capitalize flex items-center"},fs={class:"px-2 py-2"},gs={class:"px-2 py-2 capitalize"},vs={key:1},ys=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),xs={class:"mt-2 space-y-2 px-2"},bs=e("div",{class:"h-5 w-5 rounded-full bg-gray-100 animate-pulse"},null,-1),ws=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),$s=[bs,ws],ks=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function Ms(t,o,l,_,s,d){const r=Y;return i(),c("div",ds,[s.loading?b("",!0):(i(),c("div",us,[_s,e("div",ps,[e("table",ms,[e("tbody",null,[(i(!0),c(A,null,S(s.tests,(m,h)=>(i(),c("tr",{class:w(["border-b border-dotted",h%2!==0?"bg-gray-50":""]),key:h},[e("td",hs,[e("div",{class:w([`bg-${d.getStatusColor(m.status.toLowerCase())}-500`,"w-3 h-3 rounded-full mr-2"])},null,2),v(" "+p(`${m.client.first_name}
                                                                    ${m.client.middle_name} ${m.client.last_name}`),1)]),e("td",fs,p(m.test_type_name),1),e("td",gs,p(m.status),1)],2))),128))])]),n(r,{click:()=>d.viewTests(),text:"View tests →",color:"primary",icon:{},class:"m-2 absolute bottom-0"},null,8,["click"])])])),s.loading?(i(),c("div",vs,[ys,e("div",xs,[(i(),c(A,null,S(10,m=>e("div",{class:"flex items-center space-x-2",key:m},$s)),64))]),ks])):b("",!0)])}const Ds=$(ls,[["render",Ms]]),Is=de("patient",()=>{const t=ue({});return{activePatient:t,setActivePatient:l=>Object.assign(t,l)}}),Cs={components:{EllipsisVerticalIcon:L,ChartBarIcon:_t,Badge:ce,Menu:G,MenuItem:q,MenuItems:N,MenuButton:U,DocumentTextIcon:ie,CalendarDaysIcon:dt,CalendarIcon:ut},data(){return{moment:O,cookie:H("token"),clients:new Array,loading:!0}},created(){this.getClients()},methods:{async getClients(){const t={route:`${B.clients}?page=1&per_page=9&status=&search=&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.clients=o.value.clients,this.loading=!1),l.value&&(console.log(l.value),this.loading=!1)},async newOrder(t){Is().setActivePatient(t),this.$router.push(`/tests/new-test?patient_id=${t.client_id}`)}}},Vs={class:"col-span-1 rounded border relative"},zs={key:0},As={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},Ss=e("h3",{class:"text-lg font-semibold"},"Recent patients",-1),Hs={class:"py-1 border-y"},Ps={class:""},Bs={class:"w-full"},Ts={class:"px-2 py-2 capitalize flex items-center"},js={class:"px-2 py-2"},Ls={class:"px-2 py-2"},Rs={key:1},Es=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),Fs={class:"mt-2 space-y-2 px-2"},Gs=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),qs=[Gs],Ns=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function Us(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),m=u("MenuButton"),h=u("DocumentTextIcon"),g=j,y=u("MenuItem"),M=u("MenuItems"),D=u("Menu"),I=Y;return i(),c("div",Vs,[s.loading?b("",!0):(i(),c("div",zs,[e("div",As,[Ss,e("div",null,[n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(m,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Hs,[n(y,null,{default:a(({active:f})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([f?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" "+p("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",Ps,[e("table",Bs,[e("tbody",null,[(i(!0),c(A,null,S(s.clients,(f,x)=>(i(),c("tr",{class:w(["border-b border-dotted",x%2!==0?"bg-gray-50":""]),key:x},[e("td",Ts,p(`${f.first_name} ${f.middle_name} ${f.last_name}`),1),e("td",js,p(s.moment(f.created_at).format("dateFormat"in t?t.dateFormat:_e(Ie))),1),e("td",Ls,[n(I,{icon:{},text:"New order →",color:"primary",click:()=>{d.newOrder(f)}},null,8,["click"])])],2))),128))])])])])),s.loading?(i(),c("div",Rs,[Es,e("div",Fs,[(i(),c(A,null,S(10,f=>e("div",{class:"flex items-center space-x-2",key:f},qs)),64))]),Ns])):b("",!0)])}const Os=$(Cs,[["render",Us]]),Ys={components:{EllipsisVerticalIcon:L}},Js={class:"col-span-1 border rounded"},Ks=e("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"}," Test Catalog ",-1),Qs={class:"px-2 py-2 grid grid-cols-3 gap-4"},Ws=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:re,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Organisms")],-1),Xs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ce,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"9"),e("p",null,"Drugs")],-1),Zs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ve,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Diseases")],-1),en=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:re,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Test Panels")],-1),tn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:ze,class:"w-10 h-10 mb-5s",alt:"cone_test_on_nets"}),e("h3",{class:"text-2xl font-semibold mt-2"},"102"),e("p",null,"Test Types")],-1),sn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ae,class:"w-10 h-10 mb-5s",alt:"blood-drop-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Specimen Types")],-1),nn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Se,class:"w-10 h-10 mb-5s",alt:"admissions-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Laboratory Sections")],-1);function on(t,o,l,_,s,d){const r=j;return i(),c("div",Js,[Ks,e("div",Qs,[n(r,{to:"/test-catalog/organisms"},{default:a(()=>[Ws]),_:1}),n(r,{to:"/test-catalog/drugs"},{default:a(()=>[Xs]),_:1}),n(r,{to:"/test-catalog/diseases"},{default:a(()=>[Zs]),_:1}),n(r,{to:"/test-catalog/test-panels"},{default:a(()=>[en]),_:1}),n(r,{to:"/test-catalog/test-types"},{default:a(()=>[tn]),_:1}),n(r,{to:"/test-catalog/specimen-types"},{default:a(()=>[sn]),_:1}),n(r,{to:"/test-catalog/lab-sections"},{default:a(()=>[nn]),_:1})])])}const an=$(Ys,[["render",on]]);te.register(ye,xe,be,we,$e,se,ne);const rn={components:{Line:ve},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}},watch:{chartData:{handler(t){this.data=t},deep:!0}}};function cn(t,o,l,_,s,d){const r=u("Line");return i(),z(r,{data:s.data,options:s.options},null,8,["data","options"])}const ln=$(rn,[["render",cn]]),dn={components:{Menu:G,MenuButton:U,EllipsisVerticalIcon:oe,MenuItems:N,MenuItem:q,DocumentTextIcon:ae,ClipboardDocumentListIcon:je},data(){return{loading:!1,serverItemsLength:0,stocks:new Array,cookie:H("token"),serverOptions:{page:1,rowsPerPage:25,sortBy:"name"}}},computed:{chartData(){let t={labels:new Array,datasets:[{label:"Stock level",backgroundColor:"#4ade80",data:new Array,cubicInterpolationMode:"monotone"},{label:"Minimum order level",backgroundColor:"#ef4444",data:new Array,cubicInterpolationMode:"monotone"}]};return this.stocks.map(o=>{t.labels.push(o.stock_item.name),t.datasets[0].data.push(o.quantity),t.datasets[1].data.push(o.minimum_order_level)}),t}},created(){this.init()},methods:{async init(){this.loading=!0;const t=new He,{page:o,rowsPerPage:l}=this.serverOptions;let _=`?page=${o}&per_page=${l}&search=`;const{data:s,error:d,pending:r}=await t.getStock(`${this.cookie}`,_);this.loading=r,s.value&&(this.loading=!1,this.stocks=s.value.data),d.value&&(this.loading=!1,console.error(d.value))}}};const un=t=>(pe("data-v-d7bdc46c"),t=t(),me(),t),_n={class:"rounded border"},pn={class:"bg-gray-50 px-2 py-2 border-b rounded-t flex items-center justify-between"},mn=un(()=>e("h3",{class:"font-semibold text-lg"},"Current stock levels",-1)),hn={class:"py-1 border-y"},fn={class:"chartStyle"};function gn(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),m=u("MenuButton"),h=u("ClipboardDocumentListIcon"),g=j,y=u("MenuItem"),M=u("DocumentTextIcon"),D=u("MenuItems"),I=u("Menu"),f=ln;return i(),c("div",_n,[e("div",pn,[mn,e("div",null,[n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(m,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",hn,[n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/stock"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" "+p("View stock"))],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/reports"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" "+p("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",fn,[n(f,{chartData:d.chartData},null,8,["chartData"])])])}const vn=$(dn,[["render",gn],["__scopeId","data-v-d7bdc46c"]]),yn={setup(){Pe({title:`${Be.name.toUpperCase()} - Home`});const t=E(),o=he([{name:"superadmin"},{name:"superuser"}]);return{authStore:t,accessRoles:o}},methods:{showRoute(t){return this.authStore.user.roles.some(l=>t.some(_=>l.role_name.toLowerCase()===_.name.toLowerCase()))}}},xn={class:"px-5 py-5"},bn={class:"grid grid-cols-3 gap-4"},wn={class:"grid grid-cols-2 gap-4 py-5"};function $n(t,o,l,_,s,d){const r=lt,m=jt,h=is,g=Ds,y=Os,M=an,D=vn;return i(),c("div",xn,[e("div",bn,[n(r),n(m),n(h)]),e("div",wn,[n(g),n(y),d.showRoute(_.accessRoles)?(i(),z(M,{key:0})):b("",!0),d.showRoute(_.accessRoles)?(i(),z(D,{key:1})):b("",!0)])])}const Wn=$(yn,[["render",$n]]);export{Wn as default};
