import{_ as Y}from"./BJooVA_-.js";import{b as m,e as y,g as e,S as M,p as L,Y as B,G as F,V as G,q as j,A as J,B as Q,C as X,a as O,l as x,m as w,x as E,y as b,f as r,z as h,j as H,_ as U,s as K,P as q,u as k,E as N,t as a,K as A,h as C,a5 as $,O as P,F as D,k as I,L as z,bC as ee,n as te}from"./CYcp6nS7.js";import{_ as Z}from"./_pI-mxTi.js";import{r as W}from"./r6BVbVNy.js";import{_ as se}from"./BaJf9vfg.js";import{_ as oe}from"./BBIgpWSn.js";import{u as le}from"./2FbkJCRF.js";import{P as ie}from"./lDJ8LIwH.js";import{u as re}from"./CySQNWaz.js";import{r as ne}from"./wA_l6D9q.js";import{r as ae}from"./D_CGNKK0.js";import"./CiPuaXMZ.js";import"./BD7R0M9r.js";import"./BbStvG_C.js";import"./BbalwqwO.js";import"./CaXKGook.js";import"./CIoZ7vxW.js";import"./K4HDHDkc.js";import"./CclvD-oN.js";import"./CtVgqVA5.js";function de(o,t){return m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const ue={components:{TransitionRoot:M,TransitionChild:L,Dialog:B,DialogPanel:F,DialogTitle:G,XMarkIcon:j},data(){return{viewIcon:J,show:!1,editIcon:Q,saveIcon:W,moment:X,cookie:O("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,selectedResult:{name:"--select result--"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},computed:{dropdownItems(){const o=[...this.data];return o.unshift({value:"--select result--"}),o.map(t=>({name:t.value}))}},methods:{init(){var o,t,l;((o=this.result)==null?void 0:o.value)!==null&&(this.selectedResult={name:(t=this.result)!=null&&t.value?(l=this.result)==null?void 0:l.value:"--select result--"})},getUpdatedValue(o){o.name.toLowerCase()=="growth"&&this.loadOrganisms()},async loadOrganisms(){this.handleClick();const o={route:x.organisms,method:"GET",token:`${this.cookie}`},{data:t,error:l}=await w(o);t.value&&(this.rawOrganisms=t.value,t.value.map(n=>{this.organisms.push(n.name)})),l.value&&console.error(l.value)},handleClick(){this.show=!this.show},apply(){let o=[];this.rawOrganisms.forEach(t=>{this.organismsSelected.forEach(l=>{t.name===l&&o.push(t)})}),this.$emit("apply",o),this.organismsSelected=[],this.handleClick()}},watch:{selectedResult(o,t){this.data.map(l=>{l.value===o.name?this.$emit("update",l):o.name==="--select result--"&&this.$emit("update",{value:null})})}}},ce={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},me={class:"border-b px-3 py-3 flex items-center justify-between"},fe={class:"space-y-3 px-5 py-5 pb-20"},be={class:"w-full flex flex-col space-y-2"},ye={class:"flex justify-end"};function he(o,t,l,n,s,i){const u=Z,c=b("TransitionChild"),p=b("DialogTitle"),T=b("XMarkIcon"),g=b("multi-select"),v=U,S=b("DialogPanel"),R=b("Dialog"),f=b("TransitionRoot");return m(),y("div",null,[r(u,{items:i.dropdownItems,modelValue:s.selectedResult,"onUpdate:modelValue":[t[0]||(t[0]=d=>s.selectedResult=d),i.getUpdatedValue]},null,8,["items","modelValue","onUpdate:modelValue"]),r(f,{appear:"",show:s.show,as:"template"},{default:h(()=>[r(R,{as:"div",class:"relative z-10"},{default:h(()=>[r(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>t[3]||(t[3]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",ce,[e("div",pe,[r(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:h(()=>[r(S,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:h(()=>[e("div",me,[r(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:h(()=>t[4]||(t[4]=[e("img",{src:se,class:"w-8 h-8 mr-2"},null,-1),H(" Select organisms ")])),_:1}),e("button",{onClick:t[1]||(t[1]=(...d)=>i.handleClick&&i.handleClick(...d))},[r(T,{class:"w-5 h-5"})])]),e("div",fe,[e("div",be,[t[5]||(t[5]=e("label",{class:"font-medium"},"Organisms",-1)),r(g,{style:{"--ms-max-height":"none !important"},modelValue:s.organismsSelected,"onUpdate:modelValue":t[2]||(t[2]=d=>s.organismsSelected=d),options:s.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",ye,[r(v,{click:i.apply,icon:s.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const _e=E(ue,[["render",he]]),ge={components:{TransitionChild:L,TransitionRoot:M,Dialog:B,DialogPanel:F,DialogTitle:G,XMarkIcon:j},data(){return{addIcon:K,saveIcon:W,open:!1,loading:!1,cookie:O("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const o={route:x.drugs,method:"GET",token:`${this.cookie}`},{data:t,error:l,pending:n}=await w(o);this.loading=n,t.value&&(this.handleClick(),this.rawDrugs=t.value,t.value.map(s=>{this.drugs.push(s.name)})),l.value&&console.error(l.value)},updatedDrugs(o){this.selectedDrugs=o},pushDrugs(o){let t=new Array;this.rawDrugs.map(l=>{o.map(n=>{l.name.toLowerCase()===n.toLowerCase()&&t.push(l)})}),this.$emit("update",{drugs:t,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},ve={class:"fixed inset-0 overflow-y-auto"},xe={class:"flex min-h-full items-center justify-center p-4 text-center"},we={class:"border-b px-3 py-3 flex items-center justify-between"},ke={class:"ma-5 px-4 py-4"},Re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Te(o,t,l,n,s,i){const u=U,c=b("TransitionChild"),p=b("DialogTitle"),T=b("XMarkIcon"),g=b("multi-select"),v=b("DialogPanel"),S=b("Dialog"),R=b("TransitionRoot");return m(),y("div",null,[e("div",null,[r(u,{click:i.init,text:"Add drug",color:"primary",icon:s.addIcon},null,8,["click","icon"])]),r(R,{appear:"",show:s.open,as:"template"},{default:h(()=>[r(S,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:h(()=>[r(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:h(()=>t[2]||(t[2]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",ve,[e("div",xe,[r(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:h(()=>[r(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:h(()=>[e("div",we,[r(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:h(()=>t[3]||(t[3]=[e("img",{src:oe,class:"w-8 h-8 mr-2"},null,-1),H(" Add drug ")])),_:1}),e("button",{onClick:t[0]||(t[0]=(...f)=>i.handleClick&&i.handleClick(...f))},[r(T,{class:"w-5 h-5"})])]),e("div",null,[e("div",ke,[r(g,{modelValue:s.selectedDrugs,"onUpdate:modelValue":t[1]||(t[1]=f=>s.selectedDrugs=f),label:"Select drug(s)",options:s.drugs,mode:"tags",clear:"",searchable:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",Re,[r(u,{click:()=>{i.pushDrugs(s.selectedDrugs)},type:"submit",color:"success",icon:s.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Se=E(ge,[["render",Te]]),Ae={setup(){re({title:`${ie.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`})},data(){return{cookie:O("token"),authStore:le(),data:null,header:"Enter Culture & Sensitivity Results",loading:!1,closeIcon:j,addIcon:K,moment:X,pages:[{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}],remarks:"",remark:"",saveIcon:ne,updateIcon:de,trashIcon:ae,selectedDiameter:{name:"--select result--"},details:{client:{id:0,first_name:"",middle_name:"",last_name:"",sex:"",date_of_birth:"",birth_date_estimated:!1},order_status:"",status:"",requested_by:"",culture_observation:new Array,status_trail:new Array,suscept_test_result:new Array},organisms:new Array,drugsValues:{id:0,name:"",drugs:new Array},suspceptibilityResult:new Array,updating:!1,saving:!1,deleting:!1,results:{},testId:"",accessionNo:"",fetching:!1}},created(){this.accessionNo=`${(this._.provides[q]||this.$route).query.accession_number}`,this.testId=`${(this._.provides[q]||this.$route).query.test_id}`,this.init()},methods:{async init(){var s,i;this.fetching=!0;const o={route:`${x.tests}/${this.testId}`,method:"GET",token:`${this.cookie}`},{data:t,error:l,pending:n}=await w(o);this.fetching=n,t.value&&(this.details=t.value,this.fetching=!1,this.suspceptibilityResult=t.value.suscept_test_result.map(u=>({id:u.organism_id,name:u.name,drugs:u.drugs.map(c=>({name:c.name,drug_id:c.drug_id,zone:{name:c.zone===null?"--select result--":c.zone},interpretation:{name:c.interpretation===""?"--select result--":c.interpretation}}))})),this.remark=((s=t.value.result_remarks)==null?void 0:s.value)??((i=t.value.result_remarks)==null?void 0:i.value)),l.value&&(this.fetching=!1,console.error("error fetcing test details: ",l.value))},async loadOrganisms(o){o.forEach(async t=>{const l={route:`${x.organisms}/${t.id}`,method:"GET",token:`${this.cookie}`},{data:n,error:s}=await w(l);if(n.value){this.organisms.push(n.value);let i={id:null,name:null,drugs:[]};this.organisms.forEach(u=>{i.id=u.id,i.name=u.name;const c=u.drugs.map(p=>({name:p.name,drug_id:p.id,zone:{name:"--select result--"},interpretation:{name:"--select result--"}}));i.drugs=i.drugs.concat(c)}),this.suspceptibilityResult.push(i)}s.value&&console.error(s.value)})},diameters(){let o=new Array;for(let t=0;t<=200;t++)o.push({name:`${t}`});return o.unshift({name:"--select result--"}),o},async submitObservation(){this.loading=!0;const o={route:x.cultureObservations,method:"POST",token:`${this.cookie}`,body:{test_id:this.testId,description:this.remarks}},{data:t,error:l,pending:n}=await w(o);this.loading=n,t.value&&(this.remarks="",this.loading=!1,this.init(),this.suspceptibilityResult=new Array),l.value&&(this.loading=!1,console.error(l.value))},async updateResults(o){this.updating=!0,this.suspceptibilityResult.filter(l=>o.name.toLowerCase()===l.name.toLowerCase()).map(async l=>{let n=[];l.drugs.map(p=>{n.push({drug_id:p.drug_id,zone:p.zone.name!=="--select result--"?p.zone.name:"",interpretation:p.interpretation.name!=="--select result--"?p.interpretation.name:""})});const s={route:x.drugSusceptibility,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:l.id,drugs:n.filter(p=>String(p.zone)!==""&&String(p.interpretation)!==""),status:"completed"}},{data:i,error:u,pending:c}=await w(s);this.updating=c,i.value&&(this.updating=!1,k().$toast.success("Suspceptibility test results updated successfully!")),u.value&&(console.error(u.value),this.updating=!1,k().$toast.error(N))}),this.updating=!1},async deleteSusceptivityResult(o,t){this.deleting=!0;const l={route:`${x.drugSusceptibility}/delete`,method:"PUT",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:o}},{data:n,error:s,pending:i}=await w(l);this.deleting=i,n.value&&(this.deleting=!1,this.suspceptibilityResult.splice(t,1),k().$toast.success("Suspceptibility test results deleted successfully!")),s.value&&(console.error(s.value),this.deleting=!1,k().$toast.success("An error has occurred, please try again!"))},invalidation(){k().$toast.warning("Could not save null suspceptibility results, please enter values!"),this.updating=!1},updateResult(o){this.results=o},async saveResults(){var s,i,u;this.saving=!0;const o={route:`${x.updateResults}`,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,test_indicators:((s=this.results)==null?void 0:s.value)==null?[]:new Array({indicator:(i=this.results)==null?void 0:i.test_indicator_id,value:(u=this.results)==null?void 0:u.value}),remarks:this.remark}},{data:t,error:l,pending:n}=await w(o);this.saving=n,t.value&&(this.saving=!1,k().$toast.success("Test results updated successfully"),this.$router.back()),l.value&&(this.saving=!1,k().$toast.error(N),console.error(l.value))},getUpdatedDrugs(o){this.suspceptibilityResult.map((t,l)=>{o.index===l&&o.drugs.map(n=>{t.drugs.push({name:n.name,drug_id:n.id,zone:{name:"--select result--"},interpretation:{name:"--select result--"}})})})}}},Ce={class:"px-5 py-5"},De={class:"flex items-center justify-between py-5"},Ie={class:"text-2xl font-semibold"},Ve={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},je={key:1},Oe={class:"grid grid-cols-3 gap-4 py-5"},Ee={class:"rounded border"},Ue={class:"w-full py-2"},qe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ne={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Pe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ze={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Me={class:"rounded border"},Le={class:"w-full py-2"},Be={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Fe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Ge={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Xe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},He={class:"rounded border max-h-72 overflow-y-auto"},Ke={class:"w-full py-2"},Ze={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},We={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ye={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Je={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Qe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},$e={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},et={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},tt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},st={class:"grid grid-cols-5 gap-4"},ot={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},lt={class:"font-medium"},it={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},rt={class:"px-5 py-2 space-y-2"},nt={class:"w-full text-left border border-dotted"},at={class:"px-2 py-3 border-r border-dotted"},dt={class:"px-2 py-3 border-r border-dotted"},ut={class:"px-2 py-3 border-r border-dotted"},ct={key:1},pt={class:"px-2 py-3"},mt={class:"border-b border-dotted"},ft={class:"px-2 py-3 border-r border-dotted"},bt={class:"px-2 py-3 border-r border-dotted"},yt={class:"px-2 py-3 border-r border-dotted"},ht={class:"px-2 py-3"},_t={class:"rounded border mt-5"},gt={class:"px-5 py-5"},vt={class:"flex items-center justify-between mb-3"},xt={class:"font-semibold text-lg"},wt={class:"flex items-center space-x-3"},kt={class:"w-full text-left border border-dotted"},Rt={class:"px-2 py-3 border-r border-dotted"},Tt={class:"px-2 py-3"},St={class:"px-2 py-3"};function At(o,t,l,n,s,i){const u=Y,c=te,p=_e,T=b("RichTextEditor"),g=U,v=b("FormKit"),S=Se,R=Z;return m(),y("div",Ce,[e("div",null,[r(u,{pages:s.pages},null,8,["pages"]),e("div",De,[e("h3",Ie,a(s.header),1)]),s.fetching?(m(),y("div",Ve,[r(c),t[2]||(t[2]=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1))])):A("",!0),s.fetching?A("",!0):(m(),y("div",je,[e("div",Oe,[e("div",Ee,[t[7]||(t[7]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1)),e("div",Ue,[e("div",qe,[t[3]||(t[3]=e("h3",{class:"font-medium"},"Patient Number",-1)),e("p",null,a(s.details.id),1)]),e("div",Ne,[t[4]||(t[4]=e("h3",{class:"font-medium"},"Name",-1)),e("p",null,a(`${s.details.client.first_name} ${s.details.client.middle_name} ${s.details.client.last_name}`),1)]),e("div",Pe,[t[5]||(t[5]=e("h3",{class:"font-medium"},"Sex",-1)),e("p",null,a(s.details.client.sex),1)]),e("div",ze,[t[6]||(t[6]=e("h3",{class:"font-medium"},"Age",-1)),e("p",null,a(("calculateAge"in o?o.calculateAge:C($))(s.details.client.date_of_birth)),1)])])]),e("div",Me,[t[12]||(t[12]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1)),e("div",Le,[e("div",Be,[t[8]||(t[8]=e("h3",{class:"font-medium"},"Specimen Type",-1)),e("p",null,a(s.details.specimen_type),1)]),e("div",Fe,[t[9]||(t[9]=e("h3",{class:"font-medium"},"Tracking Number",-1)),e("p",null,a(s.details.tracking_number),1)]),e("div",Ge,[t[10]||(t[10]=e("h3",{class:"font-medium"},"Accession Number",-1)),e("p",null,a(s.details.accession_number),1)]),e("div",Xe,[t[11]||(t[11]=e("h3",{class:"font-medium"},"Status",-1)),e("p",null,a(s.details.order_status.split("-").join(" ").charAt(0).toUpperCase()+s.details.order_status.split("-").join(" ").slice(1)),1)])])]),e("div",He,[t[21]||(t[21]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1)),e("div",Ke,[e("div",Ze,[t[13]||(t[13]=e("h3",{class:"font-medium"},"Name",-1)),e("p",null,a(s.details.test_type_name),1)]),e("div",We,[t[14]||(t[14]=e("h3",{class:"font-medium"},"Date Registered",-1)),e("p",null,a(s.moment(s.details.created_date).format("DATE_FORMAT"in o?o.DATE_FORMAT:C(P))),1)]),e("div",Ye,[t[15]||(t[15]=e("h3",{class:"font-medium"},"Receipt Date",-1)),e("p",null,a(s.moment(s.details.updated_date).format("DATE_FORMAT"in o?o.DATE_FORMAT:C(P))),1)]),e("div",Je,[t[16]||(t[16]=e("h3",{class:"font-medium"},"Test Status",-1)),e("p",null,a(s.details.status.charAt(0).toUpperCase()+s.details.status.slice(1)),1)]),e("div",Qe,[t[17]||(t[17]=e("h3",{class:"font-medium"},"Ward/Location",-1)),e("p",null,a(s.details.requesting_ward),1)]),e("div",$e,[t[18]||(t[18]=e("h3",{class:"font-medium"},"Physician",-1)),e("p",null,a(s.details.requested_by.charAt(0).toUpperCase()+s.details.requested_by.slice(1)),1)]),e("div",et,[t[19]||(t[19]=e("h3",{class:"font-medium"},"Request Origin",-1)),e("p",null,a(s.details.request_origin),1)]),e("div",tt,[t[20]||(t[20]=e("h3",{class:"font-medium"},"Registered By",-1)),e("p",null,a(s.details.registered_by),1)])])])]),e("div",st,[e("div",ot,[t[23]||(t[23]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Observations ")],-1)),r(v,{type:"form","submit-label":"Update",onSubmit:i.saveResults,actions:!1},{default:h(()=>[(m(!0),y(D,null,I(s.details.indicators,(f,d)=>(m(),y("div",{class:"px-5 py-2 space-y-2",key:d},[e("label",lt,a(f.name),1),r(p,{result:f.result,onUpdate:i.updateResult,onApply:i.loadOrganisms,data:f.indicator_ranges},null,8,["result","onUpdate","onApply","data"]),e("div",null,[t[22]||(t[22]=e("p",{class:"text-base font-medium mb-2"},"Remarks",-1)),r(T,{theme:"snow",class:"editor",content:s.remark,"onUpdate:content":t[0]||(t[0]=_=>s.remark=_),contentType:"html"},null,8,["content"])]),r(g,{loading:s.saving,click:()=>{},type:"submit",icon:s.saveIcon,text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]),_:1},8,["onSubmit"])]),e("div",it,[t[26]||(t[26]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1)),e("div",rt,[e("div",null,[t[25]||(t[25]=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1)),r(v,{type:"form","submit-label":"Update",onSubmit:i.submitObservation,actions:!1},{default:h(({value:f})=>[e("table",nt,[t[24]||(t[24]=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"}," Action ")])],-1)),e("tbody",null,[(m(!0),y(D,null,I(s.details.culture_observation,(d,_)=>(m(),y("tr",{class:"border-b border-dotted",key:_},[e("td",at,a(s.moment(d.observation_date).fromNow()),1),e("td",dt,a(`${d.user.first_name} ${d.user.middle_name}
                                                ${d.user.last_name}`),1),e("td",ut,[d.description===""?(m(),z(v,{key:0,type:"textarea",label:"",name:"Remarks",value:d.description,validation:"required"},null,8,["value"])):A("",!0),d.description!=""?(m(),y("p",ct,a(d.description),1)):A("",!0)]),e("td",pt,[d.description===""?(m(),z(g,{key:0,type:"submit",text:"Save",color:"success",icon:s.saveIcon,loading:s.loading,click:()=>{}},null,8,["icon","loading"])):A("",!0)])]))),128)),e("tr",mt,[e("td",ft,a(s.moment().fromNow()),1),e("td",bt,a(`${s.authStore.user.first_name} ${s.authStore.user.middle_name} ${s.authStore.user.last_name}`),1),e("td",yt,[r(v,{type:"textarea",label:"",name:"Remarks",modelValue:s.remarks,"onUpdate:modelValue":t[1]||(t[1]=d=>s.remarks=d),validation:"required"},null,8,["modelValue"])]),e("td",ht,[r(g,{type:"submit",text:"Save",color:"success",icon:s.saveIcon,loading:s.loading,click:()=>{}},null,8,["icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])]),e("div",_t,[t[28]||(t[28]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1)),e("div",gt,[(m(!0),y(D,null,I(s.suspceptibilityResult,(f,d)=>(m(),y("div",{key:f.name,class:"mt-2"},[e("div",vt,[e("h3",xt,a(f.name),1),e("div",wt,[r(S,{index:d,onUpdate:i.getUpdatedDrugs},null,8,["index","onUpdate"]),r(g,{text:"Save",color:"success",icon:s.updateIcon,loading:s.updating,click:()=>i.updateResults(f)},null,8,["icon","loading","click"]),r(g,{loading:s.deleting,icon:s.trashIcon,color:"error",text:"Delete",click:()=>{i.deleteSusceptivityResult(f.id,d)}},null,8,["loading","icon","click"])])]),e("table",kt,[t[27]||(t[27]=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1)),e("tbody",null,[(m(!0),y(D,null,I(f.drugs,_=>(m(),y("tr",{class:"border-b border-dotted",key:_.name},[e("td",Rt,a(_.name),1),e("td",Tt,[r(R,{items:i.diameters(),modelValue:_.zone,"onUpdate:modelValue":V=>_.zone=V},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",St,[r(R,{items:"INTERPRETATIONS"in o?o.INTERPRETATIONS:C(ee),modelValue:_.interpretation,"onUpdate:modelValue":V=>_.interpretation=V},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])])]))),128))])])]))])])}const Zt=E(Ae,[["render",At]]);export{Zt as default};
