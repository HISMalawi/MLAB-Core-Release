import{_ as O}from"./Breadcrumb.vue.49302d56.js";import{u as S,a as k,_ as V,f as l,o as $,c as T,d as t,b as e,g as a,h as b,e as I,t as D,l as K,s as M,k as _,y as z}from"./entry.c551b705.js";import{_ as X}from"./OutlinedButton.ac1ef570.js";import{e as E}from"./constants.c32bb852.js";import{r as G,e as U,f as F,a as H}from"./fetch.7df80c03.js";import{r as j}from"./XMarkIcon.455acd8f.js";import{r as L}from"./UserIcon.b736b259.js";import{r as N}from"./ArrowDownTrayIcon.075e33ea.js";import{r as J}from"./ArrowUturnLeftIcon.a3fd9b0b.js";import{S as P,h as C,U as q,G as B,V as R}from"./transition.fe0cdd04.js";import{_ as Q}from"./SearchBar.d6891e1c.js";import{_ as W}from"./blood_drop.b155cd06.js";import{r as Y,a as Z}from"./PencilSquareIcon.c201b425.js";import{r as A}from"./TrashIcon.c53e980a.js";import{_ as ee}from"./Datatable.18ff387f.js";import{u as te}from"./vue.f36acd1f.e050a771.js";import{P as oe}from"./package.6096f694.js";import{r as se}from"./MagnifyingGlassIcon.b78898e0.js";import{_ as ae}from"./medical_sample.a22aa4fe.js";import"./nuxt-link.11cd23df.js";import"./HomeIcon.81b6cbd7.js";import"./PrinterIcon.de9e1628.js";import"./hidden.1f7f321e.js";import"./Loader.11946374.js";const ne={components:{TransitionRoot:P,TransitionChild:C,Dialog:q,DialogPanel:B,DialogTitle:R,XMarkIcon:j,UserIcon:L},data(){return{open:!1,addIcon:G,saveIcon:N,clearIcon:J,name:"",description:"",loading:!1,cookie:S("token")}},methods:{async submitForm(){this.loading=!0;const r={route:U.specimens,method:"POST",token:`${this.cookie}`,body:{name:this.name,description:this.description}},{pending:s,error:i,data:d}=await F(r);this.loading=s,d.value&&(this.handleClick(),k().$toast.success(`${this.name} specimen type created successfully!`),this.loading=!1,this.name="",this.description="",this.$emit("update",!0)),i.value&&(this.handleClick(),console.error(i.value.data.error),k().$toast.error(E),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},ie=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),le={class:"fixed inset-0 overflow-y-auto"},ce={class:"flex min-h-full items-center justify-center p-4 text-center"},re={class:"border-b px-3 py-3 flex items-center justify-between"},de={class:"mt-2 space-y-3"},me={class:"w-full flex items-center px-5"},ue={class:"w-full flex flex-col space-y-2"},pe={class:"w-full flex items-center px-5 space-x-3"},_e={class:"w-full flex flex-col space-y-2"},fe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function he(r,s,i,d,o,n){const x=I,f=l("TransitionChild"),m=l("DialogTitle"),v=l("XMarkIcon"),c=l("FormKit"),u=X,h=l("DialogPanel"),p=l("Dialog"),w=l("TransitionRoot");return $(),T("div",null,[t("div",null,[e(x,{text:"Create specimen",color:"primary",icon:o.addIcon,click:n.handleClick},null,8,["icon","click"])]),e(w,{appear:"",show:o.open,as:"template"},{default:a(()=>[e(p,{as:"div",onClose:n.handleClick,class:"relative z-10"},{default:a(()=>[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[ie]),_:1}),t("div",le,[t("div",ce,[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(h,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",re,[e(m,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:a(()=>[b(" Create Specimen ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...y)=>n.handleClick&&n.handleClick(...y))},[e(v,{class:"w-5 h-5"})])]),e(c,{type:"form","submit-label":"Update",onSubmit:n.submitForm,actions:!1,id:"submitForm"},{default:a(({value:y})=>[t("div",de,[t("div",me,[t("div",ue,[e(c,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":s[1]||(s[1]=g=>o.name=g)},null,8,["modelValue"])])]),t("div",pe,[t("div",_e,[e(c,{type:"textarea",label:"Description",validation:"required",modelValue:o.description,"onUpdate:modelValue":s[2]||(s[2]=g=>o.description=g)},null,8,["modelValue"])])]),t("div",fe,[e(u,{text:"Clear form",color:"error",type:"button",click:()=>{n.clearForm()}},null,8,["click"]),e(x,{type:"submit",click:()=>{},color:"success",loading:o.loading,icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const xe=V(ne,[["render",he]]),ve={components:{TransitionRoot:P,TransitionChild:C,Dialog:q,DialogPanel:B,DialogTitle:R,XMarkIcon:j},data(){return{viewIcon:Y,show:!1}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},ye=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ge={class:"fixed inset-0 overflow-y-auto"},be={class:"flex min-h-full items-center justify-center p-4 text-center"},ke={class:"border-b px-3 py-3 flex items-center justify-between"},we=t("img",{src:W,class:"w-8 h-8 mr-2"},null,-1),Ce={class:"space-y-3 px-5 py-5"},$e={class:"w-full flex flex-col space-y-1"},Te=t("label",{class:"font-semibold text-lg"},"Name",-1),De={class:"underline"},Se={class:"w-full flex flex-col space-y-1"},Ve=t("label",{class:"font-semibold text-lg"},"Description",-1),Ie={class:"underline"};function Ue(r,s,i,d,o,n){const x=I,f=l("TransitionChild"),m=l("DialogTitle"),v=l("XMarkIcon"),c=l("DialogPanel"),u=l("Dialog"),h=l("TransitionRoot");return $(),T("div",null,[e(x,{click:n.handleClick,color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(h,{appear:"",show:o.show,as:"template"},{default:a(()=>[e(u,{as:"div",class:"relative z-10"},{default:a(()=>[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[ye]),_:1}),t("div",ge,[t("div",be,[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(c,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",ke,[e(m,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[we,b(" View Specimen ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...p)=>n.handleClick&&n.handleClick(...p))},[e(v,{class:"w-5 h-5"})])]),t("div",Ce,[t("div",$e,[Te,t("p",De,D(i.data.name),1)]),t("div",Se,[Ve,t("p",Ie,D(i.data.description),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Fe=V(ve,[["render",Ue]]),je={components:{TransitionRoot:P,TransitionChild:C,Dialog:q,DialogPanel:B,DialogTitle:R,XMarkIcon:j},data(){return{editIcon:Z,show:!1,saveIcon:N,loading:!1,cookie:S("token")}},props:{data:{type:Object,required:!0}},methods:{async submitForm(){this.loading=!0;const r={route:`${U.specimens}/${this.data.id}`,method:"PUT",token:`${this.cookie}`,body:this.data},{pending:s,error:i,data:d}=await F(r);this.loading=s,d.value&&(this.handleClick(),k().$toast.success("Specimen type updated successfully!"),this.loading=!1,this.$emit("update",!0)),i.value&&(k().$toast.success("An error occurred, please try again!"),this.handleClick(),console.log(i.value),this.loading=!1)},handleClick(){this.show=!this.show},clearForm(){this.$formkit.reset("submitForm")}}},Pe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),qe={class:"fixed inset-0 overflow-y-auto"},Be={class:"flex min-h-full items-center justify-center p-4 text-center"},Re={class:"border-b px-3 py-3 flex items-center justify-between"},Me={class:"mt-2 space-y-3"},Xe={class:"w-full flex items-center px-5"},Ae={class:"w-full flex flex-col space-y-2"},Ee={class:"w-full flex items-center px-5 space-x-3"},Ne={class:"w-full flex flex-col space-y-2"},Oe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ke(r,s,i,d,o,n){const x=I,f=l("TransitionChild"),m=l("DialogTitle"),v=l("XMarkIcon"),c=l("FormKit"),u=X,h=l("DialogPanel"),p=l("Dialog"),w=l("TransitionRoot");return $(),T("div",null,[e(x,{click:n.handleClick,text:"Edit",icon:o.editIcon,color:"success"},null,8,["click","icon"]),e(w,{appear:"",show:o.show,as:"template"},{default:a(()=>[e(p,{as:"div",class:"relative z-10"},{default:a(()=>[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[Pe]),_:1}),t("div",qe,[t("div",Be,[e(f,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(h,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",Re,[e(m,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[b(" Edit Specimen ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...y)=>n.handleClick&&n.handleClick(...y))},[e(v,{class:"w-5 h-5"})])]),e(c,{type:"form","submit-label":"Update",onSubmit:n.submitForm,actions:!1,id:"submitForm"},{default:a(({value:y})=>[t("div",Me,[t("div",Xe,[t("div",Ae,[e(c,{type:"text",label:"Name",validation:"required",modelValue:i.data.name,"onUpdate:modelValue":s[1]||(s[1]=g=>i.data.name=g)},null,8,["modelValue"])])]),t("div",Ee,[t("div",Ne,[e(c,{type:"textarea",label:"Description",validation:"required",modelValue:i.data.description,"onUpdate:modelValue":s[2]||(s[2]=g=>i.data.description=g)},null,8,["modelValue"])])]),t("div",Oe,[e(u,{text:"Clear form",color:"error",type:"button",click:()=>{n.clearForm()}},null,8,["click"]),e(x,{type:"submit",click:()=>{},color:"success",loading:o.loading,icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ze=V(je,[["render",Ke]]),Ge=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),He={class:"fixed inset-0 overflow-y-auto"},Le={class:"flex min-h-full items-center justify-center p-4 text-center"},Je={class:"border-b px-3 py-3 flex items-center justify-between"},Qe={class:"mt-2 space-y-3 px-5"},We={class:"rounded px-2 py-2"},Ye={class:"font-semibold text-red-500"},Ze={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t bg-gray-50"},et=K({__name:"index",props:{data:{required:!0,type:Object}},emits:["update"],setup(r,{emit:s}){const i=M(!1),d=M(!1),o=M(""),n=S("token"),x=s;async function f(v){d.value=!0;const{data:c,error:u,pending:h}=await F({route:`${U.specimens}/${v}`,method:"DELETE",token:`${n.value}`,body:{retired_reason:o.value}});d.value=h,c.value&&(m(),k().$toast.success("Specimen type deleted successfully!"),d.value=!1,x("update",!0)),u.value&&(k().$toast.error(E),console.error(u.value),m(),d.value=!1)}const m=()=>{i.value=!i.value};return(v,c)=>{const u=I,h=l("FormKit"),p=X;return $(),T("div",null,[e(u,{click:m,color:"error",text:"Delete",icon:_(A)},null,8,["icon"]),e(_(P),{appear:"",show:_(i),as:"template"},{default:a(()=>[e(_(q),{as:"div",class:"relative z-10"},{default:a(()=>[e(_(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[Ge]),_:1}),t("div",He,[t("div",Le,[e(_(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(_(B),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",Je,[e(_(R),{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[e(_(H),{class:"h-5 w-5 mr-2"}),b(" Confirm delete ")]),_:1}),t("button",{onClick:m},[e(_(j),{class:"w-5 h-5"})])]),e(h,{type:"form","submit-label":"Update",onSubmit:c[1]||(c[1]=w=>f(r.data.id)),actions:!1},{default:a(({value:w})=>[t("div",Qe,[t("div",We,[b(" Do you really want to delete "),t("span",Ye,D(r.data.name),1),b("? Note that once this action is completed, it can not be undone ")]),e(h,{type:"textarea",label:"Reason",validation:"required",modelValue:_(o),"onUpdate:modelValue":c[0]||(c[0]=y=>z(o)?o.value=y:null)},null,8,["modelValue"])]),t("div",Ze,[e(p,{type:"button",text:"Cancel",click:()=>{m()}},null,8,["click"]),e(u,{loading:_(d),type:"submit",click:()=>{},color:"error",icon:_(A),text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),tt={setup(){te({title:`${oe.name.toUpperCase()} - Specimen Types`})},components:{MagnifyingGlassIcon:se},data(){return{header:"Specimen Types",specimens:new Array,pages:[{name:"Home",link:"/home"},{name:"Test Catalog",link:"#"}],loading:!1,search:"",searchValue:"",cookie:S("token"),headers:[{text:"id",value:"id",sortable:!0},{text:"name",value:"name",sortable:!0},{text:"description",value:"description",sortable:!0},{text:"actions",value:"actions"}]}},created(){this.init()},methods:{updateSearch(r){this.searchValue=r,this.search=r},async init(){this.loading=!0;const r={route:U.specimens,method:"GET",token:`${this.cookie}`,body:{}},{data:s,error:i,pending:d}=await F(r);this.loading=d,s.value&&(this.specimens=s.value),i.value&&console.error(i.value)},updateSpecimenTypes(r){r&&this.init()}}},ot={class:"py-5 px-5"},st={class:"flex items-center justify-between py-5"},at={class:"text-2xl font-semibold flex items-center uppercase"},nt=t("img",{src:ae,alt:"report-icon",class:"w-8 h-8 mr-2"},null,-1),it={class:"flex items-center space-x-3"},lt={class:"flex justify-end w-full px-2 py-2 mb-2"},ct={class:"py-2 flex items-center space-x-2"};function rt(r,s,i,d,o,n){const x=O,f=xe,m=Q,v=Fe,c=ze,u=et,h=ee;return $(),T("div",ot,[e(x,{pages:o.pages},null,8,["pages"]),t("div",st,[t("div",at,[nt,b(" "+D(o.header),1)]),t("div",it,[e(f,{onUpdate:n.updateSpecimenTypes},null,8,["onUpdate"])])]),t("div",lt,[e(m,{search:o.search,"onUpdate:search":s[0]||(s[0]=p=>o.search=p),onUpdate:n.updateSearch},null,8,["search","onUpdate"])]),e(h,{headers:o.headers,data:o.specimens,loading:o.loading,"search-value":o.searchValue,"search-field":"name"},{actions:a(({item:p})=>[t("div",ct,[e(v,{data:p},null,8,["data"]),e(c,{data:p,onUpdate:n.updateSpecimenTypes},null,8,["data","onUpdate"]),e(u,{data:p,onUpdate:n.updateSpecimenTypes},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading","search-value"])])}const Pt=V(tt,[["render",rt]]);export{Pt as default};
