import{_ as W}from"./Breadcrumb.vue.499ce5c4.js";import{_ as $}from"./Loader.dcb2042f.js";import{_ as z}from"./Dropdown.345bac1f.js";import{u as I,_ as j,f as m,o as u,c as p,b as r,g as _,d as e,h as B,e as U,a as k,t as a,j as D,k as R,F as A,r as T,p as O}from"./entry.0bd06f87.js";import{h as F,e as x,f as w,r as L,u as Z,d as J}from"./fetch.90b82ec4.js";import{r as q}from"./XMarkIcon.d0e271aa.js";import{r as Q,a as Y}from"./PencilSquareIcon.b0db05d4.js";import{r as E}from"./ArrowDownTrayIcon.0457ed16.js";import{S as M,h as G,U as X,G as H,V as K}from"./transition.8981554f.js";import{_ as ee}from"./bacteria.3b363c3c.js";import{_ as te}from"./Multiselect.7b4e47e7.js";import{_ as se}from"./medicines.8caa4430.js";import{e as N,d as P,i as oe}from"./constants.b703baad.js";import{u as ie}from"./vue.f36acd1f.878e4c03.js";import{P as ne}from"./package.0a25391b.js";import{r as re}from"./CheckIcon.386ac6c2.js";import{r as le}from"./ArrowUpTrayIcon.a1ebbf93.js";import{r as ae}from"./TrashIcon.44746e52.js";import"./nuxt-link.c308b472.js";import"./HomeIcon.118982c7.js";import"./listbox.9c3c1522.js";import"./hidden.7a3c58e3.js";import"./use-text-value.57c232ab.js";import"./CheckCircleIcon.91ed8adb.js";import"./MagnifyingGlassIcon.44b8cbed.js";import"./PrinterIcon.82619bb0.js";const de={components:{TransitionRoot:M,TransitionChild:G,Dialog:X,DialogPanel:H,DialogTitle:K,XMarkIcon:q},data(){return{viewIcon:Q,show:!1,editIcon:Y,saveIcon:E,moment:F,cookie:I("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,selectedResult:{name:"select result"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},methods:{init(){this.result!==null&&(this.selectedResult={name:this.result.value})},async loadOrganisms(){this.handleClick();const o={route:x.organisms,method:"GET",token:`${this.cookie}`},{data:s,error:i}=await w(o);s.value&&(this.rawOrganisms=s.value,s.value.map(l=>{this.organisms.push(l.name)})),i.value&&console.error(i.value)},handleClick(){this.show=!this.show},apply(){let o=new Array;this.rawOrganisms.map(s=>{this.organismsSelected.map(i=>{s.name===i&&o.push(s)})}),this.$emit("apply",o),this.organismsSelected=new Array,this.handleClick()}},watch:{selectedResult(o,s){typeof o=="object"&&o.name==="Growth"&&this.loadOrganisms(),this.data.map(i=>{i.value===o.name&&this.$emit("update",i)})}}},ce=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},me={class:"border-b px-3 py-3 flex items-center justify-between"},_e=e("img",{src:ee,class:"w-8 h-8 mr-2"},null,-1),he={class:"space-y-3 px-5 py-5 pb-20"},fe={class:"w-full flex flex-col space-y-2"},be=e("label",{class:"font-medium"},"Organisms",-1),ye={class:"flex justify-end"};function ge(o,s,i,l,t,n){const f=z,y=m("TransitionChild"),b=m("DialogTitle"),g=m("XMarkIcon"),v=m("multi-select"),S=U,C=m("DialogPanel"),h=m("Dialog"),d=m("TransitionRoot");return u(),p("div",null,[r(f,{items:i.data.map(c=>({name:c.value})),modelValue:t.selectedResult,"onUpdate:modelValue":s[0]||(s[0]=c=>t.selectedResult=c)},null,8,["items","modelValue"]),r(d,{appear:"",show:t.show,as:"template"},{default:_(()=>[r(h,{as:"div",class:"relative z-10"},{default:_(()=>[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[ce]),_:1}),e("div",ue,[e("div",pe,[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[r(C,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:_(()=>[e("div",me,[r(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:_(()=>[_e,B(" Select organisms ")]),_:1}),e("button",{onClick:s[1]||(s[1]=(...c)=>n.handleClick&&n.handleClick(...c))},[r(g,{class:"w-5 h-5"})])]),e("div",he,[e("div",fe,[be,r(v,{style:{"--ms-max-height":"none !important"},modelValue:t.organismsSelected,"onUpdate:modelValue":s[2]||(s[2]=c=>t.organismsSelected=c),options:t.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",ye,[r(S,{click:n.apply,icon:t.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ve=j(de,[["render",ge]]),xe={components:{TransitionChild:G,TransitionRoot:M,Dialog:X,DialogPanel:H,DialogTitle:K,XMarkIcon:q},data(){return{addIcon:L,saveIcon:E,open:!1,loading:!1,cookie:I("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const o={route:x.drugs,method:"GET",token:`${this.cookie}`,body:{name:this.name}},{data:s,error:i,pending:l}=await w(o);this.loading=l,s.value&&(this.handleClick(),this.rawDrugs=s.value,s.value.map(t=>{this.drugs.push(t.name)})),i.value&&console.error(i.value)},updatedDrugs(o){this.selectedDrugs=o},pushDrugs(o){let s=new Array;this.rawDrugs.map(i=>{o.map(l=>{i.name.toLowerCase()===l.toLowerCase()&&(console.log(i),s.push(i))})}),this.$emit("update",{drugs:s,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},we=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ke={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},Se={class:"border-b px-3 py-3 flex items-center justify-between"},De=e("img",{src:se,class:"w-8 h-8 mr-2"},null,-1),Re={class:"ma-5 px-4 py-4"},Ae={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Te(o,s,i,l,t,n){const f=U,y=m("TransitionChild"),b=m("DialogTitle"),g=m("XMarkIcon"),v=te,S=m("DialogPanel"),C=m("Dialog"),h=m("TransitionRoot");return u(),p("div",null,[e("div",null,[r(f,{click:n.init,text:"Add drug",color:"primary",icon:t.addIcon},null,8,["click","icon"])]),r(h,{appear:"",show:t.open,as:"template"},{default:_(()=>[r(C,{as:"div",onClose:n.handleClick,class:"relative z-10"},{default:_(()=>[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[we]),_:1}),e("div",ke,[e("div",Ce,[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[r(S,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:_(()=>[e("div",Se,[r(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:_(()=>[De,B(" Add drug ")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...d)=>n.handleClick&&n.handleClick(...d))},[r(g,{class:"w-5 h-5"})])]),e("div",null,[e("div",Re,[r(v,{onUpdate:n.updatedDrugs,"items-selected":t.selectedDrugs,label:"Select drug(s)",mode:"tags",items:t.drugs},null,8,["onUpdate","items-selected","items"])]),e("div",Ae,[r(f,{click:()=>{n.pushDrugs(t.selectedDrugs)},type:"submit",color:"success",icon:t.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Ve=j(xe,[["render",Te]]),Ie={setup(){ie({title:`${ne.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`})},data(){return{cookie:I("token"),authStore:Z(),data:null,header:"Enter Culture & Sensitivity Results",loading:!1,closeIcon:q,addIcon:L,moment:F,pages:[{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}],remarks:"",remark:"",saveIcon:re,updateIcon:le,trashIcon:ae,selectedDiameter:{name:"select result"},details:{client:{id:0,first_name:"",middle_name:"",last_name:"",sex:"",date_of_birth:"",birth_date_estimated:!1},order_status:"",status:"",requested_by:"",culture_observation:new Array,status_trail:new Array,suscept_test_result:new Array},organisms:new Array,drugsValues:{id:0,name:"",drugs:new Array},suspceptibilityResult:new Array,updating:!1,saving:!1,deleting:!1,results:{},testId:"",accessionNo:"",fetching:!1}},created(){this.accessionNo=`${this.$route.query.accession_number}`,this.testId=`${this.$route.query.test_id}`,this.init()},methods:{async init(){this.fetching=!0;const o={route:`${x.tests}/${this.testId}`,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:l}=await w(o);this.fetching=l,s.value&&(this.details=s.value,this.fetching=!1,this.suspceptibilityResult=s.value.suscept_test_result.map(t=>({id:t.organism_id,name:t.name,drugs:t.drugs.map(n=>({name:n.name,drug_id:n.drug_id,zone:{name:n.zone===null?"select result":n.zone},interpretation:{name:n.interpretation===""?"select result":n.interpretation}}))}))),i.value&&(this.fetching=!1,console.error("error fetcing test details: ",i.value))},async loadOrganisms(o){o.forEach(async s=>{const i={route:`${x.organisms}/${s.id}`,method:"GET",token:`${this.cookie}`},{data:l,error:t}=await w(i);l.value&&(this.organisms.push(l.value),this.drugsValues.drugs=new Array,this.organisms.map(n=>{n.drugs.map(f=>{this.drugsValues.id=n.id,this.drugsValues.name=n.name,this.drugsValues.drugs.push({name:f.name,drug_id:f.id,zone:{name:"select result"},interpretation:{name:"select result"}})})}),this.suspceptibilityResult.push(this.drugsValues)),t.value&&console.error(t.value)})},diameters(){let o=new Array;for(let s=0;s<=200;s++)o.push({name:`${s}`});return o},async submitObservation(){this.loading=!0;const o={route:x.cultureObservations,method:"POST",token:`${this.cookie}`,body:{test_id:this.testId,description:this.remarks}},{data:s,error:i,pending:l}=await w(o);this.loading=l,s.value&&(this.remarks="",this.loading=!1,this.init(),this.suspceptibilityResult=new Array),i.value&&(this.loading=!1,console.error(i.value))},async updateResults(o){this.updating=!0,this.suspceptibilityResult.filter(i=>o.name.toLowerCase()===i.name.toLowerCase()).map(async i=>{const l=i.drugs.map(b=>({drug_id:b.drug_id,zone:parseInt(b.zone.name==="select result"?"":b.zone.name),interpretation:b.interpretation.name==="select result"?"":b.interpretation.name})),t={route:x.drugSusceptibility,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:i.id,drugs:l,status:"completed"}},{data:n,error:f,pending:y}=await w(t);this.updating=y,n.value&&(this.updating=!1,k().$toast.success("Suspceptibility test results updated successfully!"),this.init()),f.value&&(console.error(f.value),this.updating=!1,k().$toast.error(N))})},async deleteSusceptivityResult(o){this.deleting=!0;const s={route:`${x.drugSusceptibility}/delete`,method:"PUT",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:o}},{data:i,error:l,pending:t}=await w(s);this.deleting=t,i.value&&(this.deleting=!1,this.init(),k().$toast.success("Suspceptibility test results deleted successfully!")),l.value&&(console.error(l.value),this.deleting=!1,k().$toast.success("An error has occurred, please try again!"))},invalidation(){k().$toast.warning("Could not save null suspceptibility results, please enter values!"),this.updating=!1},updateResult(o){this.results=o},async saveResults(){var t,n;this.saving=!0;const o={route:`${x.updateResults}`,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,test_indicators:new Array({indicator:(t=this.results)==null?void 0:t.test_indicator_id,value:(n=this.results)==null?void 0:n.value})}},{data:s,error:i,pending:l}=await w(o);this.saving=l,s.value&&(this.saving=!1,this.init(),k().$toast.success("Test results updated successfully"),this.$router.push("/tests")),i.value&&(this.saving=!1,k().$toast.error(N),console.error(i.value))},getUpdatedDrugs(o){this.suspceptibilityResult.map((s,i)=>{o.index===i&&o.drugs.map(l=>{s.drugs.push({name:l.name,drug_id:l.id,zone:{name:"select result"},interpretation:{name:"select result"}})})})}}},je={class:"px-5 py-5"},Ue={class:"flex items-center justify-between py-5"},qe={class:"text-2xl font-semibold"},Oe={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},Ne=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1),Pe={key:1},ze={class:"grid grid-cols-3 gap-4 py-5"},Be={class:"rounded border"},Fe=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1),Le={class:"w-full py-2"},Ee={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Me=e("h3",{class:"font-medium"},"Patient Number",-1),Ge={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Xe=e("h3",{class:"font-medium"},"Name",-1),He={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ke=e("h3",{class:"font-medium"},"Sex",-1),We={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},$e=e("h3",{class:"font-medium"},"Age",-1),Ze={class:"rounded border"},Je=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1),Qe={class:"w-full py-2"},Ye={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},et=e("h3",{class:"font-medium"},"Specimen Type",-1),tt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},st=e("h3",{class:"font-medium"},"Tracking Number",-1),ot={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},it=e("h3",{class:"font-medium"},"Accession Number",-1),nt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},rt=e("h3",{class:"font-medium"},"Status",-1),lt={class:"rounded border max-h-72 overflow-y-auto"},at=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1),dt={class:"w-full py-2"},ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ut=e("h3",{class:"font-medium"},"Name",-1),pt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},mt=e("h3",{class:"font-medium"},"Date Registered",-1),_t={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},ht=e("h3",{class:"font-medium"},"Receipt Date",-1),ft={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},bt=e("h3",{class:"font-medium"},"Test Status",-1),yt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},gt=e("h3",{class:"font-medium"},"Ward/Location",-1),vt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},xt=e("h3",{class:"font-medium"},"Physician",-1),wt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},kt=e("h3",{class:"font-medium"},"Request Origin",-1),Ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},St=e("h3",{class:"font-medium"},"Registered By",-1),Dt={class:"grid grid-cols-5 gap-4"},Rt={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},At=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Observations")],-1),Tt={class:"font-medium"},Vt={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},It=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1),jt={class:"px-5 py-2 space-y-2"},Ut=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1),qt={class:"w-full text-left border border-dotted"},Ot=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"},"Action")])],-1),Nt={class:"px-2 py-3 border-r border-dotted"},Pt={class:"px-2 py-3 border-r border-dotted"},zt={class:"px-2 py-3 border-r border-dotted"},Bt={key:1},Ft={class:"px-2 py-3"},Lt={class:"border-b border-dotted"},Et={class:"px-2 py-3 border-r border-dotted"},Mt={class:"px-2 py-3 border-r border-dotted"},Gt={class:"px-2 py-3 border-r border-dotted"},Xt={class:"px-2 py-3"},Ht={class:"rounded border mt-5"},Kt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1),Wt={class:"px-5 py-5"},$t={class:"flex items-center justify-between mb-3"},Zt={class:"font-semibold text-lg"},Jt={class:"flex items-center space-x-3"},Qt={class:"w-full text-left border border-dotted"},Yt=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1),es={class:"border-b border-dotted"},ts={class:"px-2 py-3 border-r border-dotted"},ss={class:"px-2 py-3"},os={class:"px-2 py-3"};function is(o,s,i,l,t,n){const f=W,y=$,b=ve,g=m("FormKit"),v=U,S=Ve,C=z;return u(),p("div",je,[e("div",null,[r(f,{pages:t.pages},null,8,["pages"]),e("div",Ue,[e("h3",qe,a(t.header),1)]),t.fetching?(u(),p("div",Oe,[r(y),Ne])):D("",!0),t.fetching?D("",!0):(u(),p("div",Pe,[e("div",ze,[e("div",Be,[Fe,e("div",Le,[e("div",Ee,[Me,e("p",null,a(t.details.id),1)]),e("div",Ge,[Xe,e("p",null,a(`${t.details.client.first_name} ${t.details.client.middle_name} ${t.details.client.last_name}`),1)]),e("div",He,[Ke,e("p",null,a(t.details.client.sex),1)]),e("div",We,[$e,e("p",null,a(("calculateAge"in o?o.calculateAge:R(J))(t.details.client.date_of_birth)),1)])])]),e("div",Ze,[Je,e("div",Qe,[e("div",Ye,[et,e("p",null,a(t.details.specimen_type),1)]),e("div",tt,[st,e("p",null,a(t.details.tracking_number),1)]),e("div",ot,[it,e("p",null,a(t.details.accession_number),1)]),e("div",nt,[rt,e("p",null,a(t.details.order_status.split("-").join(" ").charAt(0).toUpperCase()+t.details.order_status.split("-").join(" ").slice(1)),1)])])]),e("div",lt,[at,e("div",dt,[e("div",ct,[ut,e("p",null,a(t.details.test_type_name),1)]),e("div",pt,[mt,e("p",null,a(t.moment(t.details.created_date).format("dateFormat"in o?o.dateFormat:R(P))),1)]),e("div",_t,[ht,e("p",null,a(t.moment(t.details.updated_date).format("dateFormat"in o?o.dateFormat:R(P))),1)]),e("div",ft,[bt,e("p",null,a(t.details.status.charAt(0).toUpperCase()+t.details.status.slice(1)),1)]),e("div",yt,[gt,e("p",null,a(t.details.requesting_ward),1)]),e("div",vt,[xt,e("p",null,a(t.details.requested_by.charAt(0).toUpperCase()+t.details.requested_by.slice(1)),1)]),e("div",wt,[kt,e("p",null,a(t.details.request_origin),1)]),e("div",Ct,[St,e("p",null,a(t.details.registered_by),1)])])])]),e("div",Dt,[e("div",Rt,[At,r(g,{type:"form","submit-label":"Update",onSubmit:n.saveResults,actions:!1},{default:_(()=>[(u(!0),p(A,null,T(t.details.indicators,(h,d)=>(u(),p("div",{class:"px-5 py-2 space-y-2",key:d},[e("label",Tt,a(h.name),1),r(b,{result:h.result,onUpdate:n.updateResult,onApply:n.loadOrganisms,data:h.indicator_ranges},null,8,["result","onUpdate","onApply","data"]),r(g,{type:"textarea",label:"Remarks",modelValue:t.remark,"onUpdate:modelValue":s[0]||(s[0]=c=>t.remark=c)},null,8,["modelValue"]),r(v,{loading:t.saving,click:()=>{},type:"submit",icon:t.saveIcon,text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]),_:1},8,["onSubmit"])]),e("div",Vt,[It,e("div",jt,[e("div",null,[Ut,r(g,{type:"form","submit-label":"Update",onSubmit:n.submitObservation,actions:!1},{default:_(({value:h})=>[e("table",qt,[Ot,e("tbody",null,[(u(!0),p(A,null,T(t.details.culture_observation,(d,c)=>(u(),p("tr",{class:"border-b border-dotted",key:c},[e("td",Nt,a(t.moment(d.observation_date).fromNow()),1),e("td",Pt,a(`${d.user.first_name} ${d.user.middle_name}
                                                ${d.user.last_name}`),1),e("td",zt,[d.description===""?(u(),O(g,{key:0,type:"textarea",label:"",name:"Remarks",value:d.description,validation:"required"},null,8,["value"])):D("",!0),d.description!=""?(u(),p("p",Bt,a(d.description),1)):D("",!0)]),e("td",Ft,[d.description===""?(u(),O(v,{key:0,type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])):D("",!0)])]))),128)),e("tr",Lt,[e("td",Et,a(t.moment().fromNow()),1),e("td",Mt,a(`${t.authStore.user.first_name} ${t.authStore.user.middle_name} ${t.authStore.user.last_name}`),1),e("td",Gt,[r(g,{type:"textarea",label:"",name:"Remarks",modelValue:t.remarks,"onUpdate:modelValue":s[1]||(s[1]=d=>t.remarks=d),validation:"required"},null,8,["modelValue"])]),e("td",Xt,[r(v,{type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])]),e("div",Ht,[Kt,e("div",Wt,[(u(!0),p(A,null,T(t.suspceptibilityResult,(h,d)=>(u(),p("div",{key:d,class:"mt-2"},[e("div",$t,[e("h3",Zt,a(h.name),1),e("div",Jt,[r(S,{index:d,onUpdate:n.getUpdatedDrugs},null,8,["index","onUpdate"]),r(v,{text:"Save",color:"success",icon:t.updateIcon,loading:t.updating,click:()=>n.updateResults(h)},null,8,["icon","loading","click"]),r(v,{loading:t.deleting,icon:t.trashIcon,color:"error",text:"Delete",click:()=>{n.deleteSusceptivityResult(h.id)}},null,8,["loading","icon","click"])])]),e("table",Qt,[Yt,e("tbody",null,[(u(!0),p(A,null,T(h.drugs,(c,ns)=>(u(),p("tr",es,[e("td",ts,a(c.name),1),e("td",ss,[r(C,{items:n.diameters(),modelValue:c.zone,"onUpdate:modelValue":V=>c.zone=V},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",os,[r(C,{items:"interpretations"in o?o.interpretations:R(oe),modelValue:c.interpretation,"onUpdate:modelValue":V=>c.interpretation=V},null,8,["items","modelValue","onUpdate:modelValue"])])]))),256))])])]))),128))])])]))])])}const js=j(Ie,[["render",is]]);export{js as default};
