import{_ as We}from"./EhL4ITZ8.js";import{b as v,e as w,g as e,S as Ae,p as Ve,Y as Ie,G as je,V as Ee,q as Oe,z as G,a as Y,l as I,m as j,s as qe,x as g,f as l,y as k,j as Ue,_ as J,d as Ye,I as Je,r as x,M as Qe,al as et,o as tt,c as st,h as s,t as d,C as F,ao as ot,X as Ce,F as K,k as W,A as De,H as Se,by as lt,u as N,E as $e,n as nt}from"./BXyMujmX.js";import{_ as Ne}from"./DfD4Z7nW.js";import{r as at}from"./CYegcnDq.js";import{r as rt}from"./Cdb0w5fP.js";import{r as Pe}from"./CHOuZIuX.js";import{_ as it}from"./BaJf9vfg.js";import{r as dt}from"./DAU2KjLV.js";import{_ as ut}from"./BBIgpWSn.js";import{u as ct}from"./DhMNNhhW.js";import{P as pt}from"./CrZr7riT.js";import{u as mt}from"./BrSykilB.js";import{r as ft}from"./Dfr3EQSc.js";import{r as bt}from"./BemizcBL.js";import"./9_0iIVXm.js";import"./B1ZrIgkL.js";import"./CZ7m8Kmu.js";import"./Bp1ZQY1w.js";import"./CzikmzDu.js";import"./CIiMT7Ls.js";import"./C1rT4RS7.js";import"./C0lYrmTo.js";function _t(r,o){return v(),w("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.47 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06l-3.22-3.22V16.5a.75.75 0 0 1-1.5 0V4.81L8.03 8.03a.75.75 0 0 1-1.06-1.06l4.5-4.5ZM3 15.75a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}const yt={components:{TransitionRoot:Ae,TransitionChild:Ve,Dialog:Ie,DialogPanel:je,DialogTitle:Ee,XMarkIcon:Oe},data(){return{viewIcon:at,show:!1,editIcon:rt,saveIcon:Pe,moment:G,cookie:Y("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,selectedResult:{name:"--select result--"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},computed:{dropdownItems(){const r=[...this.data];return r.unshift({value:"--select result--"}),r.map(o=>({name:o.value}))}},methods:{init(){var r,o,i;((r=this.result)==null?void 0:r.value)!==null&&(this.selectedResult={name:(o=this.result)!=null&&o.value?(i=this.result)==null?void 0:i.value:"--select result--"})},getUpdatedValue(r){r.name.toLowerCase()=="growth"&&this.loadOrganisms()},async loadOrganisms(){this.handleClick();const r={route:I.organisms,method:"GET",token:`${this.cookie}`},{data:o,error:i}=await j(r);o.value&&(this.rawOrganisms=o.value,o.value.map(D=>{this.organisms.push(D.name)})),i.value&&console.error(i.value)},handleClick(){this.show=!this.show},apply(){let r=[];this.rawOrganisms.forEach(o=>{this.organismsSelected.forEach(i=>{o.name===i&&r.push(o)})}),this.$emit("apply",r),this.organismsSelected=[],this.handleClick()}},watch:{selectedResult(r,o){this.data.map(i=>{i.value===r.name?this.$emit("update",i):r.name==="--select result--"&&this.$emit("update",{value:null})})}}},vt={class:"fixed inset-0 overflow-y-auto"},gt={class:"flex min-h-full items-center justify-center p-4 text-center"},ht={class:"border-b px-3 py-3 flex items-center justify-between"},xt={class:"space-y-3 px-5 py-5 pb-20"},wt={class:"w-full flex flex-col space-y-2"},kt={class:"flex justify-end"};function Tt(r,o,i,D,p,f){const O=Ne,S=g("TransitionChild"),V=g("DialogTitle"),E=g("XMarkIcon"),P=g("multi-select"),M=J,n=g("DialogPanel"),q=g("Dialog"),T=g("TransitionRoot");return v(),w("div",null,[l(O,{items:f.dropdownItems,modelValue:p.selectedResult,"onUpdate:modelValue":[o[0]||(o[0]=C=>p.selectedResult=C),f.getUpdatedValue]},null,8,["items","modelValue","onUpdate:modelValue"]),l(T,{appear:"",show:p.show,as:"template"},{default:k(()=>[l(q,{as:"div",class:"relative z-10"},{default:k(()=>[l(S,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>o[3]||(o[3]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",vt,[e("div",gt,[l(S,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:k(()=>[l(n,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:k(()=>[e("div",ht,[l(V,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:k(()=>o[4]||(o[4]=[e("img",{src:it,class:"w-8 h-8 mr-2"},null,-1),Ue(" Select organisms ")])),_:1}),e("button",{onClick:o[1]||(o[1]=(...C)=>f.handleClick&&f.handleClick(...C))},[l(E,{class:"w-5 h-5"})])]),e("div",xt,[e("div",wt,[o[5]||(o[5]=e("label",{class:"font-medium"},"Organisms",-1)),l(P,{style:{"--ms-max-height":"none !important"},modelValue:p.organismsSelected,"onUpdate:modelValue":o[2]||(o[2]=C=>p.organismsSelected=C),options:p.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",kt,[l(M,{click:f.apply,icon:p.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Rt=qe(yt,[["render",Tt]]),Ct={components:{TransitionChild:Ve,TransitionRoot:Ae,Dialog:Ie,DialogPanel:je,DialogTitle:Ee,XMarkIcon:Oe},data(){return{addIcon:dt,saveIcon:Pe,open:!1,loading:!1,cookie:Y("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const r={route:I.drugs,method:"GET",token:`${this.cookie}`},{data:o,error:i,pending:D}=await j(r);this.loading=D,o.value&&(this.handleClick(),this.rawDrugs=o.value,o.value.map(p=>{this.drugs.push(p.name)})),i.value&&console.error(i.value)},updatedDrugs(r){this.selectedDrugs=r},pushDrugs(r){let o=new Array;this.rawDrugs.map(i=>{r.map(D=>{i.name.toLowerCase()===D.toLowerCase()&&o.push(i)})}),this.$emit("update",{drugs:o,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},Dt={class:"fixed inset-0 overflow-y-auto"},St={class:"flex min-h-full items-center justify-center p-4 text-center"},$t={class:"border-b px-3 py-3 flex items-center justify-between"},At={class:"ma-5 px-4 py-4"},Vt={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function It(r,o,i,D,p,f){const O=J,S=g("TransitionChild"),V=g("DialogTitle"),E=g("XMarkIcon"),P=g("multi-select"),M=g("DialogPanel"),n=g("Dialog"),q=g("TransitionRoot");return v(),w("div",null,[e("div",null,[l(O,{click:f.init,text:"Add drug",color:"primary",icon:p.addIcon},null,8,["click","icon"])]),l(q,{appear:"",show:p.open,as:"template"},{default:k(()=>[l(n,{as:"div",onClose:f.handleClick,class:"relative z-10"},{default:k(()=>[l(S,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>o[2]||(o[2]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",Dt,[e("div",St,[l(S,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:k(()=>[l(M,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:k(()=>[e("div",$t,[l(V,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:k(()=>o[3]||(o[3]=[e("img",{src:ut,class:"w-8 h-8 mr-2"},null,-1),Ue(" Add drug ")])),_:1}),e("button",{onClick:o[0]||(o[0]=(...T)=>f.handleClick&&f.handleClick(...T))},[l(E,{class:"w-5 h-5"})])]),e("div",null,[e("div",At,[l(P,{modelValue:p.selectedDrugs,"onUpdate:modelValue":o[1]||(o[1]=T=>p.selectedDrugs=T),label:"Select drug(s)",options:p.drugs,mode:"tags",clear:"",searchable:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",Vt,[l(O,{click:()=>{f.pushDrugs(p.selectedDrugs)},type:"submit",color:"success",icon:p.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const jt=qe(Ct,[["render",It]]),Et={class:"px-5 py-5"},Ot={class:"flex items-center justify-between py-5"},qt={class:"text-2xl font-semibold"},Ut={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},Nt={key:1},Pt={class:"grid grid-cols-3 gap-4 py-5"},Mt={class:"rounded border"},zt={class:"w-full py-2"},Lt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Bt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Ft={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Gt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Xt={class:"rounded border"},Ht={class:"w-full py-2"},Zt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Kt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Wt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Yt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Jt={class:"rounded border max-h-72 overflow-y-auto"},Qt={class:"w-full py-2"},es={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ts={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ss={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},os={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ls={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},ns={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},as={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},rs={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},is={class:"grid grid-cols-5 gap-4"},ds={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},us={class:"font-medium"},cs={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},ps={class:"px-5 py-2 space-y-2"},ms={class:"w-full text-left border border-dotted"},fs={class:"px-2 py-3 border-r border-dotted"},bs={class:"px-2 py-3 border-r border-dotted"},_s={class:"px-2 py-3 border-r border-dotted"},ys={key:1},vs={class:"px-2 py-3"},gs={class:"border-b border-dotted"},hs={class:"px-2 py-3 border-r border-dotted"},xs={class:"px-2 py-3 border-r border-dotted"},ws={class:"px-2 py-3 border-r border-dotted"},ks={class:"px-2 py-3"},Ts={class:"rounded border mt-5"},Rs={class:"px-5 py-5"},Cs={class:"flex items-center mb-3 space-x-20"},Ds={class:"font-semibold text-lg"},Ss={class:"flex items-center space-x-3"},$s={class:"text-left border border-dotted"},As={class:"px-2 py-3 border-r border-dotted"},Vs={class:"px-2 py-3"},Is={class:"px-2 py-3"},to=Ye({__name:"culture-sensitivity",setup(r){mt({title:`${pt.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`});const{value:o}=ct("test_name_display","preferred_name"),i=Y("token"),D=Je(),p=x("Enter Culture & Sensitivity Results"),f=x(!1),O=x([{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}]),S=x(""),V=x(""),E=ft,P=_t,M=bt,n=x(null),q=x([]),T=x([]),C=x(!1),z=x(!1),L=x(!1),X=x({}),H=x(""),Me=x(""),U=x(!1),Q=Qe(),ze=et();tt(()=>{Me.value=`${Q.query.accession_number}`,H.value=`${Q.query.test_id}`,ee()});const Z=st(()=>n.value),ee=async()=>{var h,y;U.value=!0;const a={route:`${I.tests}/${H.value}`,method:"GET",token:`${i.value}`},{data:t,error:c,pending:b}=await j(a);U.value=b,t.value&&(n.value=t.value,U.value=!1,T.value=t.value.suscept_test_result.map(u=>({id:u.organism_id,name:u.name,drugs:u.drugs.map(m=>({name:m.name,drug_id:m.drug_id,zone:{name:m.zone===null?"--select result--":m.zone},interpretation:{name:m.interpretation===""||m.interpretation===null?"--select result--":m.interpretation}}))})),V.value=((h=t.value.result_remarks)==null?void 0:h.value)??((y=t.value.result_remarks)==null?void 0:y.value)),c.value&&(U.value=!1,console.error("error fetcing test details: ",c.value))},Le=async a=>{a.forEach(async t=>{const c={route:`${I.organisms}/${t.id}`,method:"GET",token:`${i.value}`},{data:b,error:h}=await j(c);if(b.value){q.value.push(b.value);let y={id:null,name:null,drugs:[]};q.value.forEach(u=>{y.id=u.id,y.name=u.name;const m=u.drugs.map(R=>({name:R.name,drug_id:R.id,zone:{name:"--select result--"},interpretation:{name:"--select result--"}}));y.drugs=y.drugs.concat(m)}),T.value.push(y)}h.value&&console.error(h.value)})},Be=()=>{let a=new Array;for(let t=0;t<=200;t++)a.push({name:`${t}`});return a.unshift({name:"--select result--"}),a},Fe=async()=>{f.value=!0;const a={route:I.cultureObservations,method:"POST",token:`${i.value}`,body:{test_id:H.value,description:S.value}},{data:t,error:c,pending:b}=await j(a);f.value=b,t.value&&(S.value="",f.value=!1,ee(),T.value=[]),c.value&&(f.value=!1,console.error(c.value))},Ge=async a=>{C.value=!0,T.value.filter(c=>a.name.toLowerCase()===c.name.toLowerCase()).map(async c=>{let b=[];c.drugs.map(R=>{b.push({drug_id:R.drug_id,zone:R.zone.name!=="--select result--"?R.zone.name:"",interpretation:R.interpretation.name!=="--select result--"?R.interpretation.name:""})});const h={route:I.drugSusceptibility,method:"POST",token:`${i.value}`,body:{test_id:H.value,organism_id:c.id,drugs:b.filter(R=>String(R.zone)!==""&&String(R.interpretation)!==""),status:"completed"}},{data:y,error:u,pending:m}=await j(h);C.value=m,y.value&&(C.value=!1,N().$toast.success("Suspceptibility test results updated successfully!")),u.value&&(console.error(u.value),C.value=!1,N().$toast.error($e))}),C.value=!1},Xe=async(a,t)=>{var u;L.value=!0;const c={route:`${I.drugSusceptibility}/delete`,method:"PUT",token:`${i.value}`,body:{test_id:((u=n.value)==null?void 0:u.id)||0,organism_id:a}},{data:b,error:h,pending:y}=await j(c);L.value=y,b.value&&(L.value=!1,T.value.splice(t,1),N().$toast.success("Suspceptibility test results deleted successfully!")),h.value&&(console.error(h.value),L.value=!1,N().$toast.success("An error has occurred, please try again!"))},He=a=>{X.value=a},Ze=async()=>{var h,y,u,m;z.value=!0;const a={route:`${I.updateResults}`,method:"POST",token:`${i.value}`,body:{test_id:((h=n.value)==null?void 0:h.id)||0,test_indicators:((y=X.value)==null?void 0:y.value)==null?[]:[{indicator:(u=X.value)==null?void 0:u.test_indicator_id,value:(m=X.value)==null?void 0:m.value}],remarks:V.value}},{data:t,error:c,pending:b}=await j(a);z.value=b,t.value&&(z.value=!1,N().$toast.success("Test results updated successfully"),ze.back()),c.value&&(z.value=!1,N().$toast.error($e),console.error(c.value))},Ke=a=>{T.value.map((t,c)=>{a.index===c&&a.drugs.map(b=>{t.drugs.push({name:b.name,drug_id:b.id,zone:{name:"--select result--"},interpretation:{name:"--select result--"}})})})};return(a,t)=>{var se,oe,le,ne,ae,re,ie,de,ue,ce,pe,me,fe,be,_e,ye,ve,ge,he,xe,we,ke,Te,Re;const c=We,b=nt,h=Rt,y=g("RichTextEditor"),u=J,m=g("FormKit"),R=jt,te=Ne;return v(),w("div",Et,[e("div",null,[l(c,{pages:s(O)},null,8,["pages"]),e("div",Ot,[e("h3",qt,d(s(p)),1)]),s(U)?(v(),w("div",Ut,[l(b),t[2]||(t[2]=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1))])):F("",!0),s(U)?F("",!0):(v(),w("div",Nt,[e("div",Pt,[e("div",Mt,[t[7]||(t[7]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1)),e("div",zt,[e("div",Lt,[t[3]||(t[3]=e("h3",{class:"font-medium"},"Patient Number",-1)),e("p",null,d((se=s(Z))==null?void 0:se.id),1)]),e("div",Bt,[t[4]||(t[4]=e("h3",{class:"font-medium"},"Name",-1)),e("p",null,d(`${(le=(oe=s(Z))==null?void 0:oe.client)==null?void 0:le.first_name} ${(ae=(ne=s(Z))==null?void 0:ne.client)==null?void 0:ae.middle_name} ${(ie=(re=s(Z))==null?void 0:re.client)==null?void 0:ie.last_name}`),1)]),e("div",Ft,[t[5]||(t[5]=e("h3",{class:"font-medium"},"Sex",-1)),e("p",null,d((ue=(de=s(n))==null?void 0:de.client)==null?void 0:ue.sex),1)]),e("div",Gt,[t[6]||(t[6]=e("h3",{class:"font-medium"},"Age",-1)),e("p",null,d(("calculateAge"in a?a.calculateAge:s(ot))(((pe=(ce=s(n))==null?void 0:ce.client)==null?void 0:pe.date_of_birth)||"")),1)])])]),e("div",Xt,[t[12]||(t[12]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1)),e("div",Ht,[e("div",Zt,[t[8]||(t[8]=e("h3",{class:"font-medium"},"Specimen Type",-1)),e("p",null,d((me=s(n))==null?void 0:me.specimen_type),1)]),e("div",Kt,[t[9]||(t[9]=e("h3",{class:"font-medium"},"Tracking Number",-1)),e("p",null,d((fe=s(n))==null?void 0:fe.tracking_number),1)]),e("div",Wt,[t[10]||(t[10]=e("h3",{class:"font-medium"},"Accession Number",-1)),e("p",null,d((be=s(n))==null?void 0:be.accession_number),1)]),e("div",Yt,[t[11]||(t[11]=e("h3",{class:"font-medium"},"Status",-1)),e("p",null,d((_e=s(n))!=null&&_e.order_status?s(n).order_status.split("-").join(" ").charAt(0).toUpperCase()+s(n).order_status.split("-").join(" ").slice(1):""),1)])])]),e("div",Jt,[t[21]||(t[21]=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1)),e("div",Qt,[e("div",es,[t[13]||(t[13]=e("h3",{class:"font-medium"},"Name",-1)),e("p",null,d(s(o)==="full_name"?(ye=s(n))==null?void 0:ye.test_type_name:(ve=s(n))==null?void 0:ve.test_type_preferred_name),1)]),e("div",ts,[t[14]||(t[14]=e("h3",{class:"font-medium"},"Date Registered",-1)),e("p",null,d((ge=s(n))!=null&&ge.created_date?s(G)(s(n).created_date).format("DATE_FORMAT"in a?a.DATE_FORMAT:s(Ce)):""),1)]),e("div",ss,[t[15]||(t[15]=e("h3",{class:"font-medium"},"Receipt Date",-1)),e("p",null,d((he=s(n))!=null&&he.updated_date?s(G)(s(n).updated_date).format("DATE_FORMAT"in a?a.DATE_FORMAT:s(Ce)):""),1)]),e("div",os,[t[16]||(t[16]=e("h3",{class:"font-medium"},"Test Status",-1)),e("p",null,d((xe=s(n))!=null&&xe.status?s(n).status.charAt(0).toUpperCase()+s(n).status.slice(1):""),1)]),e("div",ls,[t[17]||(t[17]=e("h3",{class:"font-medium"},"Ward/Location",-1)),e("p",null,d((we=s(n))==null?void 0:we.requesting_ward),1)]),e("div",ns,[t[18]||(t[18]=e("h3",{class:"font-medium"},"Physician",-1)),e("p",null,d((ke=s(n))!=null&&ke.requested_by?s(n).requested_by.charAt(0).toUpperCase()+s(n).requested_by.slice(1):""),1)]),e("div",as,[t[19]||(t[19]=e("h3",{class:"font-medium"},"Request Origin",-1)),e("p",null,d((Te=s(n))==null?void 0:Te.request_origin),1)]),e("div",rs,[t[20]||(t[20]=e("h3",{class:"font-medium"},"Registered By",-1)),e("p",null,d((Re=s(n))==null?void 0:Re.registered_by),1)])])])]),e("div",is,[e("div",ds,[t[23]||(t[23]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Observations ")],-1)),l(m,{type:"form","submit-label":"Update",onSubmit:Ze,actions:!1},{default:k(()=>{var $;return[(v(!0),w(K,null,W(($=s(n))==null?void 0:$.indicators,(_,A)=>(v(),w("div",{class:"px-5 py-2 space-y-2",key:A},[e("label",us,d(_.name),1),l(h,{result:_.result,onUpdate:He,onApply:Le,data:_.indicator_ranges},null,8,["result","data"]),e("div",null,[t[22]||(t[22]=e("p",{class:"text-base font-medium mb-2"},"Remarks",-1)),l(y,{theme:"snow",class:"editor",content:s(V),"onUpdate:content":t[0]||(t[0]=B=>De(V)?V.value=B:null),contentType:"html"},null,8,["content"])]),l(u,{loading:s(z),click:()=>{},type:"submit",icon:s(E),text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]}),_:1})]),e("div",cs,[t[26]||(t[26]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1)),e("div",ps,[e("div",null,[t[25]||(t[25]=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1)),l(m,{type:"form","submit-label":"Update",onSubmit:Fe,actions:!1},{default:k(()=>{var $;return[e("table",ms,[t[24]||(t[24]=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"}," Action ")])],-1)),e("tbody",null,[(v(!0),w(K,null,W(($=s(n))==null?void 0:$.culture_observation,(_,A)=>(v(),w("tr",{class:"border-b border-dotted",key:A},[e("td",fs,d(s(G)(_.observation_date).fromNow()),1),e("td",bs,d(`${_.user.first_name} ${_.user.middle_name}
                                                ${_.user.last_name}`),1),e("td",_s,[_.description===""?(v(),Se(m,{key:0,type:"textarea",label:"",name:"Remarks",value:_.description,validation:"required"},null,8,["value"])):F("",!0),_.description!=""?(v(),w("p",ys,d(_.description),1)):F("",!0)]),e("td",vs,[_.description===""?(v(),Se(u,{key:0,type:"submit",text:"Save",color:"success",icon:s(E),loading:s(f),click:()=>{}},null,8,["icon","loading"])):F("",!0)])]))),128)),e("tr",gs,[e("td",hs,d(s(G)().fromNow()),1),e("td",xs,d(`${s(D).user.first_name} ${s(D).user.middle_name} ${s(D).user.last_name}`),1),e("td",ws,[l(m,{type:"textarea",label:"",name:"Remarks",modelValue:s(S),"onUpdate:modelValue":t[1]||(t[1]=_=>De(S)?S.value=_:null),validation:"required"},null,8,["modelValue"])]),e("td",ks,[l(u,{type:"submit",text:"Save",color:"success",icon:s(E),loading:s(f),click:()=>{}},null,8,["icon","loading"])])])])])]}),_:1})])])])]),e("div",Ts,[t[28]||(t[28]=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1)),e("div",Rs,[(v(!0),w(K,null,W(s(T),($,_)=>(v(),w("div",{key:$.name,class:"mt-2"},[e("div",Cs,[e("h3",Ds,d($.name),1),e("div",Ss,[l(R,{index:_,onUpdate:Ke},null,8,["index"]),l(u,{text:"Save",color:"success",icon:s(P),loading:s(C),click:()=>Ge($)},null,8,["icon","loading","click"]),l(u,{loading:s(L),icon:s(M),color:"error",text:"Delete",click:()=>{Xe($.id,_)}},null,8,["loading","icon","click"])])]),e("table",$s,[t[27]||(t[27]=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1)),e("tbody",null,[(v(!0),w(K,null,W($.drugs,A=>(v(),w("tr",{class:"border-b border-dotted",key:A.name},[e("td",As,d(A.name),1),e("td",Vs,[l(te,{items:Be(),modelValue:A.zone,"onUpdate:modelValue":B=>A.zone=B},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",Is,[l(te,{items:"INTERPRETATIONS"in a?a.INTERPRETATIONS:s(lt),modelValue:A.interpretation,"onUpdate:modelValue":B=>A.interpretation=B},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])])]))),128))])])]))])])}}});export{to as default};
