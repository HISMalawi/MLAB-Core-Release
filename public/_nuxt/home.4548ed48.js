import{o as i,c as l,d as e,_ as $,f as d,p as S,u as B,w as V,v as z,b as n,g as a,T as q,n as w,h as v,j as b,t as m,e as K,q as se,F as A,r as H,s as te,l as de,k as C,x as ue,y as pe,z as _e}from"./entry.0b8cd08a.js";import{C as ne,A as me,p as oe,a as ae,P as he,b as fe,L as ge,c as ve,d as ye,e as xe,f as be}from"./index.237feb89.js";import{u as G,h as J,e as j,f as P,c as L}from"./fetch.3bebfb7d.js";import{r as ie}from"./EllipsisVerticalIcon.b8a4c823.js";import{M as N,y as U,h as Y,R as O}from"./menu.194c9b9b.js";import{r as re}from"./DocumentTextIcon.0c291505.js";import{r as we}from"./CheckBadgeIcon.5672486a.js";import{_ as $e}from"./clinical_fe.79fe7a0a.js";import{_ as E}from"./nuxt-link.7cdf9b23.js";import{_ as ke}from"./microscope.2a4b363f.js";import{_ as Me,a as De}from"./admissions.d8dc21ce.js";import{r as le}from"./DocumentTextIcon.f02b3f1a.js";import{d as Ie}from"./constants.1be0c037.js";import{_ as ce}from"./virus.f01ed2bb.js";import{_ as Ce}from"./medicines.f6cbdeaf.js";import{_ as Ve}from"./bacteria.d7bcfecb.js";import{_ as ze}from"./cone_test_on_nets.58926132.js";import{_ as Se}from"./blood_drop.b8fd46b9.js";import{S as Ae}from"./stock.472aad49.js";import{u as He}from"./vue.f36acd1f.cbc612d6.js";import{P as Be}from"./package.b2e4a4ff.js";import"./transition.29920038.js";import"./hidden.7f45844e.js";import"./XMarkIcon.c65f13ea.js";import"./PencilSquareIcon.8bd9941b.js";import"./PrinterIcon.f055bae4.js";import"./use-text-value.1a486bc2.js";function Te(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z","clip-rule":"evenodd"})])}function Le(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 15a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V15zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 18a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V18zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}ne.register(me,oe,ae);const je={components:{Pie:he},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}}};function Pe(t,o,u,p,s,c){const r=d("Pie");return i(),S(r,{data:s.data,options:s.options},null,8,["data","options"])}const Ee=$(je,[["render",Pe]]),Re={components:{EllipsisVerticalIcon:ie,Menu:N,MenuItem:U,MenuItems:Y,MenuButton:O,ChartPieIcon:Te,DocumentTextIcon:re},data(){return{authStore:G(),cookie:B("token"),testsData:{tests_count:{data:0},statuses_count:{"not-received":0,pending:0,started:0,completed:0,verified:0,voided:0,"not-done":0,"test-rejected":0,"specimen-not-collected":0,"specimen-accepted":0,"specimen-rejected":0}},loading:!0,viewChart:!1,showFilters:!1,startDate:"",endDate:"",applyIcon:we}},created(){this.init()},methods:{async init(){this.loading=!0;let{department:t}=G();const o=this.startDate==""?"":J(this.startDate).format("YYYY-MM-DD"),u=this.endDate==""?"":J(this.endDate).format("YYYY-MM-DD"),p={route:`${j.tests}/count?department=${t}&from=${o}&to=${u}`,method:"GET",token:`${this.cookie}`},{data:s,error:c,pending:r}=await P(p);this.loading=r,s.value&&(this.testsData=s.value,this.loading=!1,this.viewChart=!1,this.showFilters=!1),c.value&&(console.error(c.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"},proccessedAnalyticsData(t){let o={};return o={labels:["Not Received","Pending","Started","Completed","Verified"],datasets:[{backgroundColor:["#d97706","#dc2626","#06b6d4","#22c55e","#15803d"],data:[t.statuses_count["not-received"],t.statuses_count.pending,t.statuses_count.started,t.statuses_count.completed,t.statuses_count.verified]}]},o}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},Fe={class:"border rounded col-span-1"},Ge={class:"flex rounded-t items-center justify-between bg-gray-50 px-2 py-2 border-b"},qe=e("h3",{class:"text-xl font-semibold"},"Tests",-1),Ne={class:"px-1 py-1"},Ue={key:0},Ye={class:"flex items-center space-x-4 px-3 py-3"},Oe={class:"w-44"},Je={class:"w-44"},Ke={class:"flex items-center space-x-2 px-5 py-2"},Qe=e("img",{src:$e},null,-1),We={class:"text-3xl font-semibold"},Xe={class:"w-full px-5 py-2 space-y-2"},Ze={class:"flex items-center justify-between"},et=e("h3",{class:"font-medium"},"Pending",-1),tt={class:"flex items-center justify-between"},st=e("h3",{class:"font-medium"},"Verified",-1),nt={class:"flex items-center justify-between"},ot=e("h3",{class:"font-medium"},"Rejected",-1),at={key:0},it=se('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-2"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div><div class="px-2 py-2 space-y-2"><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div></div>',3),rt=[it];function lt(t,o,u,p,s,c){const r=d("EllipsisVerticalIcon"),_=d("MenuButton"),f=d("DocumentTextIcon"),g=d("MenuItem"),y=d("ChartPieIcon"),M=d("MenuItems"),D=d("Menu"),I=d("datepicker"),h=K,x=Ee;return i(),l("div",Fe,[V(e("div",null,[e("div",Ge,[qe,n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(_,null,{default:a(()=>[n(r,{class:"w-6 h-6"})]),_:1}),n(q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Ne,[n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[0]||(o[0]=F=>{s.showFilters=!s.showFilters,s.viewChart=!1}),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[n(f,{class:"w-5 h-5 mr-2"}),v(" Filter By Date ")],2)]),_:1}),n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[1]||(o[1]=F=>s.viewChart=!s.viewChart),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[s.viewChart?(i(),S(f,{key:0,class:"w-5 h-5 mr-2"})):b("",!0),s.viewChart?b("",!0):(i(),S(y,{key:1,class:"w-5 h-5 mr-2"})),v(" "+m(s.viewChart?"View summary":"View as Pie Chart"),1)],2)]),_:1})])]),_:1})]),_:1})]),_:1})]),s.showFilters?(i(),l("div",Ue,[e("div",Ye,[e("div",Oe,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.startDate,"onUpdate:modelValue":o[2]||(o[2]=k=>s.startDate=k)},null,8,["modelValue"])]),e("div",Je,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.endDate,"onUpdate:modelValue":o[3]||(o[3]=k=>s.endDate=k)},null,8,["modelValue"])]),n(h,{text:"Apply",color:"success",type:"button",icon:s.applyIcon,click:()=>{c.init()}},null,8,["icon","click"])])])):b("",!0),V(e("div",null,[e("div",Ke,[Qe,e("h3",We,m(s.testsData.tests_count.data.toLocaleString()),1)]),e("div",Xe,[e("div",Ze,[et,e("p",null,m(s.testsData.statuses_count.pending),1)]),e("div",tt,[st,e("p",null,m(s.testsData.statuses_count.verified),1)]),e("div",nt,[ot,e("p",null,m(s.testsData.statuses_count["test-rejected"]),1)])])],512),[[z,!s.viewChart&&!s.showFilters]])],512),[[z,!s.loading]]),s.testsData.tests_count.data!==0&&s.viewChart?(i(),l("div",at,[n(x,{chartData:c.proccessedAnalyticsData(s.testsData)},null,8,["chartData"])])):b("",!0),V(e("div",null,rt,512),[[z,s.loading]])])}const ct=$(Re,[["render",lt]]);function dt(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}),e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function ut(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function pt(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})])}function R(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"})])}function _t(t,o){return i(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM6 8a2 2 0 11-4 0 2 2 0 014 0zM1.49 15.326a.78.78 0 01-.358-.442 3 3 0 014.308-3.516 6.484 6.484 0 00-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 01-2.07-.655zM16.44 15.98a4.97 4.97 0 002.07-.654.78.78 0 00.357-.442 3 3 0 00-4.308-3.517 6.484 6.484 0 011.907 3.96 2.32 2.32 0 01-.026.654zM18 8a2 2 0 11-4 0 2 2 0 014 0zM5.304 16.19a.844.844 0 01-.277-.71 5 5 0 019.947 0 .843.843 0 01-.277.71A6.975 6.975 0 0110 18a6.974 6.974 0 01-4.696-1.81z"})])}const mt={components:{EllipsisVerticalIcon:R},data(){return{cookie:B("token"),loading:!1,analyticsData:{}}},created(){this.init()},methods:{async init(){const t={route:`${j.analytics}/lab_config`,method:"GET",token:`${this.cookie}`},{data:o,error:u,pending:p}=await P(t);this.loading=p,o.value&&(this.analyticsData=o.value.data,this.loading=!1),u.value&&(console.error(u.value),this.loading=!1)}}},ht=""+new URL("ambulatory_clinic.16bfb86e.svg",import.meta.url).href,ft={class:"border rounded"},gt={key:0},vt=e("div",{class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},[e("h3",null,"Lab Configuration")],-1),yt={class:"px-3 py-3 space-y-4"},xt={class:"flex items-center space-x-5"},bt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:ke,class:"w-8 h-8"})],-1),wt={class:"text-3xl font-bold"},$t={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},kt={class:"flex items-center space-x-5"},Mt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:Me,class:"w-8 h-8"})],-1),Dt={class:"text-3xl font-bold"},It={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Ct={class:"flex items-center space-x-5"},Vt=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:ht,class:"w-8 h-8"})],-1),zt={class:"text-3xl font-bold"},St={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},At=e("div",{class:"flex items-center justify-between px-2 py-2"},[e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"}),e("div",{class:"rounded-full h-8 w-8 bg-gray-100 animate-pulse"})],-1),Ht=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-14 w-14 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),Bt=[Ht];function Tt(t,o,u,p,s,c){var _,f,g;const r=E;return i(),l("div",ft,[s.loading?b("",!0):(i(),l("div",gt,[vt,e("div",yt,[e("div",xt,[bt,e("p",wt,[v(m((_=s.analyticsData)==null?void 0:_.instruments),1),e("span",$t,[n(r,{to:"/lab-configuration/instruments"},{default:a(()=>[v("instruments")]),_:1})])])]),e("div",kt,[Mt,e("p",Dt,[v(m((f=s.analyticsData)==null?void 0:f.facilities),1),e("span",It,[n(r,{to:"/lab-configuration/facilities"},{default:a(()=>[v("facilities")]),_:1})])])]),e("div",Ct,[Vt,e("p",zt,[v(m((g=s.analyticsData)==null?void 0:g.wards),1),e("span",St,[n(r,{to:"/lab-configuration/facility-wards"},{default:a(()=>[v("wards")]),_:1})])])])])])),V(e("div",null,[At,(i(),l(A,null,H(3,y=>e("div",{key:y},Bt)),64))],512),[[z,s.loading]])])}const Lt=$(mt,[["render",Tt]]),jt={components:{EllipsisVerticalIcon:R,Menu:N,MenuItem:U,MenuItems:Y,MenuButton:O,UserGroupIcon:_t,DocumentTextIcon:le},data(){return{cookie:B("token"),loading:!1,analyticsData:{clients:0,by_sex:{M:0,F:0}}}},created(){this.init()},methods:{async init(){this.loading=!0;const t={route:`${j.analytics}/clients`,method:"GET",token:`${this.cookie}`},{data:o,error:u,pending:p}=await P(t);this.loading=p,o.value&&(this.analyticsData=o.value.data,this.loading=!1),u.value&&(console.error(u.value),this.loading=!1)},getPercentage(t,o){return o==0?0:Math.round(t/o*100)}}},Pt=""+new URL("group.3c310866.svg",import.meta.url).href,Et={class:"border rounded"},Rt={class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},Ft=e("h3",null,"Patients",-1),Gt={class:"py-1 border-y"},qt={class:""},Nt={class:"flex items-center space-x-2 px-2 py-2"},Ut=e("img",{src:Pt},null,-1),Yt={class:"text-2xl font-semibold"},Ot={class:"px-5"},Jt=e("h3",{class:"mb-2 font-medium"},"By Gender",-1),Kt={class:"w-full flex items-center"},Qt={class:"mt-2"},Wt={class:"flex items-center space-x-2"},Xt=e("div",{class:"w-3 h-3 bg-sky-500 rounded-full"},null,-1),Zt={class:"flex items-center space-x-2"},es=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1),ts=se('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-4"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div>',2),ss=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-5 w-5 bg-gray-100 rounded-full animate-pulse"}),e("div",{class:"h-8 w-8 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),ns=[ss];function os(t,o,u,p,s,c){var h,x,k,F,Q,W,X,Z,ee;const r=d("EllipsisVerticalIcon"),_=d("MenuButton"),f=d("UserGroupIcon"),g=E,y=d("MenuItem"),M=d("DocumentTextIcon"),D=d("MenuItems"),I=d("Menu");return i(),l("div",Et,[V(e("div",null,[e("div",Rt,[Ft,n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(_,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Gt,[n(y,null,{default:a(({active:T})=>[n(g,{to:"/patients"},{default:a(()=>[e("button",{class:w([T?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(f,{class:"w-5 h-5 mr-2"}),v(" View Patients ")],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:T})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([T?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" Generate Reports ")],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),e("div",qt,[e("div",Nt,[Ut,e("h3",Yt,m((h=s.analyticsData)==null?void 0:h.clients.toLocaleString()),1)]),e("div",Ot,[Jt,e("div",Kt,[e("div",{style:te({width:c.getPercentage((x=s.analyticsData)==null?void 0:x.by_sex.M,(k=s.analyticsData)==null?void 0:k.clients)+"%"}),class:"h-4 bg-sky-500 rounded-tl-full rounded-bl-full"},null,4),e("div",{style:te({width:c.getPercentage((F=s.analyticsData)==null?void 0:F.by_sex.F,(Q=s.analyticsData)==null?void 0:Q.clients)+"%"}),class:"h-4 bg-green-500 rounded-br-full rounded-tr-full"},null,4)]),e("div",Qt,[e("div",Wt,[Xt,e("p",null,m(c.getPercentage((W=s.analyticsData)==null?void 0:W.by_sex.M,(X=s.analyticsData)==null?void 0:X.clients))+"% Males",1)]),e("div",Zt,[es,e("p",null,m(c.getPercentage((Z=s.analyticsData)==null?void 0:Z.by_sex.F,(ee=s.analyticsData)==null?void 0:ee.clients))+"% Females",1)])])])])],512),[[z,!s.loading]]),V(e("div",null,[ts,(i(),l(A,null,H(3,T=>e("div",{key:T},ns)),64))],512),[[z,s.loading]])])}const as=$(jt,[["render",os]]),is=de({name:"Badge",props:{text:{type:String,required:!0},color:{type:String}}});function rs(t,o,u,p,s,c){return i(),l("div",{class:w([`bg-${t.color}-500 border-2 border-${t.color}-400`,"text-white rounded px-2 py-1 text-sm text-center capitalize"])},m(t.text),3)}const ls=$(is,[["render",rs]]),cs={components:{EllipsisVerticalIcon:R,Badge:ls},data(){return{authStore:G(),cookie:B("token"),tests:new Array,loading:!1}},created(){this.init()},methods:{async init(){this.loading=!0;const t=this.authStore.user.departments.find(r=>r.name===this.authStore.department),o=t?t.id:null,u={route:`${j.tests}?minimal=true&page=1&per_page=9&status=&search=&department_id=${o}&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:p,error:s,pending:c}=await P(u);this.loading=c,p.value&&(this.tests=p.value.data,this.loading=!1),s.value&&(console.error("recent-tests: ",s.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},ds={class:"col-span-1 rounded border relative"},us={key:0},ps=e("div",{class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},[e("h3",{class:"text-lg font-semibold"},"Recent tests")],-1),_s={class:"w-full"},ms={class:"px-2 py-2 capitalize flex items-center"},hs={class:"px-2 py-2"},fs={class:"px-2 py-2 capitalize"},gs={key:1},vs=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),ys={class:"mt-2 space-y-2 px-2"},xs=e("div",{class:"h-5 w-5 rounded-full bg-gray-100 animate-pulse"},null,-1),bs=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),ws=[xs,bs],$s=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function ks(t,o,u,p,s,c){const r=K;return i(),l("div",ds,[s.loading?b("",!0):(i(),l("div",us,[ps,e("div",null,[e("table",_s,[e("tbody",null,[(i(!0),l(A,null,H(s.tests,(_,f)=>(i(),l("tr",{class:w(["border-b border-dotted",f%2!==0?"bg-gray-50":""]),key:f},[e("td",ms,[e("div",{class:w([`bg-${c.getStatusColor(_.status.toLowerCase())}-500`,"w-3 h-3 rounded-full mr-2"])},null,2),v(" "+m(`${("capitalizeStr"in t?t.capitalizeStr:C(L))(_.client.first_name.toLowerCase())}
                    ${_.client.middle_name!==null?_.client.middle_name:""} ${("capitalizeStr"in t?t.capitalizeStr:C(L))(_.client.last_name.toLowerCase())}`),1)]),e("td",hs,m(_.test_type_name),1),e("td",fs,m(_.status.split("-").join(" ")),1)],2))),128))])]),n(r,{click:()=>c.viewTests(),text:"View tests →",color:"primary",class:"m-2 absolute bottom-0"},null,8,["click"])])])),s.loading?(i(),l("div",gs,[vs,e("div",ys,[(i(),l(A,null,H(10,_=>e("div",{class:"flex items-center space-x-2",key:_},ws)),64))]),$s])):b("",!0)])}const Ms=$(cs,[["render",ks]]),Ds={components:{EllipsisVerticalIcon:R,ChartBarIcon:pt,Menu:N,MenuItem:U,MenuItems:Y,MenuButton:O,DocumentTextIcon:le,CalendarDaysIcon:dt,CalendarIcon:ut},data(){return{moment:J,cookie:B("token"),clients:new Array,loading:!0}},created(){this.getClients()},methods:{async getClients(){const t={route:`${j.clients}?page=1&per_page=9&status=&search=&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:o,error:u,pending:p}=await P(t);this.loading=p,o.value&&(this.clients=o.value.clients,this.loading=!1),u.value&&(console.error(u.value),this.loading=!1)},async newOrder(t){this.$router.push(`/tests/new-test?patient_id=${t.client_id}`)}}},Is={class:"col-span-1 rounded border relative"},Cs={key:0},Vs={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},zs=e("h3",{class:"text-lg font-semibold"},"Recent patients",-1),Ss={class:"py-1 border-y"},As={class:""},Hs={class:"w-full"},Bs={class:"px-2 py-2 capitalize flex items-center"},Ts={class:"px-2 py-2"},Ls={class:"px-2 py-2"},js={key:1},Ps=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),Es={class:"mt-2 space-y-2 px-2"},Rs=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),Fs=[Rs],Gs=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function qs(t,o,u,p,s,c){const r=d("EllipsisVerticalIcon"),_=d("MenuButton"),f=d("DocumentTextIcon"),g=E,y=d("MenuItem"),M=d("MenuItems"),D=d("Menu"),I=K;return i(),l("div",Is,[s.loading?b("",!0):(i(),l("div",Cs,[e("div",Vs,[zs,e("div",null,[n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(_,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Ss,[n(y,null,{default:a(({active:h})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([h?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(f,{class:"w-5 h-5 mr-2"}),v(" "+m("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",As,[e("table",Hs,[e("tbody",null,[(i(!0),l(A,null,H(s.clients,(h,x)=>(i(),l("tr",{class:w(["border-b border-dotted",x%2!==0?"bg-gray-50":""]),key:x},[e("td",Bs,m(`${("capitalizeStr"in t?t.capitalizeStr:C(L))(h.first_name.toLowerCase())} ${h.middle_name!==null?("capitalizeStr"in t?t.capitalizeStr:C(L))(h.middle_name.toLowerCase()):""} ${("capitalizeStr"in t?t.capitalizeStr:C(L))(h.last_name.toLowerCase())}`),1),e("td",Ts,m(s.moment(h.created_at).format("dateFormat"in t?t.dateFormat:C(Ie))),1),e("td",Ls,[n(I,{text:"New order →",color:"primary",click:()=>{c.newOrder(h)}},null,8,["click"])])],2))),128))])])])])),s.loading?(i(),l("div",js,[Ps,e("div",Es,[(i(),l(A,null,H(10,h=>e("div",{class:"flex items-center space-x-2",key:h},Fs)),64))]),Gs])):b("",!0)])}const Ns=$(Ds,[["render",qs]]),Us={components:{EllipsisVerticalIcon:R}},Ys={class:"col-span-1 border rounded"},Os=e("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"}," Test Catalog ",-1),Js={class:"px-2 py-2 grid grid-cols-3 gap-4"},Ks=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:ce,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Organisms")],-1),Qs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ce,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"9"),e("p",null,"Drugs")],-1),Ws=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ve,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Diseases")],-1),Xs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:ce,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Test Panels")],-1),Zs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:ze,class:"w-10 h-10 mb-5s",alt:"cone_test_on_nets"}),e("h3",{class:"text-2xl font-semibold mt-2"},"102"),e("p",null,"Test Types")],-1),en=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Se,class:"w-10 h-10 mb-5s",alt:"blood-drop-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Specimen Types")],-1),tn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:De,class:"w-10 h-10 mb-5s",alt:"admissions-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Laboratory Sections")],-1);function sn(t,o,u,p,s,c){const r=E;return i(),l("div",Ys,[Os,e("div",Js,[n(r,{to:"/test-catalog/organisms"},{default:a(()=>[Ks]),_:1}),n(r,{to:"/test-catalog/drugs"},{default:a(()=>[Qs]),_:1}),n(r,{to:"/test-catalog/diseases"},{default:a(()=>[Ws]),_:1}),n(r,{to:"/test-catalog/test-panels"},{default:a(()=>[Xs]),_:1}),n(r,{to:"/test-catalog/test-types"},{default:a(()=>[Zs]),_:1}),n(r,{to:"/test-catalog/specimen-types"},{default:a(()=>[en]),_:1}),n(r,{to:"/test-catalog/lab-sections"},{default:a(()=>[tn]),_:1})])])}const nn=$(Us,[["render",sn]]);ne.register(fe,ge,ve,ye,xe,oe,ae);const on={components:{Line:be},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}},watch:{chartData:{handler(t){this.data=t},deep:!0}}};function an(t,o,u,p,s,c){const r=d("Line");return i(),S(r,{data:s.data,options:s.options},null,8,["data","options"])}const rn=$(on,[["render",an]]),ln={components:{Menu:N,MenuButton:O,EllipsisVerticalIcon:ie,MenuItems:Y,MenuItem:U,DocumentTextIcon:re,ClipboardDocumentListIcon:Le},data(){return{loading:!1,serverItemsLength:0,stocks:new Array,cookie:B("token"),serverOptions:{page:1,rowsPerPage:25,sortBy:"name"}}},computed:{chartData(){let t={labels:new Array,datasets:[{label:"Stock level",backgroundColor:"#4ade80",data:new Array,cubicInterpolationMode:"monotone"},{label:"Minimum order level",backgroundColor:"#ef4444",data:new Array,cubicInterpolationMode:"monotone"}]};return this.stocks.map(o=>{t.labels.push(o.stock_item.name),t.datasets[0].data.push(o.quantity),t.datasets[1].data.push(o.minimum_order_level)}),t}},created(){this.init()},methods:{async init(){this.loading=!0;const t=new Ae,{page:o,rowsPerPage:u}=this.serverOptions;let p=`?page=${o}&per_page=${u}&search=`;const{data:s,error:c,pending:r}=await t.getStock(`${this.cookie}`,p);this.loading=r,s.value&&(this.loading=!1,this.stocks=s.value.data),c.value&&(this.loading=!1,console.error(c.value))}}};const cn=t=>(ue("data-v-d7bdc46c"),t=t(),pe(),t),dn={class:"rounded border"},un={class:"bg-gray-50 px-2 py-2 border-b rounded-t flex items-center justify-between"},pn=cn(()=>e("h3",{class:"font-semibold text-lg"},"Current stock levels",-1)),_n={class:"py-1 border-y"},mn={class:"chartStyle"};function hn(t,o,u,p,s,c){const r=d("EllipsisVerticalIcon"),_=d("MenuButton"),f=d("ClipboardDocumentListIcon"),g=E,y=d("MenuItem"),M=d("DocumentTextIcon"),D=d("MenuItems"),I=d("Menu"),h=rn;return i(),l("div",dn,[e("div",un,[pn,e("div",null,[n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(_,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(q,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",_n,[n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/stock"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(f,{class:"w-5 h-5 mr-2"}),v(" "+m("View stock"))],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/reports"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" "+m("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",mn,[n(h,{chartData:c.chartData},null,8,["chartData"])])])}const fn=$(ln,[["render",hn],["__scopeId","data-v-d7bdc46c"]]),gn={setup(){He({title:`${Be.name.toUpperCase()} - Home`});const t=G(),o=_e([{name:"superadmin"},{name:"superuser"}]);return{authStore:t,accessRoles:o}},methods:{showRoute(t){return this.authStore.user.roles.some(u=>t.some(p=>u.role_name.toLowerCase()===p.name.toLowerCase()))}}},vn={class:"px-5 py-5"},yn={class:"grid grid-cols-3 gap-4"},xn={class:"grid grid-cols-2 gap-4 py-5"};function bn(t,o,u,p,s,c){const r=ct,_=Lt,f=as,g=Ms,y=Ns,M=nn,D=fn;return i(),l("div",vn,[e("div",yn,[n(r),n(_),n(f)]),e("div",xn,[n(g),n(y),c.showRoute(p.accessRoles)?(i(),S(M,{key:0})):b("",!0),c.showRoute(p.accessRoles)?(i(),S(D,{key:1})):b("",!0)])])}const Kn=$(gn,[["render",bn]]);export{Kn as default};
