import{_ as O}from"./BJooVA_-.js";import{S as T,p as I,Y as $,G as V,V as M,q as F,s as N,a as j,u as y,E as A,x as b,y as n,b as C,e as D,g as o,f as t,z as l,j as k,_ as R,A as K,B,t as S,D as z,C as G,O as H}from"./CYcp6nS7.js";import{_ as P}from"./D5-opjGV.js";import{S as U}from"./DHplHiGy.js";import{r as Y}from"./Di9J9FJg.js";import{r as E}from"./r6BVbVNy.js";import{r as J}from"./BMZuEnoX.js";import{_ as L}from"./BtciFzAv.js";import{_ as X}from"./CRpPaH5K.js";import{r as Q}from"./D_CGNKK0.js";import{_ as W}from"./TRBkPlVd.js";import{P as Z}from"./lDJ8LIwH.js";import{u as ee}from"./CySQNWaz.js";import"./CiPuaXMZ.js";import"./BD7R0M9r.js";import"./CtVgqVA5.js";const te={components:{TransitionRoot:T,TransitionChild:I,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F,UserIcon:Y},data(){return{open:!1,addIcon:N,saveIcon:E,clearIcon:J,loading:!1,name:"",address:"",cookie:j("token")}},methods:{async submitForm(){this.loading=!0;const u=new U;let e={name:this.name,address:this.address};const{data:i,error:c,pending:s}=await u.createStockSupplier(`${this.cookie}`,e);this.loading=s,i.value&&(this.handleClick(),y().$toast.success(`${this.name} stock supplier created successfully!`),this.loading=!1,this.address="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(A),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe={class:"fixed inset-0 overflow-y-auto"},se={class:"flex min-h-full items-center justify-center p-4 text-center"},ne={class:"border-b px-3 py-3 flex items-center justify-between"},le={class:"mt-2 space-y-3"},ae={class:"w-full flex items-center px-5"},ie={class:"w-full flex flex-col space-y-2"},ce={class:"w-full flex items-center px-5 space-x-3"},re={class:"w-full flex flex-col space-y-2"},de={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ue(u,e,i,c,s,a){const m=R,r=n("TransitionChild"),h=n("DialogTitle"),x=n("XMarkIcon"),d=n("FormKit"),f=P,v=n("DialogPanel"),p=n("Dialog"),w=n("TransitionRoot");return C(),D("div",null,[o("div",null,[t(m,{text:"Add supplier",color:"primary",icon:s.addIcon,click:a.handleClick},null,8,["icon","click"])]),t(w,{appear:"",show:s.open,as:"template"},{default:l(()=>[t(p,{as:"div",onClose:a.handleClick,class:"relative z-10"},{default:l(()=>[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",oe,[o("div",se,[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",ne,[t(h,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:l(()=>e[4]||(e[4]=[k(" Create stock supplier ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...g)=>a.handleClick&&a.handleClick(...g))},[t(x,{class:"w-5 h-5"})])]),t(d,{type:"form","submit-label":"Update",onSubmit:a.submitForm,actions:!1,id:"submitForm"},{default:l(({value:g})=>[o("div",le,[o("div",ae,[o("div",ie,[t(d,{type:"text",label:"Name",validation:"required",modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=_=>s.name=_)},null,8,["modelValue"])])]),o("div",ce,[o("div",re,[t(d,{type:"textarea",label:"Address",validation:"required",modelValue:s.address,"onUpdate:modelValue":e[2]||(e[2]=_=>s.address=_)},null,8,["modelValue"])])])]),o("div",de,[t(f,{type:"button",click:()=>{a.clearForm()},text:"Clear form"},null,8,["click"]),t(m,{loading:s.loading,type:"submit",click:()=>{},color:"success",icon:s.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const me=b(te,[["render",ue]]),pe={components:{TransitionRoot:T,TransitionChild:I,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F},data(){return{viewIcon:K,show:!1,editIcon:B}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},_e={class:"fixed inset-0 overflow-y-auto"},fe={class:"flex min-h-full items-center justify-center p-4 text-center"},he={class:"border-b px-3 py-3 flex items-center justify-between"},xe={class:"space-y-3 px-5 py-5"},ve={class:"w-full flex flex-col space-y-1"},ge={class:"w-full flex flex-col space-y-1"};function ke(u,e,i,c,s,a){const m=R,r=n("TransitionChild"),h=n("DialogTitle"),x=n("XMarkIcon"),d=n("DialogPanel"),f=n("Dialog"),v=n("TransitionRoot");return C(),D("div",null,[t(m,{click:()=>{a.handleClick()},color:"primary",text:"View",icon:s.viewIcon},null,8,["click","icon"]),t(v,{appear:"",show:s.show,as:"template"},{default:l(()=>[t(f,{as:"div",class:"relative z-10"},{default:l(()=>[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",_e,[o("div",fe,[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(d,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",he,[t(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>e[2]||(e[2]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" View Stock Supplier ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...p)=>a.handleClick&&a.handleClick(...p))},[t(x,{class:"w-5 h-5"})])]),o("div",xe,[o("div",ve,[e[3]||(e[3]=o("label",{class:"font-semibold text-lg"},"Name",-1)),o("p",null,S(i.data.name),1)]),o("div",ge,[e[4]||(e[4]=o("label",{class:"font-semibold text-lg"},"Address",-1)),o("p",null,S(i.data.address),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ye=b(pe,[["render",ke]]),we={components:{TransitionRoot:T,TransitionChild:I,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F},data(){return{editIcon:B,show:!1,saveIcon:E,name:"",address:"",loading:!1,cookie:j("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick(),this.name=this.data.name,this.address=this.data.address},async submitForm(){this.loading=!0;const u=new U;let e={id:this.data.id,name:this.name,address:this.address};const{data:i,error:c,pending:s}=await u.updateStockSupplier(`${this.cookie}`,e);this.loading=s,i.value&&(this.handleClick(),y().$toast.success(`${this.name} stock supplier updated successfully!`),this.loading=!1,this.address="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(A),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},be={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},De={class:"border-b px-3 py-3 flex items-center justify-between"},Se={class:"mt-2 space-y-3"},Te={class:"w-full flex items-center px-5"},Ie={class:"w-full flex flex-col space-y-2"},$e={class:"w-full flex items-center px-5 space-x-3"},Ve={class:"w-full flex flex-col space-y-2"},Me={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Fe(u,e,i,c,s,a){const m=R,r=n("TransitionChild"),h=n("DialogTitle"),x=n("XMarkIcon"),d=n("FormKit"),f=P,v=n("DialogPanel"),p=n("Dialog"),w=n("TransitionRoot");return C(),D("div",null,[t(m,{click:()=>{a.init()},text:"Edit",color:"success",icon:s.editIcon},null,8,["click","icon"]),t(w,{appear:"",show:s.show,as:"template"},{default:l(()=>[t(p,{as:"div",class:"relative z-10"},{default:l(()=>[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",be,[o("div",Ce,[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",De,[t(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>e[4]||(e[4]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" Edit Stock Supplier ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...g)=>a.handleClick&&a.handleClick(...g))},[t(x,{class:"w-5 h-5"})])]),t(d,{type:"form",id:"editForm","submit-label":"Update",onSubmit:a.submitForm,actions:!1},{default:l(({value:g})=>[o("div",Se,[o("div",Te,[o("div",Ie,[t(d,{type:"text",label:"Name",validation:"required",modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=_=>s.name=_)},null,8,["modelValue"])])]),o("div",$e,[o("div",Ve,[t(d,{type:"textarea",label:"Address",validation:"required",modelValue:s.address,"onUpdate:modelValue":e[2]||(e[2]=_=>s.address=_)},null,8,["modelValue"])])])]),o("div",Me,[t(f,{type:"button",click:()=>{a.clearForm()},text:"Clear form"},null,8,["click"]),t(m,{loading:s.loading,type:"submit",click:()=>{},color:"success",icon:s.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const je=b(we,[["render",Fe]]),Re={components:{TransitionRoot:T,TransitionChild:I,Dialog:$,DialogPanel:V,DialogTitle:M,XMarkIcon:F,ExclamationTriangleIcon:z},data(){return{show:!1,deleteIcon:Q,loading:!1,reason:"",cookie:j("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(u){this.loading=!0;const e=new U,{data:i,error:c,pending:s}=await e.voidStockSupplier(`${this.cookie}`,{reason:this.reason,id:u});this.loading=s,i.value&&(this.handleClick(),y().$toast.success("Stock supplier deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),y().$toast.error(A),this.loading=!1)},handleClick(){this.show=!this.show}}},Ue={class:"fixed inset-0 overflow-y-auto"},Ae={class:"flex min-h-full items-center justify-center p-4 text-center"},Pe={class:"border-b px-3 py-3 flex items-center justify-between"},Be={class:"mt-2 space-y-3 px-5"},Ee={class:"rounded px-2 py-2"},Xe={class:"font-semibold text-red-500"},qe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Oe(u,e,i,c,s,a){const m=R,r=n("TransitionChild"),h=n("ExclamationTriangleIcon"),x=n("DialogTitle"),d=n("XMarkIcon"),f=n("FormKit"),v=P,p=n("DialogPanel"),w=n("Dialog"),g=n("TransitionRoot");return C(),D("div",null,[t(m,{click:a.handleClick,color:"error",text:"Delete",icon:s.deleteIcon},null,8,["click","icon"]),t(g,{appear:"",show:s.show,as:"template"},{default:l(()=>[t(w,{as:"div",class:"relative z-10"},{default:l(()=>[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Ue,[o("div",Ae,[t(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",Pe,[t(x,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>[t(h,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=k(" Confirm delete "))]),_:1}),o("button",{onClick:e[0]||(e[0]=(..._)=>a.handleClick&&a.handleClick(..._))},[t(d,{class:"w-5 h-5"})])]),t(f,{type:"form","submit-label":"Update",onSubmit:e[2]||(e[2]=_=>a.voidStockSupplier(i.data.id)),actions:!1},{default:l(({value:_})=>[o("div",Be,[o("div",Ee,[e[5]||(e[5]=k(" Do you really want to delete ")),o("span",Xe,S(i.data.name),1),e[6]||(e[6]=k("? Note that once this action is completed, it can not be undone "))]),t(f,{type:"textarea",label:"Reason",validation:"required",modelValue:s.reason,"onUpdate:modelValue":e[1]||(e[1]=q=>s.reason=q)},null,8,["modelValue"])]),o("div",qe,[t(v,{click:()=>{a.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),t(m,{loading:s.loading,type:"submit",click:()=>{},color:"error",icon:s.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ne=b(Re,[["render",Oe]]),Ke={setup(){ee({title:`${Z.name.toUpperCase()} - Stock Suppliers`})},data(){return{header:"Stock Suppliers",search:"",pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"address",value:"address"},{text:"actions",value:"actions"}],suppliers:new Array,loading:!1,cookie:j("token")}},created(){this.init()},methods:{async init(){this.loading=!0;const u=new U,{data:e,error:i,pending:c}=await u.getStockSupplier(`${this.cookie}`);this.loading=c,e.value&&(this.suppliers=e.value.filter(s=>({...s,created_date:G(s.created_date).format(H)})),this.loading=!1),i.value&&(console.error(i.value),this.loading=!1)}}},ze={class:"px-5 py-5"},Ge={class:"flex items-center justify-between py-5"},He={class:"text-2xl font-semibold"},Ye={class:"flex items-center space-x-3"},Je={class:"flex items-center justify-end py-5"},Le={class:"py-2 flex items-center space-x-2"};function Qe(u,e,i,c,s,a){const m=O,r=me,h=L,x=ye,d=je,f=Ne,v=W;return C(),D("div",ze,[t(m,{pages:s.pages},null,8,["pages"]),o("div",Ge,[o("h3",He,S(s.header),1),o("div",Ye,[t(r,{onUpdate:a.init},null,8,["onUpdate"])])]),o("div",Je,[t(h,{search:s.search},null,8,["search"])]),o("div",null,[t(v,{headers:s.headers,data:s.suppliers,loading:s.loading},{actions:l(({item:p})=>[o("div",Le,[t(x,{data:p},null,8,["data"]),t(d,{data:p,onUpdate:a.init},null,8,["data","onUpdate"]),t(f,{data:p,onUpdate:a.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading"])])])}const _t=b(Ke,[["render",Qe]]);export{_t as default};
