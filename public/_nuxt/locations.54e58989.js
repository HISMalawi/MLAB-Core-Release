import{_ as O}from"./Breadcrumb.vue.cc2f656e.js";import{u as $,a as y,_ as b,f as a,o as C,c as D,d as t,b as e,g as i,h as k,e as I,t as T}from"./entry.b51c7940.js";import{_ as L}from"./OutlinedButton.7f2abaea.js";import{e as R,d as z}from"./constants.f9070035.js";import{S}from"./stock.c8fb5faa.js";import{r as V}from"./XMarkIcon.e7deb21c.js";import{r as G}from"./UserIcon.537d0a01.js";import{r as X,a as H,h as J}from"./fetch.1b976651.js";import{r as q}from"./ArrowDownTrayIcon.7d8146c6.js";import{r as Q}from"./ArrowUturnLeftIcon.8641d16e.js";import{S as F,h as M,U,G as j,V as P}from"./transition.f96680a2.js";import{_ as W}from"./SearchBar.c4a03a6c.js";import{r as A,a as B}from"./PencilSquareIcon.afcaebc6.js";import{_ as N}from"./city.f81ee223.js";import{r as E}from"./TrashIcon.ade38abd.js";import{_ as Y}from"./Datatable.43b14b3d.js";import{u as Z}from"./vue.f36acd1f.ae0d6093.js";import{P as ee}from"./package.7adb425d.js";import"./nuxt-link.957836e4.js";import"./HomeIcon.c58d03f2.js";import"./PrinterIcon.0b3e5367.js";import"./hidden.553b83b2.js";import"./Loader.ddd4d01d.js";const te={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V,UserIcon:G},data(){return{open:!1,addIcon:X,saveIcon:q,clearIcon:Q,loading:!1,name:"",description:"",cookie:$("token")}},methods:{async submitForm(){this.loading=!0;const r=new S;let n={name:this.name,description:this.description};const{data:l,error:c,pending:o}=await r.createStockLocation(`${this.cookie}`,n);this.loading=o,l.value&&(this.handleClick(),y().$toast.success(`${this.name} stock location created successfully!`),this.loading=!1,this.description="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(R),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ne={class:"fixed inset-0 overflow-y-auto"},ae={class:"flex min-h-full items-center justify-center p-4 text-center"},ie={class:"border-b px-3 py-3 flex items-center justify-between"},se={class:"mt-2 space-y-3"},le={class:"w-full flex items-center px-5"},ce={class:"w-full flex flex-col space-y-2"},re={class:"w-full flex items-center px-5 space-x-3"},de={class:"w-full flex flex-col space-y-2"},me={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ue(r,n,l,c,o,s){const u=I,d=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),m=a("FormKit"),f=L,v=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[t("div",null,[e(u,{text:"Add location",color:"primary",icon:o.addIcon,click:s.handleClick},null,8,["icon","click"])]),e(w,{appear:"",show:o.open,as:"template"},{default:i(()=>[e(p,{as:"div",onClose:s.handleClick,class:"relative z-10"},{default:i(()=>[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[oe]),_:1}),t("div",ne,[t("div",ae,[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[t("div",ie,[e(h,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:i(()=>[k(" Create Stock Location ")]),_:1}),t("button",{onClick:n[0]||(n[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(m,{type:"form","submit-label":"Update",onSubmit:s.submitForm,actions:!1,id:"submitForm"},{default:i(({value:g})=>[t("div",se,[t("div",le,[t("div",ce,[e(m,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":n[1]||(n[1]=_=>o.name=_)},null,8,["modelValue"])])]),t("div",re,[t("div",de,[e(m,{type:"textarea",label:"Description",validation:"required",modelValue:o.description,"onUpdate:modelValue":n[2]||(n[2]=_=>o.description=_)},null,8,["modelValue"])])])]),t("div",me,[e(f,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),e(u,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const pe=b(te,[["render",ue]]),_e={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V},data(){return{viewIcon:A,show:!1,editIcon:B}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},fe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),he={class:"fixed inset-0 overflow-y-auto"},xe={class:"flex min-h-full items-center justify-center p-4 text-center"},ve={class:"border-b px-3 py-3 flex items-center justify-between"},ge=t("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),ke={class:"space-y-3 px-5 py-5"},ye={class:"w-full flex flex-col space-y-1"},we=t("label",{class:"font-semibold text-lg"},"Name",-1),be={class:"underline"},Ce={class:"w-full flex flex-col space-y-1"},De=t("label",{class:"font-semibold text-lg"},"Description",-1),Te={class:"underline"};function $e(r,n,l,c,o,s){const u=I,d=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),m=a("DialogPanel"),f=a("Dialog"),v=a("TransitionRoot");return C(),D("div",null,[e(u,{click:()=>{s.handleClick()},color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(v,{appear:"",show:o.show,as:"template"},{default:i(()=>[e(f,{as:"div",class:"relative z-10"},{default:i(()=>[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[fe]),_:1}),t("div",he,[t("div",xe,[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(m,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[t("div",ve,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>[ge,k(" View Stock Location ")]),_:1}),t("button",{onClick:n[0]||(n[0]=(...p)=>s.handleClick&&s.handleClick(...p))},[e(x,{class:"w-5 h-5"})])]),t("div",ke,[t("div",ye,[we,t("p",be,T(l.data.name),1)]),t("div",Ce,[De,t("p",Te,T(l.data.description),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ie=b(_e,[["render",$e]]),Se={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V},data(){return{editIcon:B,show:!1,saveIcon:q,name:"",description:"",loading:!1,cookie:$("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick(),this.name=this.data.name,this.description=this.data.description},async submitForm(){this.loading=!0;const r=new S;let n={id:this.data.id,name:this.name,description:this.description};const{data:l,error:c,pending:o}=await r.updateStockLocation(`${this.cookie}`,n);this.loading=o,l.value&&(this.handleClick(),y().$toast.success(`${this.name} stock location updated successfully!`),this.loading=!1,this.description="",this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),y().$toast.error(R),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},Ve=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Fe={class:"fixed inset-0 overflow-y-auto"},Me={class:"flex min-h-full items-center justify-center p-4 text-center"},Ue={class:"border-b px-3 py-3 flex items-center justify-between"},je=t("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),Pe={class:"mt-2 space-y-3"},Le={class:"w-full flex items-center px-5"},Re={class:"w-full flex flex-col space-y-2"},Be={class:"w-full flex items-center px-5 space-x-3"},Xe={class:"w-full flex flex-col space-y-2"},qe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ae(r,n,l,c,o,s){const u=I,d=a("TransitionChild"),h=a("DialogTitle"),x=a("XMarkIcon"),m=a("FormKit"),f=L,v=a("DialogPanel"),p=a("Dialog"),w=a("TransitionRoot");return C(),D("div",null,[e(u,{click:()=>{s.init()},text:"Edit",color:"success",icon:o.editIcon},null,8,["click","icon"]),e(w,{appear:"",show:o.show,as:"template"},{default:i(()=>[e(p,{as:"div",class:"relative z-10"},{default:i(()=>[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Ve]),_:1}),t("div",Fe,[t("div",Me,[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[t("div",Ue,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>[je,k(" Edit Stock Location ")]),_:1}),t("button",{onClick:n[0]||(n[0]=(...g)=>s.handleClick&&s.handleClick(...g))},[e(x,{class:"w-5 h-5"})])]),e(m,{type:"form",id:"editForm","submit-label":"Update",onSubmit:s.submitForm,actions:!1},{default:i(({value:g})=>[t("div",Pe,[t("div",Le,[t("div",Re,[e(m,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":n[1]||(n[1]=_=>o.name=_)},null,8,["modelValue"])])]),t("div",Be,[t("div",Xe,[e(m,{type:"textarea",label:"Description",validation:"required",modelValue:o.description,"onUpdate:modelValue":n[2]||(n[2]=_=>o.description=_)},null,8,["modelValue"])])])]),t("div",qe,[e(f,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),e(u,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ne=b(Se,[["render",Ae]]),Ee={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:j,DialogTitle:P,XMarkIcon:V,ExclamationTriangleIcon:H},data(){return{show:!1,deleteIcon:E,loading:!1,reason:"",cookie:$("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(r){this.loading=!0;const n=new S,{data:l,error:c,pending:o}=await n.voidStockLocation(`${this.cookie}`,{reason:this.reason,id:r});this.loading=o,l.value&&(this.handleClick(),y().$toast.success("Stock location deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),y().$toast.error(R),this.loading=!1)},handleClick(){this.show=!this.show}}},Ke=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Oe={class:"fixed inset-0 overflow-y-auto"},ze={class:"flex min-h-full items-center justify-center p-4 text-center"},Ge={class:"border-b px-3 py-3 flex items-center justify-between"},He={class:"mt-2 space-y-3 px-5"},Je={class:"rounded px-2 py-2"},Qe={class:"font-semibold text-red-500"},We={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ye(r,n,l,c,o,s){const u=I,d=a("TransitionChild"),h=a("ExclamationTriangleIcon"),x=a("DialogTitle"),m=a("XMarkIcon"),f=a("FormKit"),v=L,p=a("DialogPanel"),w=a("Dialog"),g=a("TransitionRoot");return C(),D("div",null,[e(u,{click:s.handleClick,color:"error",text:"Delete",icon:o.deleteIcon},null,8,["click","icon"]),e(g,{appear:"",show:o.show,as:"template"},{default:i(()=>[e(w,{as:"div",class:"relative z-10"},{default:i(()=>[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>[Ke]),_:1}),t("div",Oe,[t("div",ze,[e(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[e(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[t("div",Ge,[e(x,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>[e(h,{class:"h-5 w-5 mr-2"}),k(" Confirm delete ")]),_:1}),t("button",{onClick:n[0]||(n[0]=(..._)=>s.handleClick&&s.handleClick(..._))},[e(m,{class:"w-5 h-5"})])]),e(f,{type:"form","submit-label":"Update",onSubmit:n[2]||(n[2]=_=>s.voidStockSupplier(l.data.id)),actions:!1},{default:i(({value:_})=>[t("div",He,[t("div",Je,[k(" Do you really want to delete "),t("span",Qe,T(l.data.name),1),k("? Note that once this action is completed, it can not be undone ")]),e(f,{type:"textarea",label:"Reason",validation:"required",modelValue:o.reason,"onUpdate:modelValue":n[1]||(n[1]=K=>o.reason=K)},null,8,["modelValue"])]),t("div",We,[e(v,{click:()=>{s.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(u,{loading:o.loading,type:"submit",click:()=>{},color:"error",icon:o.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ze=b(Ee,[["render",Ye]]),et={setup(){Z({title:`${ee.name.toUpperCase()} - Stock Locations`})},data(){return{header:"Stock Locations",addIcon:X,viewIcon:A,deleteIcon:E,editIcon:B,search:"",loading:!1,cookie:$("token"),pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"description",value:"description"},{text:"actions",value:"actions"}],locations:new Array}},created(){this.init()},methods:{async init(){this.loading=!0;const r=new S,{data:n,error:l,pending:c}=await r.getStockLocation(`${this.cookie}`);this.loading=c,n.value&&(this.locations=n.value.filter(o=>({...o,created_date:J(o.created_date).format(z)})),this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}},watch:{search(r){console.log(r)}}},tt={class:"px-5 py-5"},ot={class:"flex items-center justify-between py-5"},nt={class:"text-2xl font-semibold"},at={class:"flex items-center space-x-3"},it={class:"flex items-center justify-end py-5"},st={class:"py-2 flex items-center space-x-2"};function lt(r,n,l,c,o,s){const u=O,d=pe,h=W,x=Ie,m=Ne,f=Ze,v=Y;return C(),D("div",tt,[e(u,{pages:o.pages},null,8,["pages"]),t("div",ot,[t("h3",nt,T(o.header),1),t("div",at,[e(d,{onUpdate:s.init},null,8,["onUpdate"])])]),t("div",it,[e(h,{search:o.search},null,8,["search"])]),t("div",null,[e(v,{loading:o.loading,headers:o.headers,data:o.locations,"search-value":o.search,"search-field":"name"},{actions:i(({item:p})=>[t("div",st,[e(x,{data:p},null,8,["data"]),e(m,{data:p,onUpdate:s.init},null,8,["data","onUpdate"]),e(f,{data:p,onUpdate:s.init},null,8,["data","onUpdate"])])]),_:1},8,["loading","headers","data","search-value"])])])}const Ft=b(et,[["render",lt]]);export{Ft as default};
