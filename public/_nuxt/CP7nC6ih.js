import{_ as G}from"./9st0-0tz.js";import{S as T,p as M,Y as L,G as A,V as F,q as j,a as O,u as b,E as B,s as I,x as c,b as w,e as V,g as o,f as i,y as r,j as C,H as E,D as $,_ as R,t as D,z as H,L as Y}from"./DFRCgfJ7.js";import{_ as X}from"./CwpPpque.js";import{_ as Q}from"./CzHc6CvN.js";import{_ as P}from"./DKZ0QoWC.js";import{S as h}from"./BPBrVMfj.js";import{r as J}from"./DvUwAmtA.js";import{r as N}from"./Z66635vA.js";import{r as K}from"./BIfcYUmN.js";import{r as q}from"./CNSNb7H9.js";import{r as W}from"./DDOI77tZ.js";import{_ as ee}from"./BZkefcnP.js";import{r as z}from"./C-CyX-lv.js";import{_ as te}from"./DBmflaAt.js";import{r as oe}from"./DMnRMKKE.js";import{r as Z}from"./Dyezt1gs.js";import{_ as ie}from"./DJS9VRo6.js";import{P as se}from"./BJWqiItS.js";import{u as ne}from"./DX-fG2iE.js";import"./_gKYxzJq.js";import"./ETY0v-Ty.js";import"./DPgPQj3l.js";import"./DgQpkSfa.js";import"./Ddj-PgKU.js";import"./BYyprm3K.js";import"./w-YgZM2H.js";import"./BCeJtOqG.js";import"./D8DjzwVZ.js";const le={components:{TransitionRoot:T,TransitionChild:M,Dialog:L,DialogPanel:A,DialogTitle:F,XMarkIcon:j,UserIcon:J},data(){return{open:!1,addIcon:N,saveIcon:K,editIcon:q,clearIcon:W,loading:!1,name:"",description:"",cookie:O("token"),rawCategories:new Array,categories:new Array,selectedCategory:"",measurementQuantity:0,rawStockUnits:new Array,stockUnits:new Array,stockLocations:new Array,selectedLocation:{name:"-- selected location --",id:0},selectedStockUnit:"",strength:"",minimumOrderLevel:0}},methods:{async getStockCategory(){const d=new h,{data:e,error:s}=await d.getStockCategory(`${this.cookie}`);e.value&&(this.rawCategories=e.value,this.categories=e.value.map(a=>a.name)),s.value&&console.error(s.value)},async getStockUnit(){const d=new h,{data:e,error:s}=await d.getStockUnit(`${this.cookie}`);e.value&&(this.rawStockUnits=e.value,this.stockUnits=e.value.map(a=>a.name)),s.value&&console.error(s.value)},async getStockLocation(){const d=new h,{data:e,error:s}=await d.getStockLocation(`${this.cookie}`);e.value&&(this.stockLocations=e.value),s.value&&console.error(s.value)},async init(){await this.getStockCategory(),await this.getStockUnit(),await this.getStockLocation(),this.handleClick()},async submitForm(){this.loading=!0;const d=new h,e={name:this.name,description:this.description,stock_location_id:this.selectedLocation.id,stock_category_id:this.rawCategories.filter(n=>n.name===this.selectedCategory)[0].id,measurement_unit:this.rawStockUnits.filter(n=>n.name===this.selectedStockUnit)[0].id,quantity_unit:this.measurementQuantity,strength:this.strength,minimum_order_level:this.minimumOrderLevel},{pending:s,error:a,data:t}=await d.createStockItem(`${this.cookie}`,e);this.loading=s,t.value&&(this.handleClick(),b().$toast.success(`${this.name} stock item created successfully!`),this.loading=!1,this.description="",this.name="",this.measurementQuantity=0,this.$emit("update",!0)),a.value&&(this.handleClick(),console.error(a.value),b().$toast.error(B),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},ae={class:"fixed inset-0 overflow-y-auto"},ce={class:"flex min-h-full items-center justify-center p-4 text-center"},re={class:"border-b px-3 py-3 flex items-center justify-between"},de={class:"mt-2 space-y-3 px-5"},me={class:"w-full flex items-center"},ue={class:"w-full flex flex-col space-y-2"},pe={class:"w-full flex flex-col space-y-2"},fe={class:"flex items-center"},_e={class:"flex items-center space-x-2 pt-8 ml-3"},he={class:"w-full flex flex-col space-y-2"},ge={class:"bg-white"},ve={class:"w-full flex flex-col space-y-2"},ke={class:"w-full flex flex-col space-y-2"},ye={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function xe(d,e,s,a,t,n){const u=R,p=c("TransitionChild"),g=c("DialogTitle"),v=c("XMarkIcon"),m=c("FormKit"),f=X,k=Q,_=P,S=c("DialogPanel"),U=c("Dialog"),y=c("TransitionRoot");return w(),V("div",null,[o("div",null,[i(u,{text:"Create stock item",color:"primary",icon:t.addIcon,click:n.init},null,8,["icon","click"])]),i(y,{appear:"",show:t.open,as:"template"},{default:r(()=>[i(U,{as:"div",onClose:n.handleClick,class:"relative z-10"},{default:r(()=>[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>e[9]||(e[9]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ae,[o("div",ce,[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[i(S,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:r(()=>[o("div",re,[i(g,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:r(()=>e[10]||(e[10]=[C(" Create stock item ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...x)=>n.handleClick&&n.handleClick(...x))},[i(v,{class:"w-5 h-5"})])]),i(m,{type:"form","submit-label":"Update",onSubmit:n.submitForm,actions:!1,id:"submitForm"},{default:r(({value:x})=>[o("div",de,[o("div",me,[o("div",ue,[i(m,{type:"text",label:"Name",validation:"required",modelValue:t.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t.name=l)},null,8,["modelValue"])])]),o("div",pe,[i(m,{type:"textarea",label:"Description",validation:"required",modelValue:t.description,"onUpdate:modelValue":e[2]||(e[2]=l=>t.description=l)},null,8,["modelValue"])]),o("div",fe,[i(f,{mode:"single","items-selected":t.selectedStockUnit,"onUpdate:itemsSelected":e[3]||(e[3]=l=>t.selectedStockUnit=l),label:"Measurement Unit",items:t.stockUnits},null,8,["items-selected","items"]),o("div",_e,[t.selectedStockUnit==""?(w(),E(u,{key:0,icon:t.addIcon,color:"primary",text:"Add",click:()=>{d.$router.push("/stock-management/metrics")}},null,8,["icon","click"])):$("",!0),t.selectedStockUnit!=""?(w(),E(u,{key:1,icon:t.editIcon,color:"success",text:"Edit",click:()=>{d.$router.push("/stock-management/metrics")}},null,8,["icon","click"])):$("",!0)])]),o("div",he,[i(m,{type:"number",label:"Quantity of measurement",validation:"required",modelValue:t.measurementQuantity,"onUpdate:modelValue":e[4]||(e[4]=l=>t.measurementQuantity=l)},null,8,["modelValue"])]),o("div",ge,[i(f,{mode:"single",label:"Category",items:t.categories,"items-selected":t.selectedCategory,"onUpdate:itemsSelected":e[5]||(e[5]=l=>t.selectedCategory=l)},null,8,["items","items-selected"])]),o("div",null,[e[11]||(e[11]=o("label",{class:"font-medium mb-2.5 text-lg"},"Location",-1)),i(k,{items:t.stockLocations,modelValue:t.selectedLocation,"onUpdate:modelValue":e[6]||(e[6]=l=>t.selectedLocation=l)},null,8,["items","modelValue"])]),o("div",ve,[i(m,{type:"text",label:"Strength",modelValue:t.strength,"onUpdate:modelValue":e[7]||(e[7]=l=>t.strength=l)},null,8,["modelValue"])]),o("div",ke,[i(m,{type:"number",label:"Minimum order level",validation:"required",modelValue:t.minimumOrderLevel,"onUpdate:modelValue":e[8]||(e[8]=l=>t.minimumOrderLevel=l)},null,8,["modelValue"])])]),o("div",ye,[i(_,{type:"button",click:()=>{n.clearForm()},text:"Clear form"},null,8,["click"]),i(u,{loading:t.loading,type:"submit",click:()=>{},color:"success",icon:t.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const we=I(le,[["render",xe]]),Ce={components:{TransitionRoot:T,TransitionChild:M,Dialog:L,DialogPanel:A,DialogTitle:F,XMarkIcon:j},data(){return{viewIcon:z,show:!1,editIcon:q}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},be={class:"fixed inset-0 overflow-y-auto"},Se={class:"flex min-h-full items-center justify-center p-4 text-center"},Ue={class:"border-b px-3 py-3 flex items-center justify-between"},Ie={class:"space-y-3 px-5 py-5"},Ve={class:"w-full flex flex-col space-y-1"},De={class:"w-full flex flex-col space-y-1"};function Te(d,e,s,a,t,n){const u=R,p=c("TransitionChild"),g=c("DialogTitle"),v=c("XMarkIcon"),m=c("DialogPanel"),f=c("Dialog"),k=c("TransitionRoot");return w(),V("div",null,[i(u,{click:()=>{n.handleClick()},color:"primary",text:"View",icon:t.viewIcon},null,8,["click","icon"]),i(k,{appear:"",show:t.show,as:"template"},{default:r(()=>[i(f,{as:"div",class:"relative z-10"},{default:r(()=>[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",be,[o("div",Se,[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[i(m,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:r(()=>[o("div",Ue,[i(g,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:r(()=>e[2]||(e[2]=[o("img",{src:te,class:"w-8 h-8 mr-2"},null,-1),C(" View Stock Item ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(..._)=>n.handleClick&&n.handleClick(..._))},[i(v,{class:"w-5 h-5"})])]),o("div",Ie,[o("div",Ve,[e[3]||(e[3]=o("label",{class:"font-semibold text-lg"},"Name",-1)),o("p",null,D(s.data.name),1)]),o("div",De,[e[4]||(e[4]=o("label",{class:"font-semibold text-lg"},"Description",-1)),o("p",null,D(s.data.description),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Me=I(Ce,[["render",Te]]),Le={components:{TransitionRoot:T,TransitionChild:M,Dialog:L,DialogPanel:A,DialogTitle:F,XMarkIcon:j},data(){return{editIcon:q,show:!1,saveIcon:K,name:"",description:"",loading:!1,cookie:O("token"),rawCategories:new Array,categories:new Array,selectedCategory:"",measurementQuantity:0,rawStockUnits:new Array,stockUnits:new Array,selectedStockUnit:"",strength:"",minimumOrderLevel:0,stockLocations:new Array,selectedLocation:{name:"-- selected location --",id:0}}},props:{data:{type:Object,required:!0}},methods:{async getStockLocation(){const d=new h,{data:e,error:s}=await d.getStockLocation(`${this.cookie}`);e.value&&(this.stockLocations=e.value,this.selectedLocation=e.value.filter(a=>a.id==this.data.stock_location_id)[0]),s.value&&console.error(s.value)},async getStockCategory(){const d=new h,{data:e,error:s}=await d.getStockCategory(`${this.cookie}`);e.value&&(this.rawCategories=e.value,this.categories=e.value.map(a=>a.name),this.selectedCategory=this.rawCategories.filter(a=>a.id==this.data.stock_category_id)[0].name),s.value&&console.error(s.value)},async getStockUnit(){const d=new h,{data:e,error:s}=await d.getStockUnit(`${this.cookie}`);e.value&&(this.rawStockUnits=e.value,this.stockUnits=e.value.map(a=>a.name),this.selectedStockUnit=this.rawStockUnits.filter(a=>a.id==this.data.measurement_unit)[0].name),s.value&&console.error(s.value)},async init(){await this.getStockCategory(),await this.getStockUnit(),await this.getStockLocation(),this.handleClick(),this.name=this.data.name,this.description=this.data.description,this.strength=this.data.strength,this.minimumOrderLevel=this.data.minimum_order_level},async submitForm(){this.loading=!0;const d=new h;let e={id:this.data.id,name:this.name,description:this.description,stock_location_id:this.selectedLocation.id,stock_category_id:this.rawCategories.filter(n=>n.name===this.selectedCategory)[0].id,measurement_unit:this.rawStockUnits.filter(n=>n.name===this.selectedStockUnit)[0].id,quantity_unit:this.measurementQuantity,strength:this.strength,minimum_order_level:this.minimumOrderLevel};const{data:s,error:a,pending:t}=await d.updateStockItem(`${this.cookie}`,e);this.loading=t,s.value&&(this.handleClick(),b().$toast.success(`${this.name} stock item updated successfully!`),this.loading=!1,this.description="",this.name="",this.$emit("update",!0)),a.value&&(this.handleClick(),console.error(a.value),b().$toast.error(B),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},Ae="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M39%209.75V16.1786C39%2018.2496%2032.2843%2019.9286%2024%2019.9286C15.7157%2019.9286%209%2018.2496%209%2016.1786V9.75C9%207.67893%2015.7157%206%2024%206C32.2843%206%2039%207.67893%2039%209.75ZM9.62114%2019.7144C11.4651%2021.2634%2017.2049%2022.393%2024%2022.393C30.7951%2022.393%2036.5349%2021.2634%2038.3789%2019.7144C38.783%2020.0538%2039%2020.4134%2039%2020.7857V27.2143C39%2029.2853%2032.2843%2030.9643%2024%2030.9643C15.7157%2030.9643%209%2029.2853%209%2027.2143V20.7858C9.00002%2020.4135%209.21703%2020.0538%209.62114%2019.7144ZM24%2033.6786C17.205%2033.6786%2011.4652%2032.549%209.62118%2031C9.21703%2031.3395%209%2031.6991%209%2032.0714V38.5C9%2040.5711%2015.7157%2042.25%2024%2042.25C32.2843%2042.25%2039%2040.5711%2039%2038.5V32.0714C39%2031.6991%2038.783%2031.3395%2038.3788%2031C36.5348%2032.549%2030.795%2033.6786%2024%2033.6786ZM32.3333%2037.3333C32.3333%2037.9777%2031.811%2038.5%2031.1667%2038.5C30.5223%2038.5%2030%2037.9777%2030%2037.3333C30%2036.689%2030.5223%2036.1667%2031.1667%2036.1667C31.811%2036.1667%2032.3333%2036.689%2032.3333%2037.3333ZM35.8333%2037.3333C36.4777%2037.3333%2037%2036.811%2037%2036.1667C37%2035.5223%2036.4777%2035%2035.8333%2035C35.189%2035%2034.6667%2035.5223%2034.6667%2036.1667C34.6667%2036.811%2035.189%2037.3333%2035.8333%2037.3333Z'%20fill='currentColor'/%3e%3c/svg%3e",Fe={class:"fixed inset-0 overflow-y-auto"},je={class:"flex min-h-full items-center justify-center p-4 text-center"},Oe={class:"border-b px-3 py-3 flex items-center justify-between"},Re={class:"mt-2 space-y-3 px-5"},qe={class:"w-full flex items-center"},Be={class:"w-full flex flex-col space-y-2"},Pe={class:"w-full flex items-center space-x-3"},Ee={class:"w-full flex flex-col space-y-2"},$e={class:"flex items-center"},Xe={class:"w-full flex flex-col space-y-2"},Qe={class:"bg-white"},Ne={class:"w-full flex flex-col space-y-2"},Ke={class:"w-full flex flex-col space-y-2"},ze={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ze(d,e,s,a,t,n){const u=R,p=c("TransitionChild"),g=c("DialogTitle"),v=c("XMarkIcon"),m=c("FormKit"),f=X,k=Q,_=P,S=c("DialogPanel"),U=c("Dialog"),y=c("TransitionRoot");return w(),V("div",null,[i(u,{click:()=>{n.init()},text:"Edit",color:"success",icon:t.editIcon},null,8,["click","icon"]),i(y,{appear:"",show:t.show,as:"template"},{default:r(()=>[i(U,{as:"div",class:"relative z-10"},{default:r(()=>[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>e[9]||(e[9]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Fe,[o("div",je,[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[i(S,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:r(()=>[o("div",Oe,[i(g,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:r(()=>e[10]||(e[10]=[o("img",{src:Ae,class:"w-8 h-8 mr-2"},null,-1),C(" Edit Stock Item ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...x)=>n.handleClick&&n.handleClick(...x))},[i(v,{class:"w-5 h-5"})])]),i(m,{type:"form",id:"editForm","submit-label":"Update",onSubmit:n.submitForm,actions:!1},{default:r(({value:x})=>[o("div",Re,[o("div",qe,[o("div",Be,[i(m,{type:"text",label:"Name",validation:"required",modelValue:t.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t.name=l)},null,8,["modelValue"])])]),o("div",Pe,[o("div",Ee,[i(m,{type:"textarea",label:"Description",validation:"required",modelValue:t.description,"onUpdate:modelValue":e[2]||(e[2]=l=>t.description=l)},null,8,["modelValue"])])]),o("div",$e,[i(f,{mode:"single","items-selected":t.selectedStockUnit,"onUpdate:itemsSelected":e[3]||(e[3]=l=>t.selectedStockUnit=l),label:"Measurement Unit",items:t.stockUnits},null,8,["items-selected","items"])]),o("div",Xe,[i(m,{type:"number",label:"Quantity of measurement",validation:"required",modelValue:t.measurementQuantity,"onUpdate:modelValue":e[4]||(e[4]=l=>t.measurementQuantity=l)},null,8,["modelValue"])]),o("div",Qe,[i(f,{mode:"single",label:"Category",items:t.categories,"items-selected":t.selectedCategory,"onUpdate:itemsSelected":e[5]||(e[5]=l=>t.selectedCategory=l)},null,8,["items","items-selected"])]),o("div",null,[e[11]||(e[11]=o("label",{class:"font-medium mb-2.5 text-lg"},"Location",-1)),i(k,{items:t.stockLocations,modelValue:t.selectedLocation,"onUpdate:modelValue":e[6]||(e[6]=l=>t.selectedLocation=l)},null,8,["items","modelValue"])]),o("div",Ne,[i(m,{type:"text",label:"Strength",modelValue:t.strength,"onUpdate:modelValue":e[7]||(e[7]=l=>t.strength=l)},null,8,["modelValue"])]),o("div",Ke,[i(m,{type:"number",label:"Minimum order level",validation:"required",modelValue:t.minimumOrderLevel,"onUpdate:modelValue":e[8]||(e[8]=l=>t.minimumOrderLevel=l)},null,8,["modelValue"])])]),o("div",ze,[i(_,{type:"button",click:()=>{n.clearForm()},text:"Clear form"},null,8,["click"]),i(u,{loading:t.loading,type:"submit",click:()=>{},color:"success",icon:t.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ge=I(Le,[["render",Ze]]),He={components:{TransitionRoot:T,TransitionChild:M,Dialog:L,DialogPanel:A,DialogTitle:F,XMarkIcon:j,ExclamationTriangleIcon:oe},data(){return{show:!1,deleteIcon:Z,loading:!1,reason:"",cookie:O("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockSupplier(d){this.loading=!0;const e=new h,{data:s,error:a,pending:t}=await e.voidStockItem(`${this.cookie}`,{reason:this.reason,id:d});this.loading=t,s.value&&(this.handleClick(),b().$toast.success("Stock item deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),a.value&&(console.error(a.value),b().$toast.error(B),this.loading=!1)},handleClick(){this.show=!this.show}}},Ye={class:"fixed inset-0 overflow-y-auto"},Je={class:"flex min-h-full items-center justify-center p-4 text-center"},We={class:"border-b px-3 py-3 flex items-center justify-between"},et={class:"mt-2 space-y-3 px-5"},tt={class:"rounded px-2 py-2"},ot={class:"font-semibold text-red-500"},it={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function st(d,e,s,a,t,n){const u=R,p=c("TransitionChild"),g=c("ExclamationTriangleIcon"),v=c("DialogTitle"),m=c("XMarkIcon"),f=c("FormKit"),k=P,_=c("DialogPanel"),S=c("Dialog"),U=c("TransitionRoot");return w(),V("div",null,[i(u,{click:n.handleClick,color:"error",text:"Delete",icon:t.deleteIcon},null,8,["click","icon"]),i(U,{appear:"",show:t.show,as:"template"},{default:r(()=>[i(S,{as:"div",class:"relative z-10"},{default:r(()=>[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:r(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Ye,[o("div",Je,[i(p,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:r(()=>[i(_,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:r(()=>[o("div",We,[i(v,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:r(()=>[i(g,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=C(" Confirm delete "))]),_:1}),o("button",{onClick:e[0]||(e[0]=(...y)=>n.handleClick&&n.handleClick(...y))},[i(m,{class:"w-5 h-5"})])]),i(f,{type:"form","submit-label":"Update",onSubmit:e[2]||(e[2]=y=>n.voidStockSupplier(s.data.id)),actions:!1},{default:r(({value:y})=>[o("div",et,[o("div",tt,[e[5]||(e[5]=C(" Do you really want to delete ")),o("span",ot,D(s.data.name),1),e[6]||(e[6]=C("? Note that once this action is completed, it can not be undone "))]),i(f,{type:"textarea",label:"Reason",validation:"required",modelValue:t.reason,"onUpdate:modelValue":e[1]||(e[1]=x=>t.reason=x)},null,8,["modelValue"])]),o("div",it,[i(k,{click:()=>{n.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),i(u,{loading:t.loading,type:"submit",click:()=>{},color:"error",icon:t.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const nt=I(He,[["render",st]]),lt={setup(){ne({title:`${se.name.toUpperCase()} - Specimen Items`})},data(){return{header:"Stock Items",loading:!1,addIcon:N,viewIcon:z,deleteIcon:Z,editIcon:q,pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],stockItems:new Array,headers:[{text:"name",value:"name",sortable:!0},{text:"description",value:"description"},{text:"date modified",value:"updated_date"},{text:"actions",value:"actions"}],search:"",cookie:O("token")}},created(){this.init()},methods:{async init(){this.loading=!0;const d=new h,{data:e,error:s,pending:a}=await d.getStockItem(`${this.cookie}`);this.loading=a,e.value&&(this.stockItems=e.value.map(t=>({...t,updated_date:H(t.updated_date).format(Y)})),this.loading=!1),s.value&&(console.error(s.value),this.loading=!1)}}},at={class:"px-5 py-5"},ct={class:"flex items-center justify-between py-5"},rt={class:"text-2xl font-semibold"},dt={class:"flex items-center space-x-3"},mt={class:"flex items-center justify-end mt-3"},ut={class:"mt-10"},pt={class:"py-2 flex items-center space-x-2"};function ft(d,e,s,a,t,n){const u=G,p=we,g=ee,v=Me,m=Ge,f=nt,k=ie;return w(),V("div",at,[i(u,{pages:t.pages},null,8,["pages"]),o("div",ct,[o("h3",rt,D(t.header),1),o("div",dt,[i(p,{onUpdate:n.init},null,8,["onUpdate"])])]),o("div",mt,[i(g,{search:t.search},null,8,["search"])]),o("div",ut,[i(k,{headers:t.headers,data:t.stockItems},{actions:r(({item:_})=>[o("div",pt,[i(v,{data:_,onUpdate:n.init},null,8,["data","onUpdate"]),i(m,{data:_,onUpdate:n.init},null,8,["data","onUpdate"]),i(f,{data:_,onUpdate:n.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data"])])])}const Xt=I(lt,[["render",ft]]);export{Xt as default};
