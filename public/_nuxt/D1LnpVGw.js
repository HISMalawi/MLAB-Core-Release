import{ar as g,al as I,M as s}from"./BXyMujmX.js";let d;const h=new Uint8Array(16);function l(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(h)}const n=[];for(let t=0;t<256;++t)n.push((t+256).toString(16).slice(1));function m(t,e=0){return n[t[e+0]]+n[t[e+1]]+n[t[e+2]]+n[t[e+3]]+"-"+n[t[e+4]]+n[t[e+5]]+"-"+n[t[e+6]]+n[t[e+7]]+"-"+n[t[e+8]]+n[t[e+9]]+"-"+n[t[e+10]]+n[t[e+11]]+n[t[e+12]]+n[t[e+13]]+n[t[e+14]]+n[t[e+15]]}const y=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i={randomUUID:y};function S(t,e,p){if(i.randomUUID&&!e&&!t)return i.randomUUID();t=t||{};const u=t.random||(t.rng||l)();return u[6]=u[6]&15|64,u[8]=u[8]&63|128,m(u)}const U=g("route-id",{state:()=>({routeMappings:{}}),actions:{generatePathId(t){const e=S();return this.routeMappings[e]=t,e},getActualId(t){return this.routeMappings[t]},clearPathId(t){delete this.routeMappings[t]},clearAllPathIds(){this.routeMappings={}}},persist:{storage:sessionStorage}});function x(){const t=U(),e=I();return{navigateSecure:(o,a)=>{const r=t.generatePathId(a);e.push(`${o}/${r}`)},getSecureId:(o="id")=>{const r=s().params[o];if(r)return t.getActualId(r)},clearAndNavigate:(o,a="id")=>{const c=s().params[a];c&&t.clearPathId(c),e.push(o)}}}export{x as u};
