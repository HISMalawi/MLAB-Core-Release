import{_ as K}from"./BFE2e6qW.js";import{S as I,p as M,Y as F,G as V,V as R,q as j,a as P,u as C,E as X,s as A,x as n,b as T,e as S,g as o,f as t,y as l,j as w,_ as B,t as $,d as L,r as k,o as G,h as b,A as H,z as Y,L as J}from"./DaR_ss44.js";import{_ as q}from"./r0QsBocn.js";import{S as U}from"./Ctdkx0xy.js";import{r as Q}from"./B_cjOhbr.js";import{r as W}from"./BTU_o6qE.js";import{r as z}from"./CxRsRgau.js";import{r as Z}from"./CCe7HPTx.js";import{_ as ee}from"./B1bLn-Yy.js";import{r as te}from"./DfY9W-tc.js";import{r as O}from"./CZiYodP1.js";import{r as oe}from"./BfSjAygv.js";import{r as ae}from"./CgdBYDbq.js";import{_ as ne}from"./BCBnBcQ0.js";import{P as le}from"./CMtC_zcg.js";import{u as se}from"./CfS7LVlI.js";import"./BW-thXDA.js";import"./jy5sGp16.js";const ie={components:{TransitionRoot:I,TransitionChild:M,Dialog:F,DialogPanel:V,DialogTitle:R,XMarkIcon:j,UserIcon:Q},data(){return{open:!1,addIcon:W,saveIcon:z,clearIcon:Z,loading:!1,name:"",cookie:P("token")}},methods:{async submitForm(){this.loading=!0;const g=new U,e={name:this.name},{data:i,error:c,pending:a}=await g.createStockCategory(`${this.cookie}`,e);this.loading=a,i.value&&(this.handleClick(),C().$toast.success(`${this.name} stock category created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),C().$toast.error(X),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},ce={class:"fixed inset-0 overflow-y-auto"},re={class:"flex min-h-full items-center justify-center p-4 text-center"},de={class:"border-b px-3 py-3 flex items-center justify-between"},me={class:"mt-2 space-y-3"},ue={class:"w-full flex items-center px-5"},pe={class:"w-full flex flex-col space-y-2"},_e={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function fe(g,e,i,c,a,s){const u=B,d=n("TransitionChild"),p=n("DialogTitle"),v=n("XMarkIcon"),r=n("FormKit"),m=q,f=n("DialogPanel"),_=n("Dialog"),y=n("TransitionRoot");return T(),S("div",null,[o("div",null,[t(u,{text:"Create category",color:"primary",icon:a.addIcon,click:s.handleClick},null,8,["icon","click"])]),t(y,{appear:"",show:a.open,as:"template"},{default:l(()=>[t(_,{as:"div",onClose:s.handleClick,class:"relative z-10"},{default:l(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[2]||(e[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ce,[o("div",re,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(f,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",de,[t(p,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:l(()=>e[3]||(e[3]=[w(" Create stock category ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...x)=>s.handleClick&&s.handleClick(...x))},[t(v,{class:"w-5 h-5"})])]),t(r,{type:"form","submit-label":"Update",onSubmit:s.submitForm,actions:!1,id:"submitForm"},{default:l(({value:x})=>[o("div",me,[o("div",ue,[o("div",pe,[t(r,{type:"text",label:"Name",validation:"required",modelValue:a.name,"onUpdate:modelValue":e[1]||(e[1]=h=>a.name=h)},null,8,["modelValue"])])])]),o("div",_e,[t(m,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),t(u,{loading:a.loading,type:"submit",click:()=>{},color:"success",icon:a.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const he=A(ie,[["render",fe]]),ge={components:{TransitionRoot:I,TransitionChild:M,Dialog:F,DialogPanel:V,DialogTitle:R,XMarkIcon:j},data(){return{viewIcon:te,show:!1,editIcon:O}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},N="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2020%2020'%3e%3cpath%20fill='currentColor'%20d='M13.577%202.378a3%203%200%200%200-2.154%200L7.962%203.709A1.5%201.5%200%200%200%207%205.109v1.1a4%204%200%200%201%201.936.235l3.46%201.332A2.5%202.5%200%200%201%2014%2010.109v4.78a2.5%202.5%200%200%201-.072.596l3.111-1.196a1.5%201.5%200%200%200%20.962-1.4v-7.78a1.5%201.5%200%200%200-.962-1.4zm1.868%202.154a.5.5%200%201%201%20.359.934l-2.766%201.063a1.5%201.5%200%200%201-1.077%200L9.195%205.466a.5.5%200%200%201%20.36-.934l2.765%201.064a.5.5%200%200%200%20.36%200zM6.423%207.378a3%203%200%200%201%202.154%200l3.461%201.331c.58.223.961.78.961%201.4v4.78a1.5%201.5%200%200%201-.961%201.4L8.577%2017.62a3%203%200%200%201-2.154%200l-3.461-1.33A1.5%201.5%200%200%201%202%2014.89v-4.78a1.5%201.5%200%200%201%20.962-1.4zm4.668%202.915a.5.5%200%200%200-.646-.287L7.5%2011.139l-2.946-1.133a.5.5%200%201%200-.359.933L7%2012.018v2.49a.5.5%200%200%200%201%200v-2.49l2.804-1.079a.5.5%200%200%200%20.287-.646'/%3e%3c/svg%3e",ve={class:"fixed inset-0 overflow-y-auto"},xe={class:"flex min-h-full items-center justify-center p-4 text-center"},ye={class:"border-b px-3 py-3 flex items-center justify-between"},ke={class:"space-y-3 px-5 py-5"},be={class:"w-full flex flex-col space-y-1"},we={class:"text-base"},Ce={class:"w-full flex flex-col space-y-1"},De={class:"text-base"};function Te(g,e,i,c,a,s){const u=B,d=n("TransitionChild"),p=n("DialogTitle"),v=n("XMarkIcon"),r=n("DialogPanel"),m=n("Dialog"),f=n("TransitionRoot");return T(),S("div",null,[t(u,{click:()=>{s.handleClick()},color:"primary",text:"View",icon:a.viewIcon},null,8,["click","icon"]),t(f,{appear:"",show:a.show,as:"template"},{default:l(()=>[t(m,{as:"div",class:"relative z-10"},{default:l(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ve,[o("div",xe,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(r,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",ye,[t(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>e[2]||(e[2]=[o("img",{src:N,class:"w-8 h-8 mr-2"},null,-1),w(" View Stock Category ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(..._)=>s.handleClick&&s.handleClick(..._))},[t(v,{class:"w-5 h-5"})])]),o("div",ke,[o("div",be,[e[3]||(e[3]=o("label",{class:"font-semibold text-lg"},"Full name",-1)),o("p",we,$(i.data.name),1)]),o("div",Ce,[e[4]||(e[4]=o("label",{class:"font-semibold text-lg"},"Short name",-1)),o("p",De,$(i.data.short_name),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Se=A(ge,[["render",Te]]),$e={components:{TransitionRoot:I,TransitionChild:M,Dialog:F,DialogPanel:V,DialogTitle:R,XMarkIcon:j},data(){return{editIcon:O,show:!1,saveIcon:z,loading:!1,cookie:P("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick()},async submitForm(){this.loading=!0;const g=new U;let e={id:this.data.id,name:this.data.name};const{data:i,error:c,pending:a}=await g.updateStockCategory(`${this.cookie}`,e);this.loading=a,i.value&&(this.$emit("update",!0),this.loading=!1,this.handleClick(),C().$toast.success("Stock category updated successfully!")),c.value&&(console.error(c.value),C().$toast.error(X),this.handleClick(),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},Ie={class:"fixed inset-0 overflow-y-auto"},Me={class:"flex min-h-full items-center justify-center p-4 text-center"},Fe={class:"border-b px-3 py-3 flex items-center justify-between"},Ve={class:"w-full flex flex-col px-5 mt-3 space-y-2"},Re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function je(g,e,i,c,a,s){const u=B,d=n("TransitionChild"),p=n("DialogTitle"),v=n("XMarkIcon"),r=n("FormKit"),m=q,f=n("DialogPanel"),_=n("Dialog"),y=n("TransitionRoot");return T(),S("div",null,[t(u,{click:()=>{s.init()},text:"Edit",color:"success",icon:a.editIcon},null,8,["click","icon"]),t(y,{appear:"",show:a.show,as:"template"},{default:l(()=>[t(_,{as:"div",class:"relative z-10"},{default:l(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Ie,[o("div",Me,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(f,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",Fe,[t(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>e[4]||(e[4]=[o("img",{src:N,class:"w-8 h-8 mr-2",alt:"stock-category-icon"},null,-1),w(" Edit Stock Category ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...x)=>s.handleClick&&s.handleClick(...x))},[t(v,{class:"w-5 h-5"})])]),t(r,{type:"form",id:"editForm","submit-label":"Update",onSubmit:s.submitForm,actions:!1},{default:l(({value:x})=>[o("div",Ve,[t(r,{type:"text",label:"Name",validation:"required",modelValue:i.data.name,"onUpdate:modelValue":e[1]||(e[1]=h=>i.data.name=h)},null,8,["modelValue"]),t(r,{type:"text",label:"Short name",validation:"required",modelValue:i.data.short_name,"onUpdate:modelValue":e[2]||(e[2]=h=>i.data.short_name=h)},null,8,["modelValue"])]),o("div",Re,[t(m,{type:"button",click:()=>{s.clearForm()},text:"Clear form"},null,8,["click"]),t(u,{loading:a.loading,type:"submit",click:()=>{},color:"success",icon:a.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Pe=A($e,[["render",je]]),Ae={components:{TransitionRoot:I,TransitionChild:M,Dialog:F,DialogPanel:V,DialogTitle:R,XMarkIcon:j,ExclamationTriangleIcon:oe},data(){return{show:!1,deleteIcon:ae,loading:!1,reason:"",cookie:P("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockCategory(g){this.loading=!0;const e=new U,{data:i,error:c,pending:a}=await e.voidStockCategory(`${this.cookie}`,{reason:this.reason,id:g});i.value&&(this.handleClick(),C().$toast.success("Stock category deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),C().$toast.error(X),this.loading=!1)},handleClick(){this.show=!this.show}}},Be={class:"fixed inset-0 overflow-y-auto"},Ue={class:"flex min-h-full items-center justify-center p-4 text-center"},Ee={class:"border-b px-3 py-3 flex items-center justify-between"},Xe={class:"mt-2 space-y-3 px-5"},qe={class:"rounded px-2 py-2"},ze={class:"font-semibold text-red-500"},Oe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ne(g,e,i,c,a,s){const u=B,d=n("TransitionChild"),p=n("ExclamationTriangleIcon"),v=n("DialogTitle"),r=n("XMarkIcon"),m=n("FormKit"),f=q,_=n("DialogPanel"),y=n("Dialog"),x=n("TransitionRoot");return T(),S("div",null,[t(u,{click:s.handleClick,color:"error",text:"Delete",icon:a.deleteIcon},null,8,["click","icon"]),t(x,{appear:"",show:a.show,as:"template"},{default:l(()=>[t(y,{as:"div",class:"relative z-10"},{default:l(()=>[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Be,[o("div",Ue,[t(d,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:l(()=>[t(_,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:l(()=>[o("div",Ee,[t(v,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:l(()=>[t(p,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=w(" Confirm delete "))]),_:1}),o("button",{onClick:e[0]||(e[0]=(...h)=>s.handleClick&&s.handleClick(...h))},[t(r,{class:"w-5 h-5"})])]),t(m,{type:"form","submit-label":"Update",onSubmit:e[2]||(e[2]=h=>s.voidStockCategory(i.data.id)),actions:!1},{default:l(({value:h})=>[o("div",Xe,[o("div",qe,[e[5]||(e[5]=w(" Do you really want to delete ")),o("span",ze,$(i.data.name),1),e[6]||(e[6]=w("? Note that once this action is completed, it can not be undone "))]),t(m,{type:"textarea",label:"Reason",validation:"required",modelValue:a.reason,"onUpdate:modelValue":e[1]||(e[1]=E=>a.reason=E)},null,8,["modelValue"])]),o("div",Oe,[t(f,{click:()=>{s.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),t(u,{loading:a.loading,type:"submit",click:()=>{},color:"error",icon:a.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ke=A(Ae,[["render",Ne]]),Le={class:"px-5 py-5"},Ge={class:"flex items-center justify-between py-5"},He={class:"text-2xl font-semibold"},Ye={class:"flex items-center space-x-3"},Je={class:"flex items-center justify-end py-5"},Qe={class:"py-2 flex items-center space-x-2"},ht=L({__name:"categories",setup(g){se({title:`${le.name.toUpperCase()} - Stock Categories`});const e=k("Stock Category"),i=k(""),c=k(!1),a=P("token"),s=k([]),u=k([{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}]),d=k([{text:"name",value:"name",sortable:!0},{text:"date created",value:"created_date",sortable:!0},{text:"actions",value:"actions",sortable:!1}]),p=async()=>{c.value=!0;const v=new U,{data:r,error:m,pending:f}=await v.getStockCategory(`${a.value}`);c.value=f,r.value&&(s.value=r.value.map(_=>({..._,created_date:Y(_.created_date).format(J)})),c.value=!1),m.value&&(console.error(m.value),c.value=!1)};return G(()=>{p()}),(v,r)=>{const m=K,f=he,_=ee,y=Se,x=Pe,h=Ke,E=ne;return T(),S("div",Le,[t(m,{pages:b(u)},null,8,["pages"]),o("div",Ge,[o("h3",He,$(b(e)),1),o("div",Ye,[t(f,{onUpdate:p})])]),o("div",Je,[t(_,{search:b(i),"onUpdate:search":r[0]||(r[0]=D=>H(i)?i.value=D:null)},null,8,["search"])]),o("div",null,[t(E,{headers:b(d),data:b(s),"search-field":"name","search-value":b(i)},{actions:l(({item:D})=>[o("div",Qe,[t(y,{data:D},null,8,["data"]),t(x,{data:D,onUpdate:p},null,8,["data"]),t(h,{data:D,onUpdate:p},null,8,["data"])])]),_:1},8,["headers","data","search-value"])])])}}});export{ht as default};
