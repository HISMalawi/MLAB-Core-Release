import{_ as ie}from"./BIgjk9bL.js";import{S as U,p as j,Y as M,G as N,V as R,q as O,s as te,a as z,l as A,m as q,u as T,E as B,x as W,y as _,b as D,e as V,g as e,f as t,z as n,k as P,_ as G,D as se,t as w,d as Y,r as p,h as s,A as re,F as ce,j as de,C as ue,B as me,H as Z,a1 as oe,w as pe,L,K as X}from"./Iy63StId.js";import{_ as K}from"./UunfBM1U.js";import{r as J}from"./WL2XSp5i.js";import{r as ae}from"./B3GTD7OD.js";import{_ as Q}from"./DtWROlmf.js";import{r as _e}from"./CRyrbPUx.js";import{r as fe}from"./BKssge_R.js";import{_ as ve}from"./DjSWCjs7.js";import{r as ee}from"./BGIC0z1t.js";import{_ as he}from"./D2BuRAA3.js";import{u as ge}from"./ByywCY9U.js";import{u as H}from"./CJ1lh5Jd.js";import{P as ye}from"./yiwDnRAW.js";import"./CY_pW6Pm.js";import"./Dndf7ZKt.js";import"./dSQnwF8t.js";import"./CLgq2Dg7.js";import"./BYvWnHVP.js";const xe={components:{TransitionRoot:U,TransitionChild:j,Dialog:M,DialogPanel:N,DialogTitle:R,XMarkIcon:O},data(){return{addIcon:te,saveIcon:J,clearIcon:ae,open:!1,loading:!1,equipmentDetails:{name:"",description:"",supported_tests:new Array},instruments:new Array,testTypes:new Array,supportedTests:new Array,supportedTest:new Array,cookie:z("token")}},methods:{adjustVisibility(){this.open=!this.open},async loadTests(){this.adjustVisibility();const $={route:A.testTypes,method:"GET",token:`${this.cookie}`},{data:r,pending:u,error:f}=await q($);r.value&&(this.testTypes=r.value.test_types,r.value.test_types.map(o=>{this.supportedTests.push(o.name)})),f.value&&console.error(f.value)},async submitForm(){this.loading=!0;let $=new Array;this.testTypes.map(a=>{this.supportedTest.map(c=>{a.name===c&&$.push(a.id)})}),this.equipmentDetails.supported_tests=$;const r={route:A.instrument.create,method:"POST",token:`${this.cookie}`,body:this.equipmentDetails},{data:u,pending:f,error:o}=await q(r);this.loading=f,u.value&&(this.closeForm(),T().$toast.success("Instrument added successfully!"),this.$emit("action-completed",[])),o.value&&(o.value.data.error=="Validation failed: Name has already been taken"?T().$toast.error("Name has already been taken"):T().$toast.error(B),this.loading=!1,console.error(o.value))},closeForm(){this.open=!1,this.equipmentDetails={name:"",description:"",supported_tests:new Array},this.supportedTest=new Array}}},be=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),we={class:"fixed inset-0 overflow-y-auto"},$e={class:"flex min-h-full items-center justify-center p-4 text-center"},ke={class:"border-b px-3 py-3 flex items-center justify-between"},Ce=e("img",{src:Q,class:"w-8 h-8 mr-2"},null,-1),De={class:"mt-2 space-y-3 px-5 py-5"},Te={class:"w-full grid grid-cols-1 gap-1"},Ie={class:"w-full grid grid-cols-1 gap-1"},Ve={class:"w-full flex flex-col space-y-2 pb-40"},Ae=e("label",{class:"font-medium"},"Supported tests",-1),qe={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Pe($,r,u,f,o,a){const c=G,x=_("TransitionChild"),m=_("DialogTitle"),i=_("XMarkIcon"),v=_("FormKit"),y=_("multi-select"),k=K,h=_("DialogPanel"),d=_("Dialog"),g=_("TransitionRoot");return D(),V("div",null,[e("div",null,[t(c,{text:"Add instrument",color:"primary",icon:o.addIcon,click:a.loadTests},null,8,["icon","click"])]),t(g,{appear:"",show:o.open,as:"template"},{default:n(()=>[t(d,{as:"div",onClose:a.closeForm,class:"relative z-10"},{default:n(()=>[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[be]),_:1}),e("div",we,[e("div",$e,[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(h,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",ke,[t(m,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[Ce,P(" Add Instrument ")]),_:1}),e("button",{onClick:r[0]||(r[0]=(...l)=>a.adjustVisibility&&a.adjustVisibility(...l))},[t(i,{class:"w-5 h-5"})])]),t(v,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:a.submitForm,actions:!1},{default:n(()=>[e("div",De,[e("div",Te,[t(v,{type:"text",label:"Name",modelValue:o.equipmentDetails.name,"onUpdate:modelValue":r[1]||(r[1]=l=>o.equipmentDetails.name=l),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",Ie,[t(v,{type:"textarea",modelValue:o.equipmentDetails.description,"onUpdate:modelValue":r[2]||(r[2]=l=>o.equipmentDetails.description=l),label:"Description",validation:"required"},null,8,["modelValue"])]),e("div",Ve,[Ae,t(y,{style:{"--ms-max-height":"none !important"},modelValue:o.supportedTest,"onUpdate:modelValue":r[3]||(r[3]=l=>o.supportedTest=l),options:o.supportedTests,mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),e("div",qe,[t(k,{type:"button",text:"Close",click:()=>{a.closeForm}},null,8,["click"]),t(c,{type:"submit",color:"success",icon:o.saveIcon,click:()=>{},text:"Save changes",loading:o.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const je=W(xe,[["render",Pe]]),Ee={components:{ExclamationTriangleIcon:se},props:{text:{required:!0,type:String}}},Fe={class:"flex items-center space-x-3 rounded px-5 py-5 bg-red-200"},Be={class:"text text-red-500"};function Se($,r,u,f,o,a){const c=_("ExclamationTriangleIcon");return D(),V("div",Fe,[t(c,{class:"w-5 h-5 text-red-500"}),e("p",Be,w(u.text),1)])}const Ue=W(Ee,[["render",Se]]),Me={components:{TransitionRoot:U,TransitionChild:j,Dialog:M,DialogPanel:N,DialogTitle:R,XMarkIcon:O,UserIcon:_e},data(){return{open:!1,driverIcon:fe,addIcon:te,saveIcon:J,clearIcon:ae}},methods:{handleClick(){this.open=!this.open}}},Ne=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Re={class:"fixed inset-0 overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center p-4 text-center"},ze={class:"border-b px-3 py-3 flex items-center justify-between"},Ge={class:"mt-2 space-y-3 px-5"},Ke=e("div",{class:"flex items-center justify-center w-full"},[e("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 hover:bg-gray-100"},[e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{"aria-hidden":"true",class:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-2 text-sm text-gray-500"},[e("span",{class:"font-semibold"},"Click to upload"),P(" or drag and drop")]),e("p",{class:"text-xs text-gray-500"},"EXE, ZIP, TG (Max 500MB)")]),e("input",{id:"dropzone-file",type:"file",class:"hidden"})])],-1),Le={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Xe($,r,u,f,o,a){const c=G,x=_("TransitionChild"),m=_("DialogTitle"),i=_("XMarkIcon"),v=Ue,y=K,k=_("DialogPanel"),h=_("Dialog"),d=_("TransitionRoot");return D(),V("div",null,[e("div",null,[t(c,{disabled:!0,click:a.handleClick,text:"New driver",color:"warning",icon:o.driverIcon},null,8,["click","icon"])]),t(d,{appear:"",show:o.open,as:"template"},{default:n(()=>[t(h,{as:"div",onClose:a.handleClick,class:"relative z-10"},{default:n(()=>[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Ne]),_:1}),e("div",Re,[e("div",Oe,[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(k,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",ze,[t(m,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[P(" Add new equipment drivers ")]),_:1}),e("button",{onClick:r[0]||(r[0]=(...g)=>a.handleClick&&a.handleClick(...g))},[t(i,{class:"w-5 h-5"})])]),e("div",Ge,[t(v,{text:"Warning: Do not install plugins from untrusted sources!"}),Ke]),e("div",Le,[t(y,{text:"Dismiss"}),t(c,{click:a.handleClick,icon:o.saveIcon,text:"Save"},null,8,["click","icon"])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const He=W(Me,[["render",Xe]]),Ye=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),We={class:"fixed inset-0 overflow-y-auto"},Ze={class:"flex min-h-full items-center justify-center p-4 text-center"},Je={class:"border-b px-3 py-3 flex items-center justify-between"},Qe=e("img",{src:Q,class:"w-8 h-8 mr-2"},null,-1),et={class:"mt-2 space-y-3 px-5 py-5"},tt={class:"w-full grid grid-cols-1 gap-1"},st=e("label",{class:"font-semibold text-lg"},w("Name"),-1),ot={class:"w-full grid grid-cols-1 gap-1"},at=e("label",{class:"font-semibold text-lg"},w("Host Name"),-1),nt={class:"w-full grid grid-cols-1 gap-1"},lt=e("label",{class:"font-semibold text-lg"},w("IP Address"),-1),it={class:"w-full grid grid-cols-1 gap-1"},rt=e("label",{class:"font-semibold text-lg"},w("Can Perform"),-1),ct={class:"w-full grid grid-cols-1 gap-1"},dt=e("label",{class:"font-semibold text-lg"},w("Registration Date"),-1),ut={class:"w-full grid grid-cols-1 gap-1"},mt=e("label",{class:"font-semibold text-lg"},w("Equiment Description"),-1),pt={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"},_t=Y({__name:"index",props:{id:{}},setup($){const r=$,u=p(!1),f=p(!1),o=p({name:"",description:"",ip_address:"",hostname:"",supported_tests:"",created_date:""}),a=z("token"),c=async()=>{f.value=!0;const m={route:`${A.instrument.show}/${r.id}`,method:"GET",token:`${a.value}`},i=await q(m);i.data.value&&(o.value=i.data.value,u.value=!0),f.value=!1,i.error.value&&(f.value=!1,T().$toast.error(`${B}`))},x=()=>u.value=!u.value;return(m,i)=>{const v=G,y=K,k=_("FormKit");return D(),V("div",null,[e("div",null,[t(v,{text:"View",color:"success",icon:s(re),click:c},null,8,["icon"])]),t(s(U),{appear:"",show:s(u),as:"template"},{default:n(()=>[t(s(M),{as:"div",onClose:x,class:"relative z-10"},{default:n(()=>[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Ye]),_:1}),e("div",We,[e("div",Ze,[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(s(N),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Je,[t(s(R),{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[Qe,P(" Instrument Details ")]),_:1}),e("button",{onClick:x},[t(s(O),{class:"w-5 h-5"})])]),t(k,{type:"form",id:"patientForm","submit-label":"Update",actions:!1},{default:n(()=>[e("div",et,[e("div",tt,[st,e("p",null,w(s(o).name),1)]),e("div",ot,[at,e("p",null,w(s(o).hostname??"--"),1)]),e("div",nt,[lt,e("p",null,w(s(o).ip_address??"--"),1)]),e("div",it,[rt,(D(!0),V(ce,null,de(s(o).supported_tests,(h,d)=>(D(),V("p",{key:d},w(h.name.charAt(0).toUpperCase()+h.name.slice(1)),1))),128))]),e("div",ct,[dt,e("p",null,w(s(ue)(s(o).created_date).format("DD/MMM/YYYY")),1)]),e("div",ut,[mt,e("p",null,w(s(o).description??"--"),1)])]),e("div",pt,[t(y,{type:"button",click:x,text:"Close"})])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),ft=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),vt={class:"fixed inset-0 overflow-y-auto"},ht={class:"flex min-h-full items-center justify-center p-4 text-center"},gt={class:"border-b px-3 py-3 flex items-center justify-between"},yt=e("img",{src:Q,class:"w-8 h-8 mr-2"},null,-1),xt={class:"mt-2 space-y-3 px-5 py-5"},bt={class:"w-full grid grid-cols-1 gap-1"},wt={class:"w-full grid grid-cols-1 gap-1"},$t={class:"w-full grid grid-cols-1"},kt={class:"w-full grid grid-cols-1 gap-1"},Ct={class:"w-full flex flex-col space-y-2 pb-40"},Dt=e("label",{class:"font-medium"},"Supported tests",-1),Tt={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"},It=Y({__name:"index",props:{id:{}},emits:["action-completed"],setup($,{emit:r}){const u=$,f=r,o=p(!1),a=p(!1),c=p([]),x=p([]),m=p([]),i=p({name:"",description:"",ip_address:"",hostname:"",created_date:"",supported_tests:new Array}),v=z("token"),y=async()=>{const g={route:`${A.testTypes}`,method:"GET",token:`${v.value}`},l=await q(g);l.data.value&&(c.value=l.data.value.test_types,c.value.map(b=>{x.value.push(b.name)})),a.value=!1,l.error.value&&console.error(l.error.value)},k=async()=>{a.value=!0,m.value=new Array,await y();const g={route:`${A.instrument.edit}/${u.id}`,method:"GET",token:`${v.value}`},l=await q(g);l.data.value&&(i.value=l.data.value,o.value=!0,l.data.value.supported_tests.map(b=>{m.value.push(b.name)}),console.log(i.value)),a.value=!1,l.error.value&&(a.value=!1,T().$toast.error(`${B}`))},h=()=>o.value=!o.value,d=async()=>{a.value=!0;let g=new Array;c.value.map(E=>{m.value.map(C=>{E.name==C&&g.push(E.id)})}),i.value.supported_tests=g;const l={route:`${A.instrument.update}/${u.id}`,method:"PATCH",token:v.value,body:i.value},{data:b,pending:I,error:S}=await q(l);a.value=I,b.value&&(h(),T().$toast.success("Instrument details updated successfully!"),f("action-completed",[])),S.value&&T().$toast.error(`${B}`),a.value=!1};return(g,l)=>{const b=G,I=_("FormKit"),S=_("multi-select"),E=K;return D(),V("div",null,[e("div",null,[t(b,{text:"Edit",color:"primary",icon:s(me),click:k},null,8,["icon"])]),t(s(U),{appear:"",show:s(o),as:"template"},{default:n(()=>[t(s(M),{as:"div",onClose:h,class:"relative z-10"},{default:n(()=>[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[ft]),_:1}),e("div",vt,[e("div",ht,[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(s(N),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",gt,[t(s(R),{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[yt,P(" Edit Instrument Details ")]),_:1}),e("button",{onClick:h},[t(s(O),{class:"w-5 h-5"})])]),t(I,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:d,actions:!1},{default:n(()=>[e("div",xt,[e("div",bt,[t(I,{type:"text",label:"Name",modelValue:s(i).name,"onUpdate:modelValue":l[0]||(l[0]=C=>s(i).name=C),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",wt,[t(I,{type:"text",label:"Host Name",modelValue:s(i).hostname,"onUpdate:modelValue":l[1]||(l[1]=C=>s(i).hostname=C),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",$t,[t(I,{type:"text",label:"IP Address",modelValue:s(i).ip_address,"onUpdate:modelValue":l[2]||(l[2]=C=>s(i).ip_address=C),validation:[["required"],["matches",/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i]]},null,8,["modelValue"])]),e("div",kt,[t(I,{type:"textarea",modelValue:s(i).description,"onUpdate:modelValue":l[3]||(l[3]=C=>s(i).description=C),label:"Description",validation:"required"},null,8,["modelValue"])]),e("div",Ct,[Dt,t(S,{style:{"--ms-max-height":"none !important"},modelValue:s(m),"onUpdate:modelValue":l[4]||(l[4]=C=>Z(m)?m.value=C:null),options:s(x),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),e("div",Tt,[t(E,{type:"button",click:h,text:"Close"}),t(b,{type:"submit",color:"success",icon:s(J),click:()=>{},text:"Save changes",loading:s(a)},null,8,["icon","loading"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),Vt=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),At={class:"fixed inset-0 overflow-y-auto"},qt={class:"flex min-h-full items-center justify-center p-4 text-center"},Pt={class:"border-b px-3 py-3 flex items-center justify-between"},jt={class:"mt-2 space-y-3 px-5"},Et={class:"text-red-500"},Ft={class:"mt-2 space-y-3 px-5 py-5"},Bt={class:"w-full grid grid-cols-1 gap-1"},St={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t bg-gray-50"},Ut=Y({__name:"index",props:{id:{},name:{}},emits:["action-completed"],setup($,{emit:r}){const u=$,f=r,o=p(!1),a=p(!1),c=p(""),x=z("token"),m=()=>{o.value=!o.value,c.value="",a.value=!1},i=async()=>{a.value=!0;const v={route:oe(`${A.instrument.delete}/${u.id}`,{retired_reason:c.value}),method:"DELETE",token:x.value},{data:y,pending:k,error:h}=await q(v);a.value=k,y.value&&(m(),T().$toast.success("Instrument deleted successfully!"),f("action-completed",[])),h.value&&(T().$toast.error(`${B}`),a.value=!1)};return(v,y)=>{const k=G,h=_("FormKit"),d=K;return D(),V("div",null,[t(k,{click:m,color:"error",text:"Delete",icon:s(ee)},null,8,["icon"]),t(s(U),{appear:"",show:s(o),as:"template"},{default:n(()=>[t(s(M),{as:"div",class:"relative z-10"},{default:n(()=>[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Vt]),_:1}),e("div",At,[e("div",qt,[t(s(j),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(s(N),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Pt,[t(s(R),{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[t(s(se),{class:"h-5 w-5 mr-2"}),P(" Confirm delete ")]),_:1}),e("button",{onClick:m},[t(s(O),{class:"w-5 h-5"})])]),e("div",jt,[P(" Do you really want to delete "),e("strong",Et,w(u.name),1),P(" ? Note that once this action is completed, it can not be undone ")]),t(h,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:i,actions:!1},{default:n(()=>[e("div",Ft,[e("div",Bt,[t(h,{type:"textarea",modelValue:s(c),"onUpdate:modelValue":y[0]||(y[0]=g=>Z(c)?c.value=g:null),label:"Reason",validation:"required"},null,8,["modelValue"])])]),e("div",St,[t(d,{type:"button",text:"Cancel",click:m}),t(k,{type:"submit",color:"error",text:"Delete",icon:s(ee),click:()=>{},loading:s(a)},null,8,["icon","loading"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),Mt={class:"py-5 px-5"},Nt={class:"flex items-center justify-between py-5"},Rt={class:"text-2xl font-semibold"},Ot={class:"flex items-center space-x-3"},zt={class:"flex justify-end w-full px-2 py-2 mb-2"},Gt={class:"py-2 flex items-center space-x-2"},ds=Y({__name:"instruments",setup($){ge({title:`${ye.name.toUpperCase()} - Instruments`});const r=p(0),u=p(!1),f=p([]),o=z("token"),a=p("List of Instruments"),c=p(""),x=p([{name:"Home",link:"/home"},{name:"Lab Configuration",link:"#"}]),m=p([{text:"Name",value:"name",sortable:!0},{text:"IP Address",value:"ip_address"},{text:"Hostname",value:"hostname"},{text:"Actions",value:"actions",width:18}]),i=p({page:1,rowsPerPage:25,sortBy:"name"}),v=async()=>y(),y=async()=>{u.value=!0;const{page:d,rowsPerPage:g}=i.value,l={route:oe(A.instrument.index,{page:d,page_size:g,search:c.value}),method:"GET",token:`${o.value}`},b=await q(l);b.data.value&&(f.value=b.data.value.data,r.value=b.data.value.total),u.value=!1,b.error.value&&(u.value=!1,T().$toast.error(`${B}`))},k=d=>{c.value=d,y()},h=d=>i.value=d;return y(),pe(i,()=>y()),(d,g)=>{const l=ie,b=je,I=He,S=ve,E=_t,C=It,ne=Ut,le=he;return D(),V("div",Mt,[t(l,{pages:s(x)},null,8,["pages"]),e("div",Nt,[e("h3",Rt,w(s(a)),1),e("div",Ot,[("usePermissions"in d?d.usePermissions:s(H))().can.manage("lab_configurations")?(D(),L(b,{key:0,onActionCompleted:v})):X("",!0),("usePermissions"in d?d.usePermissions:s(H))().can.manage("lab_configurations")?(D(),L(I,{key:1})):X("",!0)])]),e("div",zt,[("usePermissions"in d?d.usePermissions:s(H))().can.manage("lab_configurations")?(D(),L(S,{key:0,search:s(c),"onUpdate:search":g[0]||(g[0]=F=>Z(c)?c.value=F:null),onUpdate:k},null,8,["search"])):X("",!0)]),("usePermissions"in d?d.usePermissions:s(H))().can.manage("lab_configurations")?(D(),L(le,{key:0,headers:s(m),data:s(f),serverOptions:s(i),loading:s(u),serverItemsLength:s(r),onUpdate:h},{actions:n(({item:F})=>[e("div",Gt,[t(E,{id:F.id},null,8,["id"]),t(C,{id:F.id,onActionCompleted:v},null,8,["id"]),t(ne,{id:F.id,name:F.name,onActionCompleted:v},null,8,["id","name"])])]),_:1},8,["headers","data","serverOptions","loading","serverItemsLength"])):X("",!0)])}}});export{ds as default};
