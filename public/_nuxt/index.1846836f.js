import{u as y,a as _,_ as b,f as o,o as C,c as w,d as t,b as e,g as a,h as D,e as T}from"./entry.07439091.js";import{_ as F}from"./OutlinedButton.f31735b7.js";import{r as V,e as I,f as N}from"./fetch.b0dbeb5a.js";import{r as S}from"./XMarkIcon.03d2e3cf.js";import{r as B}from"./ArrowDownTrayIcon.da8b735a.js";import{S as P,h as R,U,G as j,V as q}from"./transition.d75289e9.js";import{_ as A}from"./virus.5ed838be.js";const M={components:{TransitionRoot:P,TransitionChild:R,Dialog:U,DialogPanel:j,DialogTitle:q,XMarkIcon:S},data(){return{addIcon:V,saveIcon:B,open:!1,loading:!1,cookie:y("token"),name:""}},methods:{async submitForm(){this.loading=!0;const r={route:I.disease.create,method:"POST",token:`${this.cookie}`,body:{disease:{data:[{name:this.name}]}}},{data:s,pending:d,error:l}=await N(r);this.loading=d,s.value&&(this.name="",_().$toast.success("Disease added successfully!"),this.$emit("action-completed",[]),this.handleClick()),l.value&&(_().$toast.error(`${l.value.data.error}`),this.loading=!1,this.handleClick())},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("editForm")}}},X=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),G={class:"fixed inset-0 overflow-y-auto"},K={class:"flex min-h-full items-center justify-center p-4 text-center"},O={class:"border-b px-3 py-3 flex items-center justify-between"},z=t("img",{src:A,class:"w-8 h-8 mr-2"},null,-1),E={class:"mt-2 space-y-3 px-5 py-5"},$={class:"w-full grid grid-cols-1 gap-1"},H={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function J(r,s,d,l,n,i){const m=T,u=o("TransitionChild"),f=o("DialogTitle"),h=o("XMarkIcon"),p=o("FormKit"),x=F,g=o("DialogPanel"),v=o("Dialog"),k=o("TransitionRoot");return C(),w("div",null,[t("div",null,[e(m,{text:"New Disease",color:"primary",icon:n.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(k,{appear:"",show:n.open,as:"template"},{default:a(()=>[e(v,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:a(()=>[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[X]),_:1}),t("div",G,[t("div",K,[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",O,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:a(()=>[z,D(" Add Disease ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...c)=>i.handleClick&&i.handleClick(...c))},[e(h,{class:"w-5 h-5"})])]),e(p,{id:"editForm",type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:a(()=>[t("div",E,[t("div",$,[e(p,{type:"text",label:"Disease Name",modelValue:n.name,"onUpdate:modelValue":s[1]||(s[1]=c=>n.name=c),validation:"required|text"},null,8,["modelValue"])])]),t("div",H,[e(x,{type:"button",text:"Clear form",click:()=>i.clearForm()},null,8,["click"]),e(m,{type:"submit",color:"success",icon:n.saveIcon,click:()=>{},text:"Save changes",loading:n.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const oe=b(M,[["render",J]]);export{oe as _};
