<<<<<<<< HEAD:public/_nuxt/organisms-counts.b7361f05.js
import{m as O,C as f,a as U,L as V,g as b,o as d,c as m,e,d as s,h as g,l as t,i as R,E as A,t as u,F as M,r as k,b as C,f as D}from"./entry.97d0b54e.js";import{_ as F}from"./ExportButton.vue.4fdcd0b0.js";import{_ as B}from"./Address.vue.fb5f2755.js";import{e as G}from"./constants.0c4e4d21.js";import{_ as L}from"./logo.e661b2c6.js";import{h as a,e as P,f as j}from"./fetch.e0862392.js";import{u as q}from"./facility.288f2472.js";import{r as K}from"./FunnelIcon.d7b83064.js";import{r as Y}from"./ArrowPathIcon.c9420c22.js";import"./transition.24037afa.js";import"./hidden.a4deafd9.js";import"./XMarkIcon.14e83439.js";import"./PencilSquareIcon.5fdb3ab6.js";import"./PrinterIcon.068c8bcd.js";const z={class:"w-full flex items-center justify-between mb-10"},H={class:"flex items-center space-x-5"},J={class:"bg-gray-100 pl-2.5 rounded flex items-center text-zinc-500"},Q={class:"w-56 ml-2"},W={class:"w-48"},X={class:"rounded border",id:"print-container"},Z={class:"rounded-tr rounded-tl border-b px-5 py-5 flex items-center justify-between"},ee=e("div",{class:"flex flex-col space-y-2"},[e("img",{src:L,alt:"app-logo",class:"w-24 h-24 object-cover"}),e("h3",{class:"text-xl font-semibold"},"CULTURE & SENSITIVITY ORGANISMS COUNTS REPORT ")],-1),te={class:"px-4 mt-2"},oe={class:"font-semibold"},se={class:"w-full mt-3",ref:"table"},ae={class:"w-full border-b border-t bg-gray-50 rounded-t"},re={class:"w-full"},ne={class:"px-2 py-2 text-left border-r"},le={class:"px-2 py-2 text-left border-r"},ce={class:"px-2 py-2 text-left"},ke=O({__name:"organisms-counts",setup(ie){const o=f(""),T=f([{name:"Organism Name"},{name:"Period"},{name:"Total Count"}]),w=U("token"),y=f([]),h=q(),r=f(!1),E=V(()=>y.value.map((n,l)=>({ORGANISM:n.organism,"DATE PERIOD":a(o.value).format("MMMM/yyyy"),COUNT:n.count}))),S=()=>{o.value=""};async function N(){r.value=!0;let n=a(o.value).format("M"),l=a(o.value).format("yyyy");const x={route:`${P.aggregateReports}culture/organisms_based_counts?year=${l}&month=${n}`,method:"GET",token:`${w.value}`},{data:p,error:_,pending:v}=await j(x);r.value=v,p.value&&(y.value=p.value.data,r.value=!1,C().$toast.success("Report data generated successfully")),_.value&&(console.error(_.value),r.value=!1,C().$toast.error(G))}return(n,l)=>{const x=b("datepicker"),p=D,_=b("FormKit"),v=F,$=b("excel"),I=B;return d(),m("div",null,[e("div",z,[s(_,{type:"form","submit-label":"Update",onSubmit:N,actions:!1},{default:g(({value:c})=>[e("div",H,[e("div",J,[s(t(K),{class:"w-5 h-5 mr-2"}),R(" Filter By Date Range "),e("div",Q,[s(x,{onCleared:S,required:"",position:"left",placeholder:"select month & year",range:!1,"input-class-name":"datepicker",modelValue:t(o),"onUpdate:modelValue":l[0]||(l[0]=i=>A(o)?o.value=i:null),format:"M/yyyy"},null,8,["modelValue"])])]),e("div",W,[s(p,{type:"submit",color:"primary",text:"Generate Report",icon:t(Y),click:()=>{},loading:t(r)},null,8,["icon","loading"])])])]),_:1}),e("div",null,[s($,{class:"btn btn-default",header:[`CULTURE & SENSITIVITY ORGANISMS COUNTS REPORT ${t(a)(t(o)).format("M/yyyy")}`,t(h).details.name,t(h).details.address,t(h).details.phone],data:t(E),worksheet:"report-work-sheet",name:`culture_sensitivity_organisms_counts_report_${t(a)(t(o)).format("M_yyyy")}.xls`},{default:g(()=>[s(v,{text:"Export Excel"})]),_:1},8,["header","data","name"])])]),e("div",X,[e("div",Z,[ee,s(I)]),e("div",null,[e("h3",te,[R("Data for period: "),e("span",oe,u(t(o)==""?" - ":t(a)(t(o)).format("M/yyyy")),1)])]),e("table",se,[e("thead",ae,[e("tr",re,[(d(!0),m(M,null,k(t(T),(c,i)=>(d(),m("th",{class:"px-2 py-2 border-r text-left",key:i},u(c.name),1))),128))])]),e("tbody",null,[(d(!0),m(M,null,k(t(y),(c,i)=>(d(),m("tr",{key:i,class:"border-b"},[e("td",ne,u(c.organism),1),e("td",le,u(t(a)(t(o)).format("MMMM/yyyy")),1),e("td",ce,u(c.count),1)]))),128))])],512)])])}}});export{ke as default};
========
import{l as O,B as f,u as U,K as D,f as b,o as d,c as m,d as e,b as s,g,k as t,h as R,D as V,t as u,F as M,r as k,a as T,e as A}from"./entry.a061692d.js";import{_ as B}from"./ExportButton.vue.6095c931.js";import{_ as F}from"./Address.vue.9b815dbd.js";import{e as G}from"./constants.5ff314f3.js";import{_ as P}from"./logo.6e96e07f.js";import{h as a,e as j,f as q}from"./fetch.1d637d4b.js";import{u as K}from"./facility.0787e843.js";import{r as L}from"./FunnelIcon.6080d9fc.js";import{r as Y}from"./ArrowPathIcon.61964360.js";import"./transition.34c9747b.js";import"./hidden.2e8968f2.js";import"./XMarkIcon.2a91e852.js";import"./PencilSquareIcon.a9348a41.js";import"./PrinterIcon.63d7d5dd.js";const z={class:"w-full flex items-center justify-between mb-10"},H={class:"flex items-center space-x-5"},J={class:"bg-gray-100 pl-2.5 rounded flex items-center text-zinc-500"},Q={class:"w-56 ml-2"},W={class:"w-48"},X={class:"rounded border",id:"print-container"},Z={class:"rounded-tr rounded-tl border-b px-5 py-5 flex items-center justify-between"},ee=e("div",{class:"flex flex-col space-y-2"},[e("img",{src:P,alt:"app-logo",class:"w-24 h-24 object-cover"}),e("h3",{class:"text-xl font-semibold"},"CULTURE & SENSITIVITY ORGANISMS COUNTS REPORT ")],-1),te={class:"px-4 mt-2"},oe={class:"font-semibold"},se={class:"w-full mt-3",ref:"table"},ae={class:"w-full border-b border-t bg-gray-50 rounded-t"},re={class:"w-full"},ne={class:"px-2 py-2 text-left border-r"},le={class:"px-2 py-2 text-left border-r"},ce={class:"px-2 py-2 text-left"},ke=O({__name:"organisms-counts",setup(ie){const o=f(""),w=f([{name:"Organism Name"},{name:"Period"},{name:"Total Count"}]),C=U("token"),y=f([]),h=K(),r=f(!1),S=D(()=>y.value.map((n,l)=>({ORGANISM:n.organism,"DATE PERIOD":a(o.value).format("MMMM/yyyy"),COUNT:n.count}))),E=()=>{o.value=""};async function N(){r.value=!0;let n=a(o.value).format("M"),l=a(o.value).format("yyyy");const x={route:`${j.aggregateReports}culture/organisms_based_counts?year=${l}&month=${n}`,method:"GET",token:`${C.value}`},{data:p,error:_,pending:v}=await q(x);r.value=v,p.value&&(y.value=p.value.data,r.value=!1,T().$toast.success("Report data generated successfully")),_.value&&(console.error(_.value),r.value=!1,T().$toast.error(G))}return(n,l)=>{const x=b("datepicker"),p=A,_=b("FormKit"),v=B,$=b("excel"),I=F;return d(),m("div",null,[e("div",z,[s(_,{type:"form","submit-label":"Update",onSubmit:N,actions:!1},{default:g(({value:c})=>[e("div",H,[e("div",J,[s(t(L),{class:"w-5 h-5 mr-2"}),R(" Filter By Date Range "),e("div",Q,[s(x,{onCleared:E,required:"",position:"left",placeholder:"select month & year",range:!1,"input-class-name":"datepicker",modelValue:t(o),"onUpdate:modelValue":l[0]||(l[0]=i=>V(o)?o.value=i:null),format:"M/yyyy"},null,8,["modelValue"])])]),e("div",W,[s(p,{type:"submit",color:"primary",text:"Generate Report",icon:t(Y),click:()=>{},loading:t(r)},null,8,["icon","loading"])])])]),_:1}),e("div",null,[s($,{class:"btn btn-default",header:[`CULTURE & SENSITIVITY ORGANISMS COUNTS REPORT ${t(a)(t(o)).format("M/yyyy")}`,t(h).details.name,t(h).details.address,t(h).details.phone],data:t(S),worksheet:"report-work-sheet",name:`culture_sensitivity_organisms_counts_report_${t(a)(t(o)).format("M_yyyy")}.xls`},{default:g(()=>[s(v,{text:"Export Excel"})]),_:1},8,["header","data","name"])])]),e("div",X,[e("div",Z,[ee,s(I)]),e("div",null,[e("h3",te,[R("Data for period: "),e("span",oe,u(t(o)==""?" - ":t(a)(t(o)).format("M/yyyy")),1)])]),e("table",se,[e("thead",ae,[e("tr",re,[(d(!0),m(M,null,k(t(w),(c,i)=>(d(),m("th",{class:"px-2 py-2 border-r text-left",key:i},u(c.name),1))),128))])]),e("tbody",null,[(d(!0),m(M,null,k(t(y),(c,i)=>(d(),m("tr",{key:i,class:"border-b"},[e("td",ne,u(c.organism),1),e("td",le,u(t(a)(t(o)).format("MMMM/yyyy")),1),e("td",ce,u(c.count),1)]))),128))])],512)])])}}});export{ke as default};
>>>>>>>> db8a3962de902d8d9f97ce555bb6c63b1094610b:public/_nuxt/organisms-counts.f2f24cc8.js
