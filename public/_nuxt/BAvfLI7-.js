import{_ as H}from"./BBiETNY7.js";import{_ as P}from"./DPFzGlD8.js";import{d as q,r as d,a as I,o as U,m as z,b as S,e as O,f as p,h as a,g as e,p as B,y as K,n as W,t as r,F as X,j as Z,u as E,_ as ee}from"./Br_iYJbE.js";import{_ as te}from"./B8WkN9CN.js";import{_ as oe}from"./BTln8kT1.js";import{u as re}from"./C7tJ_rpQ.js";import{e as se}from"./D_g9DqRP.js";import{_ as ae}from"./BXrXL_aB.js";import{_ as ne}from"./BRF84-Nf.js";import{e as L,f as Y}from"./Dog3sDT3.js";import{u as ce}from"./Cck4SEHu.js";import{P as le}from"./CsuZ4PXZ.js";import{r as de}from"./HTciHG70.js";import{r as pe}from"./C4TqeGf8.js";import"./C3HP_w3b.js";import"./CsEX3TnJ.js";import"./XkQiKG-9.js";import"./2-4F2Czp.js";import"./DJKhCWXE.js";import"./BSk7cgnm.js";import"./DbE2jSl7.js";import"./E-5_2-Nn.js";import"./tiZpgdZ8.js";import"./a0kEX_gA.js";import"./AtAlRHB5.js";import"./BoyxTlis.js";import"./BxXqpYSD.js";import"./CKyme56o.js";const ie={class:"px-5 py-5"},me=e("div",{class:"py-5"},[e("div",{class:"text-2xl font-semibold flex items-center uppercase"},[e("img",{src:ae,class:"w-8 h-8 mr-2"}),B(" Serology Report ")])],-1),be={class:"w-full flex justify-between py-5"},ue={class:"flex items-center space-x-3"},ye={class:"bg-gray-100 pl-2.5 rounded flex items-center text-zinc-500"},_e={class:"w-36 ml-2 bg-white"},xe={class:"border rounded"},he={class:"rounded-tr rounded-tl border-b px-5 py-5 flex items-center justify-between"},fe=e("div",{class:"flex flex-col space-y-2"},[e("img",{src:ne,alt:"app-logo",class:"w-24 h-24 object-cover"}),e("h3",{class:"text-xl font-semibold"},"SEROLOGY MoH LABORATORY REPORT")],-1),ge={class:"px-4 py-2.5 font-medium"},ve={class:"font-normal"},ke={class:"overflow-x-auto rounded border-t"},we={class:"overflow-x-auto"},De=e("thead",{class:"border-b"},[e("tr",{class:"w-full bg-gray-50"},[e("th",{class:"px-4 py-2 border-r"},"Laboratory Service"),e("th",{class:"px-4 py-2 border-r"},"Jan"),e("th",{class:"px-4 py-2 border-r"},"Feb"),e("th",{class:"px-4 py-2"},"March"),e("th",{class:"px-4 py-2 bg-sky-50 text-sky-500 border border-sky-100"}," Total Q1 "),e("th",{class:"px-4 py-2 border-r"},"Apr"),e("th",{class:"px-4 py-2 border-r"},"May"),e("th",{class:"px-4 py-2"},"Jun"),e("th",{class:"px-4 py-2 bg-sky-50 text-sky-500 border border-sky-100"}," Total Q2 "),e("th",{class:"px-4 py-2 border-r"},"Jul"),e("th",{class:"px-4 py-2 border-r"},"Aug"),e("th",{class:"px-4 py-2"},"Sep"),e("th",{class:"px-4 py-2 bg-sky-50 text-sky-500 border border-sky-100"}," Total Q3 "),e("th",{class:"px-4 py-2 border-r"},"Oct"),e("th",{class:"px-4 py-2 border-r"},"Nov"),e("th",{class:"px-4 py-2"},"Dev"),e("th",{class:"px-4 py-2 bg-sky-50 text-sky-500 border-t border-l border-b border-sky-100"}," Total Q4 "),e("th",{class:"px-4 py-2 bg-green-600 text-white border border-green-400"}," Total ")])],-1),Re={class:"px-4 py-2 text-left border-r border-b"},Qe={class:"px-4 py-2 text-center border-r border-b"},je={class:"px-4 py-2 text-center border-r border-b"},Te={class:"px-4 py-2 text-center border-b"},$e={class:"px-4 py-2 text-center bg-sky-50 text-sky-500 border border-sky-100"},Ae={class:"px-4 py-2 text-center border-r border-b"},Se={class:"px-4 py-2 text-center border-r border-b"},Oe={class:"px-4 py-2 text-center border-b"},Ee={class:"px-4 py-2 text-center bg-sky-50 text-sky-500 border border-sky-100"},Be={class:"px-4 py-2 text-center border-r border-b"},Ce={class:"px-4 py-2 text-center border-r border-b"},Me={class:"px-4 py-2 text-center border-b"},Fe={class:"px-4 py-2 text-center bg-sky-50 text-sky-500 border border-sky-100"},Le={class:"px-4 py-2 text-center border-r border-b"},Ye={class:"px-4 py-2 text-center border-r border-b"},Je={class:"px-4 py-2 text-center border-b"},Ne={class:"px-4 py-2 text-center bg-sky-50 text-sky-500 border-t border-l border-b border-sky-100"},Ve={class:"px-4 py-2 text-center bg-green-600 border text-white border-green-400"},ht=q({__name:"serology",setup(Ge){re({title:`${le.name.toUpperCase()} - Serology Report`}),d("");const J=d([{name:"Home",link:"/home"},{name:"Reports",link:"#"},{name:"MoH Diagnistic Reports",link:"#"}]),m=d([]),n=d({name:"select year"}),C=d([]),M=I("token"),b=d(),k=ce(),F=d([]);async function N(){const c={route:`${L.reportIndicators}?department=Serology`,method:"GET",token:`${M.value}`},{data:o,error:l,pending:x}=await Y(c);o.value&&o.value.map(i=>{m.value.push({indicator:i,jan:"!",feb:"!",mar:"!",totalQ1:"!",apr:"!",may:"!",june:"!",totalQ2:"!",jul:"!",aug:"!",sept:"!",totalQ3:"!",oct:"!",nov:"!",dec:"!",totalQ4:"!",total:"!"})}),l.value&&console.error(l.value)}async function V(){if(n.value.name=="select year")E().$toast.warning("Please select a year");else{b.value=!0;const c={route:`${L.mohReport}serology?year=${n.value.name}`,method:"GET",token:`${M.value}`},{data:o,error:l,pending:x}=await Y(c);if(b.value=x,o.value){let i=new Array;m.value.map(s=>{let u=o.value.january[s.indicator],y=o.value.february[s.indicator],t=o.value.march[s.indicator],_=o.value.april[s.indicator],w=o.value.may[s.indicator],D=o.value.june[s.indicator],R=o.value.july[s.indicator],Q=o.value.august[s.indicator],j=o.value.september[s.indicator],T=o.value.october[s.indicator],$=o.value.november[s.indicator],A=o.value.december[s.indicator],h=u+y+t,f=_+w+D,g=R+Q+j,v=T+$+A;i.push({indicator:s.indicator,jan:u,feb:y,mar:t,totalQ1:h,apr:_,may:w,june:D,totalQ2:f,jul:R,aug:Q,sept:j,totalQ3:g,oct:T,nov:$,dec:A,totalQ4:v,total:h+f+g+v}),F.value.push({"Laboratory Service":s.indicator,January:u,February:y,March:t,"Total Q1":h,April:_,May:w,June:D,"Total Q2":f,July:R,August:Q,September:j,"Total Q3":g,October:T,November:$,December:A,"Total Q4":v,Total:h+f+g+v})}),m.value=new Array,m.value.push(...i),b.value=!1,E().$toast.success("Report data generated successfully!")}l.value&&(b.value=!1,console.error(l.value),E().$toast.success(se))}}function G(){for(let c=new Date().getFullYear();c>=2e3;c--)C.value.push({name:c.toString(),id:c})}return U(()=>{N(),G()}),(c,o)=>{const l=H,x=P,i=ee,s=te,u=z("excel"),y=oe;return S(),O("div",ie,[p(l,{pages:a(J)},null,8,["pages"]),me,e("div",be,[e("div",ue,[e("div",ye,[p(a(de),{class:"w-5 h-5 mr-2"}),B(" Filter By Year "),e("div",_e,[p(x,{items:a(C),modelValue:a(n),"onUpdate:modelValue":o[0]||(o[0]=t=>K(n)?n.value=t:null)},null,8,["items","modelValue"])])]),p(i,{class:"mt-1",loading:a(b),click:()=>{V()},color:"primary",icon:a(pe),text:"Generate report"},null,8,["loading","click","icon"])]),e("div",null,[p(u,{class:"btn btn-default",header:[`SEROLOGY MoH LABORATORY REPORT ${a(n).name}`,a(k).details.name,a(k).details.address,a(k).details.phone],data:a(F),worksheet:"report-work-sheet",name:`moh_serology_report_${a(n).name}.xls`},{default:W(()=>[p(s,{text:"Export Excel"})]),_:1},8,["header","data","name"])])]),e("div",xe,[e("div",he,[fe,p(y)]),e("div",null,[e("h3",ge,[B(" Data for the year: "),e("span",ve,r(a(n).name=="select year"?"-:-":a(n).name),1)])]),e("div",ke,[e("table",we,[De,e("tbody",null,[(S(!0),O(X,null,Z(a(m),(t,_)=>(S(),O("tr",{class:"px-2",key:_},[e("td",Re,r(t.indicator),1),e("td",Qe,r(t.jan),1),e("td",je,r(t.feb),1),e("td",Te,r(t.mar),1),e("td",$e,r(t.totalQ1),1),e("td",Ae,r(t.apr),1),e("td",Se,r(t.may),1),e("td",Oe,r(t.june),1),e("td",Ee,r(t.totalQ2),1),e("td",Be,r(t.jul),1),e("td",Ce,r(t.aug),1),e("td",Me,r(t.sept),1),e("td",Fe,r(t.totalQ3),1),e("td",Le,r(t.oct),1),e("td",Ye,r(t.nov),1),e("td",Je,r(t.dec),1),e("td",Ne,r(t.totalQ4),1),e("td",Ve,r(t.total),1)]))),128))])])])])])}}});export{ht as default};
