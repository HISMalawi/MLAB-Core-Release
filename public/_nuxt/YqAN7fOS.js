import{a as y,u as _,l as b,m as o,b as C,e as w,g as t,f as e,n as a,p as D,_ as T}from"./JBsVKZmo.js";import{_ as F}from"./DQxwUAOs.js";import{r as V,e as I,f as N}from"./CZ6eCgXt.js";import{r as S}from"./rvUhT-B_.js";import{r as B}from"./DnQklZLV.js";import{S as P,h as R,Y as j,G as q,V as A}from"./BhnZKBDU.js";import{_ as M}from"./Dtrrr-fs.js";const X={components:{TransitionRoot:P,TransitionChild:R,Dialog:j,DialogPanel:q,DialogTitle:A,XMarkIcon:S},data(){return{addIcon:V,saveIcon:B,open:!1,loading:!1,cookie:y("token"),name:""}},methods:{async submitForm(){this.loading=!0;const r={route:I.disease.create,method:"POST",token:`${this.cookie}`,body:{disease:{data:[{name:this.name}]}}},{data:s,pending:d,error:l}=await N(r);this.loading=d,s.value&&(this.name="",_().$toast.success("Disease added successfully!"),this.$emit("action-completed",[]),this.handleClick()),l.value&&(_().$toast.error(`${l.value.data.error}`),this.loading=!1,this.handleClick())},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("editForm")}}},G=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),K={class:"fixed inset-0 overflow-y-auto"},O={class:"flex min-h-full items-center justify-center p-4 text-center"},U={class:"border-b px-3 py-3 flex items-center justify-between"},Y=t("img",{src:M,class:"w-8 h-8 mr-2"},null,-1),z={class:"mt-2 space-y-3 px-5 py-5"},E={class:"w-full grid grid-cols-1 gap-1"},$={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function H(r,s,d,l,n,i){const m=T,u=o("TransitionChild"),f=o("DialogTitle"),h=o("XMarkIcon"),p=o("FormKit"),x=F,g=o("DialogPanel"),v=o("Dialog"),k=o("TransitionRoot");return C(),w("div",null,[t("div",null,[e(m,{text:"New Disease",color:"primary",icon:n.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(k,{appear:"",show:n.open,as:"template"},{default:a(()=>[e(v,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:a(()=>[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[G]),_:1}),t("div",K,[t("div",O,[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",U,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:a(()=>[Y,D(" Add Disease ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...c)=>i.handleClick&&i.handleClick(...c))},[e(h,{class:"w-5 h-5"})])]),e(p,{id:"editForm",type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:a(()=>[t("div",z,[t("div",E,[e(p,{type:"text",label:"Disease Name",modelValue:n.name,"onUpdate:modelValue":s[1]||(s[1]=c=>n.name=c),validation:"required|text"},null,8,["modelValue"])])]),t("div",$,[e(x,{type:"button",text:"Clear form",click:()=>i.clearForm()},null,8,["click"]),e(m,{type:"submit",color:"success",icon:n.saveIcon,click:()=>{},text:"Save changes",loading:n.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const oe=b(X,[["render",H]]);export{oe as _};
