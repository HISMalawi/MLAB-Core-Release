<<<<<<<< HEAD:public/_nuxt/ast.9038f7c4.js
import{m as U,C as v,a as V,L as M,g as I,o as n,c as l,e,d as a,h as g,l as t,i as T,E as F,t as c,F as R,r as E,k as w,w as L,v as O,b as k,f as P}from"./entry.97d0b54e.js";import{_ as j}from"./ExportButton.vue.4fdcd0b0.js";import{_ as G}from"./Address.vue.fb5f2755.js";import{_ as Y}from"./Loader.aedab139.js";import{e as q}from"./constants.0c4e4d21.js";import{_ as K}from"./logo.e661b2c6.js";import{_ as z}from"./page.8232356c.js";import{h as p,e as H,f as J}from"./fetch.e0862392.js";import{u as Q}from"./facility.288f2472.js";import{r as W}from"./FunnelIcon.d7b83064.js";import{r as X}from"./ArrowPathIcon.c9420c22.js";import"./transition.24037afa.js";import"./hidden.a4deafd9.js";import"./XMarkIcon.14e83439.js";import"./PencilSquareIcon.5fdb3ab6.js";import"./PrinterIcon.068c8bcd.js";const Z={class:"w-full flex items-center justify-between mb-10"},ee={class:"flex items-center space-x-5"},te={class:"bg-gray-100 pl-2.5 rounded flex items-center text-zinc-500"},oe={class:"w-56 ml-2"},se={class:"w-48"},re={class:"rounded border",id:"print-container"},ae={class:"rounded-tr rounded-tl border-b px-5 py-5 flex items-center justify-between"},ne=e("div",{class:"flex flex-col space-y-2"},[e("img",{src:K,alt:"app-logo",class:"w-24 h-24 object-cover"}),e("h3",{class:"text-xl font-semibold"},"CULTURE & SENSITIVITY ANTIBIOTIC SUSCEPTIBILITY REPORT ")],-1),le={class:"px-4 mt-2 font-medium"},ce={class:"font-normal"},ie={key:0},de={class:"w-full border-b border-t bg-gray-50 rounded-t"},pe={colspan:4,class:"text-left px-2 py-2"},_e=e("tr",{class:"border-r border-t"},[e("th",{class:"border-r px-2 py-2 text-left"}," Drug Name "),e("th",{class:"border-r px-2 py-2 text-center"}," I "),e("th",{class:"border-r px-2 py-2 text-center"}," R "),e("th",{class:"px-2 py-2 text-center"}," S ")],-1),me={class:"border-r px-2 py-2 text-left"},ue={class:"border-r px-2 py-2 text-center"},fe={class:"border-r px-2 py-2 text-center"},ye={class:"px-2 py-2 text-center"},he={class:"w-full items-center flex flex-col space-y-2 my-10"},xe=e("p",null,[T("Generating report, please wait"),e("span",{class:"animate-pulse"},"...")],-1),be={key:1,class:"w-full flex flex-col items-center justify-center space-y-2 py-10"},ve=e("img",{src:z,alt:"page-icon",class:"object-cover w-20 h-20"},null,-1),Ie=e("p",null,"Data not found, please generate report",-1),Te=[ve,Ie],Oe=U({__name:"ast",setup(ge){const o=v(""),C=V("token"),r=v(!1),i=v([]),f=Q(),N=M(()=>i.value.flatMap(_=>_.drugs.map(s=>({"DRUG NAME":s.drug_name,"INTERPRETATION I":s.interpretations.I,"INTERPRETATION R":s.interpretations.R,"INTERPRETATION S":s.interpretations.S})))),S=()=>{o.value=""};async function $(){r.value=!0;let _=p(o.value).format("M"),s=p(o.value).format("yyyy");const y={route:`${H.aggregateReports}culture/ast?year=${s}&month=${_}`,method:"GET",token:`${C.value}`},{data:m,error:u,pending:h}=await J(y);r.value=h,m.value&&(i.value=m.value.data,r.value=!1,k().$toast.success("Report data generated successfully")),u.value&&(console.error(u.value),r.value=!1,k().$toast.error(q))}return(_,s)=>{const y=I("datepicker"),m=P,u=I("FormKit"),h=j,B=I("excel"),A=G,D=Y;return n(),l("div",null,[e("div",Z,[a(u,{type:"form","submit-label":"Update",onSubmit:$,actions:!1},{default:g(({value:x})=>[e("div",ee,[e("div",te,[a(t(W),{class:"w-5 h-5 mr-2"}),T(" Filter By Date Range "),e("div",oe,[a(y,{onCleared:S,required:"",position:"left",placeholder:"select month & year",range:!1,"input-class-name":"datepicker",modelValue:t(o),"onUpdate:modelValue":s[0]||(s[0]=b=>F(o)?o.value=b:null),format:"M/yyyy"},null,8,["modelValue"])])]),e("div",se,[a(m,{type:"submit",color:"primary",text:"Generate Report",icon:t(X),click:()=>{},loading:t(r)},null,8,["icon","loading"])])])]),_:1}),e("div",null,[a(B,{class:"btn btn-default",header:[`CULTURE & SENSITIVITY ANTIBIOTIC SUSCEPTIBILITY REPORT ${t(p)(t(o)).format("M/yyyy")}`,t(f).details.name,t(f).details.address,t(f).details.phone],data:t(N),worksheet:"report-work-sheet",name:`culture_sensitivity_antibiotic_susceptibility_report_${t(p)(t(o)).format("M_yyyy")}.xls`},{default:g(()=>[a(h,{text:"Export Excel"})]),_:1},8,["header","data","name"])])]),e("div",re,[e("div",ae,[ne,a(A)]),e("div",null,[e("h3",le,[T("Data for period: "),e("span",ce,c(t(o)==""?"":t(p)(t(o)).format("M/yyyy")),1)])]),t(i).length>0&&!t(r)?(n(),l("div",ie,[(n(!0),l(R,null,E(t(i),(x,b)=>(n(),l("table",{key:b,class:"w-full mt-3",ref_for:!0,ref:"table"},[e("thead",de,[e("tr",null,[e("th",pe,c(x.name),1)]),_e]),e("tbody",null,[(n(!0),l(R,null,E(x.drugs,d=>(n(),l("tr",{key:d,class:"border-b border-r border-l"},[e("td",me,c(d.drug_name),1),e("td",ue,c(d.interpretations.I),1),e("td",fe,c(d.interpretations.R),1),e("td",ye,c(d.interpretations.S),1)]))),128))])],512))),128))])):w("",!0),L(e("div",he,[a(D),xe],512),[[O,t(r)]]),t(i).length==0&&!t(r)?(n(),l("div",be,Te)):w("",!0)])])}}});export{Oe as default};
========
import{l as U,B as v,u as V,K as M,f as I,o as n,c as l,d as e,b as a,g,k as t,h as T,D as F,t as c,F as R,r as w,j as E,w as O,v as P,a as k,e as j}from"./entry.a061692d.js";import{_ as L}from"./ExportButton.vue.6095c931.js";import{_ as G}from"./Address.vue.9b815dbd.js";import{_ as Y}from"./Loader.c099e152.js";import{e as q}from"./constants.5ff314f3.js";import{_ as K}from"./logo.6e96e07f.js";import{_ as z}from"./page.8c28de55.js";import{h as p,e as H,f as J}from"./fetch.1d637d4b.js";import{u as Q}from"./facility.0787e843.js";import{r as W}from"./FunnelIcon.6080d9fc.js";import{r as X}from"./ArrowPathIcon.61964360.js";import"./transition.34c9747b.js";import"./hidden.2e8968f2.js";import"./XMarkIcon.2a91e852.js";import"./PencilSquareIcon.a9348a41.js";import"./PrinterIcon.63d7d5dd.js";const Z={class:"w-full flex items-center justify-between mb-10"},ee={class:"flex items-center space-x-5"},te={class:"bg-gray-100 pl-2.5 rounded flex items-center text-zinc-500"},oe={class:"w-56 ml-2"},se={class:"w-48"},re={class:"rounded border",id:"print-container"},ae={class:"rounded-tr rounded-tl border-b px-5 py-5 flex items-center justify-between"},ne=e("div",{class:"flex flex-col space-y-2"},[e("img",{src:K,alt:"app-logo",class:"w-24 h-24 object-cover"}),e("h3",{class:"text-xl font-semibold"},"CULTURE & SENSITIVITY ANTIBIOTIC SUSCEPTIBILITY REPORT ")],-1),le={class:"px-4 mt-2 font-medium"},ce={class:"font-normal"},ie={key:0},de={class:"w-full border-b border-t bg-gray-50 rounded-t"},pe={colspan:4,class:"text-left px-2 py-2"},_e=e("tr",{class:"border-r border-t"},[e("th",{class:"border-r px-2 py-2 text-left"}," Drug Name "),e("th",{class:"border-r px-2 py-2 text-center"}," I "),e("th",{class:"border-r px-2 py-2 text-center"}," R "),e("th",{class:"px-2 py-2 text-center"}," S ")],-1),me={class:"border-r px-2 py-2 text-left"},ue={class:"border-r px-2 py-2 text-center"},fe={class:"border-r px-2 py-2 text-center"},ye={class:"px-2 py-2 text-center"},he={class:"w-full items-center flex flex-col space-y-2 my-10"},xe=e("p",null,[T("Generating report, please wait"),e("span",{class:"animate-pulse"},"...")],-1),be={key:1,class:"w-full flex flex-col items-center justify-center space-y-2 py-10"},ve=e("img",{src:z,alt:"page-icon",class:"object-cover w-20 h-20"},null,-1),Ie=e("p",null,"Data not found, please generate report",-1),Te=[ve,Ie],Pe=U({__name:"ast",setup(ge){const o=v(""),N=V("token"),r=v(!1),i=v([]),f=Q(),C=M(()=>i.value.flatMap(_=>_.drugs.map(s=>({"DRUG NAME":s.drug_name,"INTERPRETATION I":s.interpretations.I,"INTERPRETATION R":s.interpretations.R,"INTERPRETATION S":s.interpretations.S})))),S=()=>{o.value=""};async function B(){r.value=!0;let _=p(o.value).format("M"),s=p(o.value).format("yyyy");const y={route:`${H.aggregateReports}culture/ast?year=${s}&month=${_}`,method:"GET",token:`${N.value}`},{data:m,error:u,pending:h}=await J(y);r.value=h,m.value&&(i.value=m.value.data,r.value=!1,k().$toast.success("Report data generated successfully")),u.value&&(console.error(u.value),r.value=!1,k().$toast.error(q))}return(_,s)=>{const y=I("datepicker"),m=j,u=I("FormKit"),h=L,$=I("excel"),D=G,A=Y;return n(),l("div",null,[e("div",Z,[a(u,{type:"form","submit-label":"Update",onSubmit:B,actions:!1},{default:g(({value:x})=>[e("div",ee,[e("div",te,[a(t(W),{class:"w-5 h-5 mr-2"}),T(" Filter By Date Range "),e("div",oe,[a(y,{onCleared:S,required:"",position:"left",placeholder:"select month & year",range:!1,"input-class-name":"datepicker",modelValue:t(o),"onUpdate:modelValue":s[0]||(s[0]=b=>F(o)?o.value=b:null),format:"M/yyyy"},null,8,["modelValue"])])]),e("div",se,[a(m,{type:"submit",color:"primary",text:"Generate Report",icon:t(X),click:()=>{},loading:t(r)},null,8,["icon","loading"])])])]),_:1}),e("div",null,[a($,{class:"btn btn-default",header:[`CULTURE & SENSITIVITY ANTIBIOTIC SUSCEPTIBILITY REPORT ${t(p)(t(o)).format("M/yyyy")}`,t(f).details.name,t(f).details.address,t(f).details.phone],data:t(C),worksheet:"report-work-sheet",name:`culture_sensitivity_antibiotic_susceptibility_report_${t(p)(t(o)).format("M_yyyy")}.xls`},{default:g(()=>[a(h,{text:"Export Excel"})]),_:1},8,["header","data","name"])])]),e("div",re,[e("div",ae,[ne,a(D)]),e("div",null,[e("h3",le,[T("Data for period: "),e("span",ce,c(t(o)==""?"":t(p)(t(o)).format("M/yyyy")),1)])]),t(i).length>0&&!t(r)?(n(),l("div",ie,[(n(!0),l(R,null,w(t(i),(x,b)=>(n(),l("table",{key:b,class:"w-full mt-3",ref_for:!0,ref:"table"},[e("thead",de,[e("tr",null,[e("th",pe,c(x.name),1)]),_e]),e("tbody",null,[(n(!0),l(R,null,w(x.drugs,d=>(n(),l("tr",{key:d,class:"border-b border-r border-l"},[e("td",me,c(d.drug_name),1),e("td",ue,c(d.interpretations.I),1),e("td",fe,c(d.interpretations.R),1),e("td",ye,c(d.interpretations.S),1)]))),128))])],512))),128))])):E("",!0),O(e("div",he,[a(A),xe],512),[[P,t(r)]]),t(i).length==0&&!t(r)?(n(),l("div",be,Te)):E("",!0)])])}}});export{Pe as default};
>>>>>>>> db8a3962de902d8d9f97ce555bb6c63b1094610b:public/_nuxt/ast.e9fb158f.js
