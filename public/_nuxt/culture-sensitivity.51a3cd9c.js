import{_ as K}from"./Breadcrumb.vue.af519b7d.js";import{_ as W}from"./Loader.52c40d31.js";import{_ as P}from"./Dropdown.c3b078e3.js";import{a as I,_ as j,g as m,o as c,c as p,d as r,h as _,e,i as z,f as U,u as Z,b as C,t as a,k as S,l as A,F as R,r as T,q as O}from"./entry.64b6b942.js";import{h as L,e as x,f as w,r as B,u as $,d as J}from"./fetch.8fd817fe.js";import{r as q}from"./XMarkIcon.64f3f5c2.js";import{r as Q,a as Y}from"./PencilSquareIcon.f5030dad.js";import{r as F}from"./ArrowDownTrayIcon.b526c915.js";import{S as E,h as M,U as G,G as X,V as H}from"./transition.5b1867a1.js";import{_ as ee}from"./bacteria.7686a8f7.js";import{_ as te}from"./Multiselect.d2d4892c.js";import{_ as se}from"./medicines.5f73536d.js";import{e as oe,d as N,i as ie}from"./constants.31b85c3a.js";import{P as ne}from"./package.70b788f3.js";import{r as re}from"./CheckIcon.b87f947f.js";import{r as le}from"./ArrowUpTrayIcon.88683652.js";import{r as ae}from"./TrashIcon.b064cbe7.js";import"./nuxt-link.f9df4f37.js";import"./HomeIcon.4d524c11.js";import"./listbox.947b1eda.js";import"./hidden.a9fd55b4.js";import"./use-text-value.cb6830ee.js";import"./CheckCircleIcon.acd40d04.js";import"./MagnifyingGlassIcon.12344835.js";import"./PrinterIcon.5a175993.js";const de={components:{TransitionRoot:E,TransitionChild:M,Dialog:G,DialogPanel:X,DialogTitle:H,XMarkIcon:q},data(){return{viewIcon:Q,show:!1,editIcon:Y,saveIcon:F,moment:L,cookie:I("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,modelValue:{name:"-- Select result --"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},methods:{init(){this.result!==null&&(this.modelValue={name:this.result.value})},async loadOrganisms(){this.handleClick();const o={route:x.organisms,method:"GET",token:`${this.cookie}`},{data:s,error:i}=await w(o);s.value&&(this.rawOrganisms=s.value,s.value.map(l=>{this.organisms.push(l.name)})),i.value&&console.error(i.value)},handleClick(){this.show=!this.show},apply(){let o=new Array;this.rawOrganisms.map(s=>{this.organismsSelected.map(i=>{s.name===i&&o.push(s)})}),this.$emit("apply",o),this.organismsSelected=new Array,this.handleClick()},handleDropdown(o){this.$emit("update",{value:o,data:this.data}),typeof o=="object"&&o.name==="Growth"&&this.loadOrganisms()}}},ce=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},me={class:"border-b px-3 py-3 flex items-center justify-between"},_e=e("img",{src:ee,class:"w-8 h-8 mr-2"},null,-1),he={class:"space-y-3 px-5 py-5 pb-20"},fe={class:"w-full flex flex-col space-y-2"},be=e("label",{class:"font-medium"},"Organisms",-1),ye={class:"flex justify-end"};function ge(o,s,i,l,t,n){const f=P,y=m("TransitionChild"),b=m("DialogTitle"),g=m("XMarkIcon"),v=m("multi-select"),D=U,k=m("DialogPanel"),h=m("Dialog"),d=m("TransitionRoot");return c(),p("div",null,[r(f,{items:i.data.map(u=>({name:u.value})),"model-value":t.modelValue,onUpdatedValue:n.handleDropdown},null,8,["items","model-value","onUpdatedValue"]),r(d,{appear:"",show:t.show,as:"template"},{default:_(()=>[r(h,{as:"div",class:"relative z-10"},{default:_(()=>[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[ce]),_:1}),e("div",ue,[e("div",pe,[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[r(k,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:_(()=>[e("div",me,[r(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:_(()=>[_e,z(" Select organisms ")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...u)=>n.handleClick&&n.handleClick(...u))},[r(g,{class:"w-5 h-5"})])]),e("div",he,[e("div",fe,[be,r(v,{style:{"--ms-max-height":"none !important"},modelValue:t.organismsSelected,"onUpdate:modelValue":s[1]||(s[1]=u=>t.organismsSelected=u),options:t.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",ye,[r(D,{click:n.apply,icon:t.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ve=j(de,[["render",ge]]),xe={components:{TransitionChild:M,TransitionRoot:E,Dialog:G,DialogPanel:X,DialogTitle:H,XMarkIcon:q},data(){return{addIcon:B,saveIcon:F,open:!1,loading:!1,cookie:I("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const o={route:x.drugs,method:"GET",token:`${this.cookie}`,body:{name:this.name}},{data:s,error:i,pending:l}=await w(o);this.loading=l,s.value&&(this.handleClick(),this.rawDrugs=s.value,s.value.map(t=>{this.drugs.push(t.name)})),i.value&&console.error(i.value)},updatedDrugs(o){this.selectedDrugs=o},pushDrugs(o){let s=new Array;this.rawDrugs.map(i=>{o.map(l=>{i.name.toLowerCase()===l.toLowerCase()&&(console.log(i),s.push(i))})}),this.$emit("update",{drugs:s,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},we=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ke={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},De={class:"border-b px-3 py-3 flex items-center justify-between"},Se=e("img",{src:se,class:"w-8 h-8 mr-2"},null,-1),Ae={class:"ma-5 px-4 py-4"},Re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Te(o,s,i,l,t,n){const f=U,y=m("TransitionChild"),b=m("DialogTitle"),g=m("XMarkIcon"),v=te,D=m("DialogPanel"),k=m("Dialog"),h=m("TransitionRoot");return c(),p("div",null,[e("div",null,[r(f,{click:n.init,text:"Add drug",color:"primary",icon:t.addIcon},null,8,["click","icon"])]),r(h,{appear:"",show:t.open,as:"template"},{default:_(()=>[r(k,{as:"div",onClose:n.handleClick,class:"relative z-10"},{default:_(()=>[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:_(()=>[we]),_:1}),e("div",ke,[e("div",Ce,[r(y,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:_(()=>[r(D,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:_(()=>[e("div",De,[r(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:_(()=>[Se,z(" Add drug ")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...d)=>n.handleClick&&n.handleClick(...d))},[r(g,{class:"w-5 h-5"})])]),e("div",null,[e("div",Ae,[r(v,{onUpdate:n.updatedDrugs,"items-selected":t.selectedDrugs,label:"Select drug(s)",mode:"tags",items:t.drugs},null,8,["onUpdate","items-selected","items"])]),e("div",Re,[r(f,{click:()=>{n.pushDrugs(t.selectedDrugs)},type:"submit",color:"success",icon:t.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Ve=j(xe,[["render",Te]]),Ie={setup(){Z({title:`${ne.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`})},data(){return{cookie:I("token"),authStore:$(),data:null,header:"Enter Culture & Sensitivity Results",loading:!1,closeIcon:q,addIcon:B,moment:L,pages:[{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}],remarks:"",remark:"",saveIcon:re,updateIcon:le,trashIcon:ae,selectedDiameter:{name:"-- select result --"},details:{client:{id:0,first_name:"",middle_name:"",last_name:"",sex:"",date_of_birth:"",birth_date_estimated:!1},order_status:"",status:"",requested_by:"",culture_observation:new Array,status_trail:new Array,suscept_test_result:new Array},organisms:new Array,drugsValues:{id:0,name:"",drugs:new Array},suspceptibilityResult:new Array,updating:!1,saving:!1,deleting:!1,results:{},testId:"",accessionNo:"",fetching:!1}},created(){this.accessionNo=`${this.$route.query.accession_number}`,this.testId=`${this.$route.query.test_id}`,this.init()},methods:{async init(){this.fetching=!0;const o={route:`${x.tests}/${this.testId}`,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:l}=await w(o);this.fetching=l,s.value&&(this.details=s.value,this.fetching=!1,this.suspceptibilityResult=s.value.suscept_test_result.map(t=>({id:t.organism_id,name:t.name,drugs:t.drugs.map(n=>({name:n.name,drug_id:n.drug_id,zone:{name:n.zone===null?"-- select result --":n.zone},interpretation:{name:n.interpretation===""?"-- select result --":n.interpretation}}))}))),i.value&&(this.fetching=!1,console.error("error fetcing test details: ",i.value))},async loadOrganisms(o){o.forEach(async s=>{const i={route:`${x.organisms}/${s.id}`,method:"GET",token:`${this.cookie}`},{data:l,error:t}=await w(i);l.value&&(this.organisms.push(l.value),this.drugsValues.drugs=new Array,this.organisms.map(n=>{n.drugs.map(f=>{this.drugsValues.id=n.id,this.drugsValues.name=n.name,this.drugsValues.drugs.push({name:f.name,drug_id:f.id,zone:{name:"-- select result --"},interpretation:{name:"-- select result --"}})})}),this.suspceptibilityResult.push(this.drugsValues)),t.value&&console.error(t.value)})},diameters(){let o=new Array;for(let s=0;s<=200;s++)o.push({name:`${s}`});return o},async submitObservation(){this.loading=!0;const o={route:x.cultureObservations,method:"POST",token:`${this.cookie}`,body:{test_id:this.testId,description:this.remarks}},{data:s,error:i,pending:l}=await w(o);this.loading=l,s.value&&(this.remarks="",this.loading=!1,this.init(),this.suspceptibilityResult=new Array),i.value&&(this.loading=!1,console.error(i.value))},async updateResults(o){this.updating=!0,this.suspceptibilityResult.filter(i=>o.name.toLowerCase()===i.name.toLowerCase()).map(async i=>{const l=i.drugs.map(b=>({drug_id:b.drug_id,zone:parseInt(b.zone.name==="-- select result --"?"":b.zone.name),interpretation:b.interpretation.name==="-- select result --"?"":b.interpretation.name})),t={route:x.drugSusceptibility,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:i.id,drugs:l,status:"completed"}},{data:n,error:f,pending:y}=await w(t);this.updating=y,n.value&&(this.updating=!1,C().$toast.success("Suspceptibility test results updated successfully!"),this.init()),f.value&&(console.error(f.value),this.updating=!1,C().$toast.error(oe))})},async deleteSusceptivityResult(o){this.deleting=!0;const s={route:`${x.drugSusceptibility}/delete`,method:"PUT",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:o}},{data:i,error:l,pending:t}=await w(s);this.deleting=t,i.value&&(this.deleting=!1,this.init(),C().$toast.success("Suspceptibility test results deleted successfully!")),l.value&&(console.error(l.value),this.deleting=!1,C().$toast.success("An error has occurred, please try again!"))},invalidation(){C().$toast.warning("Could not save null suspceptibility results, please enter values!"),this.updating=!1},updateResult(o){let s=o.data.filter(i=>o.value.name.toLowerCase()==i.value.toLowerCase());this.results=s[0]},async saveResults(){var t,n;this.saving=!0;const o={route:`${x.updateResults}`,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,test_indicators:new Array({indicator:(t=this.results)==null?void 0:t.test_indicator_id,value:(n=this.results)==null?void 0:n.value})}},{data:s,error:i,pending:l}=await w(o);this.saving=l,s.value&&(this.saving=!1,this.init(),C().$toast.success("Test results updated successfully"),this.$router.push("/tests")),i.value&&(this.saving=!1,console.error(i.value))},getUpdatedDrugs(o){this.suspceptibilityResult.map((s,i)=>{o.index===i&&o.drugs.map(l=>{s.drugs.push({name:l.name,drug_id:l.id,zone:{name:"-- select result --"},interpretation:{name:"-- select result --"}})})})}}},je={class:"px-5 py-5"},Ue={class:"flex items-center justify-between py-5"},qe={class:"text-2xl font-semibold"},Oe={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},Ne=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1),Pe={key:1},ze={class:"grid grid-cols-3 gap-4 py-5"},Le={class:"rounded border"},Be=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1),Fe={class:"w-full py-2"},Ee={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Me=e("h3",{class:"font-medium"},"Patient Number",-1),Ge={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Xe=e("h3",{class:"font-medium"},"Name",-1),He={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ke=e("h3",{class:"font-medium"},"Sex",-1),We={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Ze=e("h3",{class:"font-medium"},"Age",-1),$e={class:"rounded border"},Je=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1),Qe={class:"w-full py-2"},Ye={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},et=e("h3",{class:"font-medium"},"Specimen Type",-1),tt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},st=e("h3",{class:"font-medium"},"Tracking Number",-1),ot={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},it=e("h3",{class:"font-medium"},"Accession Number",-1),nt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},rt=e("h3",{class:"font-medium"},"Status",-1),lt={class:"rounded border max-h-72 overflow-y-auto"},at=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1),dt={class:"w-full py-2"},ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ut=e("h3",{class:"font-medium"},"Name",-1),pt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},mt=e("h3",{class:"font-medium"},"Date Registered",-1),_t={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},ht=e("h3",{class:"font-medium"},"Receipt Date",-1),ft={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},bt=e("h3",{class:"font-medium"},"Test Status",-1),yt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},gt=e("h3",{class:"font-medium"},"Ward/Location",-1),vt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},xt=e("h3",{class:"font-medium"},"Physician",-1),wt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},kt=e("h3",{class:"font-medium"},"Request Origin",-1),Ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Dt=e("h3",{class:"font-medium"},"Registered By",-1),St={class:"grid grid-cols-5 gap-4"},At={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},Rt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Observations")],-1),Tt={class:"font-medium"},Vt={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},It=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1),jt={class:"px-5 py-2 space-y-2"},Ut=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1),qt={class:"w-full text-left border border-dotted"},Ot=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"},"Action")])],-1),Nt={class:"px-2 py-3 border-r border-dotted"},Pt={class:"px-2 py-3 border-r border-dotted"},zt={class:"px-2 py-3 border-r border-dotted"},Lt={key:1},Bt={class:"px-2 py-3"},Ft={class:"border-b border-dotted"},Et={class:"px-2 py-3 border-r border-dotted"},Mt={class:"px-2 py-3 border-r border-dotted"},Gt={class:"px-2 py-3 border-r border-dotted"},Xt={class:"px-2 py-3"},Ht={class:"rounded border mt-5"},Kt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1),Wt={class:"px-5 py-5"},Zt={class:"flex items-center justify-between mb-3"},$t={class:"font-semibold text-lg"},Jt={class:"flex items-center space-x-3"},Qt={class:"w-full text-left border border-dotted"},Yt=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1),es={class:"border-b border-dotted"},ts={class:"px-2 py-3 border-r border-dotted"},ss={class:"px-2 py-3"},os={class:"px-2 py-3"};function is(o,s,i,l,t,n){const f=K,y=W,b=ve,g=m("FormKit"),v=U,D=Ve,k=P;return c(),p("div",je,[e("div",null,[r(f,{pages:t.pages},null,8,["pages"]),e("div",Ue,[e("h3",qe,a(t.header),1)]),t.fetching?(c(),p("div",Oe,[r(y),Ne])):S("",!0),t.fetching?S("",!0):(c(),p("div",Pe,[e("div",ze,[e("div",Le,[Be,e("div",Fe,[e("div",Ee,[Me,e("p",null,a(t.details.id),1)]),e("div",Ge,[Xe,e("p",null,a(`${t.details.client.first_name} ${t.details.client.middle_name} ${t.details.client.last_name}`),1)]),e("div",He,[Ke,e("p",null,a(t.details.client.sex),1)]),e("div",We,[Ze,e("p",null,a(("calculateAge"in o?o.calculateAge:A(J))(t.details.client.date_of_birth)),1)])])]),e("div",$e,[Je,e("div",Qe,[e("div",Ye,[et,e("p",null,a(t.details.specimen_type),1)]),e("div",tt,[st,e("p",null,a(t.details.tracking_number),1)]),e("div",ot,[it,e("p",null,a(t.details.accession_number),1)]),e("div",nt,[rt,e("p",null,a(t.details.order_status.split("-").join(" ").charAt(0).toUpperCase()+t.details.order_status.split("-").join(" ").slice(1)),1)])])]),e("div",lt,[at,e("div",dt,[e("div",ct,[ut,e("p",null,a(t.details.test_type_name),1)]),e("div",pt,[mt,e("p",null,a(t.moment(t.details.created_date).format("dateFormat"in o?o.dateFormat:A(N))),1)]),e("div",_t,[ht,e("p",null,a(t.moment(t.details.updated_date).format("dateFormat"in o?o.dateFormat:A(N))),1)]),e("div",ft,[bt,e("p",null,a(t.details.status.charAt(0).toUpperCase()+t.details.status.slice(1)),1)]),e("div",yt,[gt,e("p",null,a(t.details.requesting_ward),1)]),e("div",vt,[xt,e("p",null,a(t.details.requested_by.charAt(0).toUpperCase()+t.details.requested_by.slice(1)),1)]),e("div",wt,[kt,e("p",null,a(t.details.request_origin),1)]),e("div",Ct,[Dt,e("p",null,a(t.details.registered_by),1)])])])]),e("div",St,[e("div",At,[Rt,r(g,{type:"form","submit-label":"Update",onSubmit:n.saveResults,actions:!1},{default:_(()=>[(c(!0),p(R,null,T(t.details.indicators,(h,d)=>(c(),p("div",{class:"px-5 py-2 space-y-2",key:d},[e("label",Tt,a(h.name),1),r(b,{result:h.result,onUpdate:n.updateResult,onApply:n.loadOrganisms,data:h.indicator_ranges},null,8,["result","onUpdate","onApply","data"]),r(g,{type:"textarea",label:"Remarks",modelValue:t.remark,"onUpdate:modelValue":s[0]||(s[0]=u=>t.remark=u)},null,8,["modelValue"]),r(v,{loading:t.saving,click:()=>{},type:"submit",icon:t.saveIcon,text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]),_:1},8,["onSubmit"])]),e("div",Vt,[It,e("div",jt,[e("div",null,[Ut,r(g,{type:"form","submit-label":"Update",onSubmit:n.submitObservation,actions:!1},{default:_(({value:h})=>[e("table",qt,[Ot,e("tbody",null,[(c(!0),p(R,null,T(t.details.culture_observation,(d,u)=>(c(),p("tr",{class:"border-b border-dotted",key:u},[e("td",Nt,a(t.moment(d.observation_date).fromNow()),1),e("td",Pt,a(`${d.user.first_name} ${d.user.middle_name}
                                                ${d.user.last_name}`),1),e("td",zt,[d.description===""?(c(),O(g,{key:0,type:"textarea",label:"",name:"Remarks",value:d.description,validation:"required"},null,8,["value"])):S("",!0),d.description!=""?(c(),p("p",Lt,a(d.description),1)):S("",!0)]),e("td",Bt,[d.description===""?(c(),O(v,{key:0,type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])):S("",!0)])]))),128)),e("tr",Ft,[e("td",Et,a(t.moment().fromNow()),1),e("td",Mt,a(`${t.authStore.user.first_name} ${t.authStore.user.middle_name} ${t.authStore.user.last_name}`),1),e("td",Gt,[r(g,{type:"textarea",label:"",name:"Remarks",modelValue:t.remarks,"onUpdate:modelValue":s[1]||(s[1]=d=>t.remarks=d),validation:"required"},null,8,["modelValue"])]),e("td",Xt,[r(v,{type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])]),e("div",Ht,[Kt,e("div",Wt,[(c(!0),p(R,null,T(t.suspceptibilityResult,(h,d)=>(c(),p("div",{key:d,class:"mt-2"},[e("div",Zt,[e("h3",$t,a(h.name),1),e("div",Jt,[r(D,{index:d,onUpdate:n.getUpdatedDrugs},null,8,["index","onUpdate"]),r(v,{text:"Save",color:"success",icon:t.updateIcon,loading:t.updating,click:()=>n.updateResults(h)},null,8,["icon","loading","click"]),r(v,{loading:t.deleting,icon:t.trashIcon,color:"error",text:"Delete",click:()=>{n.deleteSusceptivityResult(h.id)}},null,8,["loading","icon","click"])])]),e("table",Qt,[Yt,e("tbody",null,[(c(!0),p(R,null,T(h.drugs,(u,ns)=>(c(),p("tr",es,[e("td",ts,a(u.name),1),e("td",ss,[r(k,{items:n.diameters(),modelValue:u.zone,"onUpdate:modelValue":V=>u.zone=V},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",os,[r(k,{items:"interpretations"in o?o.interpretations:A(ie),modelValue:u.interpretation,"onUpdate:modelValue":V=>u.interpretation=V},null,8,["items","modelValue","onUpdate:modelValue"])])]))),256))])])]))),128))])])]))])])}const Is=j(Ie,[["render",is]]);export{Is as default};
