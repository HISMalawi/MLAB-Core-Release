import{_ as ae}from"./Breadcrumb.vue.67061972.js";import{u as B,a as D,_ as X,f as p,o as I,c as V,d as e,b as t,g as n,h as A,e as E,t as w,l as L,B as m,k as o,F as ne,r as le,D as Z,G as ie}from"./entry.439009d7.js";import{_ as M}from"./OutlinedButton.1cdc8a8d.js";import{e as P}from"./constants.b3411291.js";import{r as J,e as q,f as j,a as Q,h as re,g as ee}from"./fetch.82daa61e.js";import{r as N}from"./XMarkIcon.7a9343f0.js";import{r as H}from"./ArrowDownTrayIcon.700e0c75.js";import{r as te}from"./ArrowUturnLeftIcon.3335e10b.js";import{S as O,h as F,U as R,G as z,V as G}from"./transition.f2756ed4.js";import{_ as Y}from"./microscope.cdeee50f.js";import{r as ce}from"./UserIcon.e2d9539b.js";import{r as de}from"./WrenchScrewdriverIcon.df229942.js";import{_ as ue}from"./SearchBar.f97a2703.js";import{r as me,a as pe}from"./PencilSquareIcon.03aeeb33.js";import{r as W}from"./TrashIcon.76dcbe10.js";import{_ as _e}from"./Datatable.d04cc546.js";import{u as fe}from"./index.c0f5d062.js";import{P as ve}from"./package.47b8853b.js";import"./nuxt-link.a9a7724a.js";import"./HomeIcon.658f0e90.js";import"./PrinterIcon.29534f2c.js";import"./hidden.3f41b6c9.js";import"./Loader.fdcb8d74.js";import"./vue.f36acd1f.fa639f1e.js";const he={components:{TransitionRoot:O,TransitionChild:F,Dialog:R,DialogPanel:z,DialogTitle:G,XMarkIcon:N},data(){return{addIcon:J,saveIcon:H,clearIcon:te,open:!1,loading:!1,equipmentDetails:{name:"",description:"",supported_tests:new Array},instruments:new Array,testTypes:new Array,supportedTests:new Array,supportedTest:new Array,cookie:B("token")}},methods:{adjustVisibility(){this.open=!this.open},async loadTests(){this.adjustVisibility();const $={route:q.testTypes,method:"GET",token:`${this.cookie}`},{data:r,pending:d,error:_}=await j($);r.value&&(this.testTypes=r.value.test_types,r.value.test_types.map(s=>{this.supportedTests.push(s.name)})),_.value&&console.error(_.value)},async submitForm(){this.loading=!0;let $=new Array;this.testTypes.map(a=>{this.supportedTest.map(c=>{a.name===c&&$.push(a.id)})}),this.equipmentDetails.supported_tests=$;const r={route:q.instrument.create,method:"POST",token:`${this.cookie}`,body:this.equipmentDetails},{data:d,pending:_,error:s}=await j(r);this.loading=_,d.value&&(this.closeForm(),D().$toast.success("Instrument added successfully!"),this.$emit("action-completed",[])),s.value&&(s.value.data.error=="Validation failed: Name has already been taken"?D().$toast.error("Name has already been taken"):D().$toast.error(P),this.loading=!1,console.error(s.value))},closeForm(){this.open=!1,this.equipmentDetails={name:"",description:"",supported_tests:new Array},this.supportedTest=new Array}}},xe=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ye={class:"fixed inset-0 overflow-y-auto"},ge={class:"flex min-h-full items-center justify-center p-4 text-center"},be={class:"border-b px-3 py-3 flex items-center justify-between"},we=e("img",{src:Y,class:"w-8 h-8 mr-2"},null,-1),$e={class:"mt-2 space-y-3 px-5 py-5"},ke={class:"w-full grid grid-cols-1 gap-1"},Ce={class:"w-full grid grid-cols-1 gap-1"},De={class:"w-full flex flex-col space-y-2 pb-40"},Te=e("label",{class:"font-medium"},"Supported tests",-1),Ie={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ve($,r,d,_,s,a){const c=E,x=p("TransitionChild"),u=p("DialogTitle"),i=p("XMarkIcon"),f=p("FormKit"),h=p("multi-select"),k=M,v=p("DialogPanel"),y=p("Dialog"),g=p("TransitionRoot");return I(),V("div",null,[e("div",null,[t(c,{text:"Add instrument",color:"primary",icon:s.addIcon,click:a.loadTests},null,8,["icon","click"])]),t(g,{appear:"",show:s.open,as:"template"},{default:n(()=>[t(y,{as:"div",onClose:a.closeForm,class:"relative z-10"},{default:n(()=>[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[xe]),_:1}),e("div",ye,[e("div",ge,[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",be,[t(u,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[we,A(" Add Instrument ")]),_:1}),e("button",{onClick:r[0]||(r[0]=(...l)=>a.adjustVisibility&&a.adjustVisibility(...l))},[t(i,{class:"w-5 h-5"})])]),t(f,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:a.submitForm,actions:!1},{default:n(()=>[e("div",$e,[e("div",ke,[t(f,{type:"text",label:"Name",modelValue:s.equipmentDetails.name,"onUpdate:modelValue":r[1]||(r[1]=l=>s.equipmentDetails.name=l),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",Ce,[t(f,{type:"textarea",modelValue:s.equipmentDetails.description,"onUpdate:modelValue":r[2]||(r[2]=l=>s.equipmentDetails.description=l),label:"Description",validation:"required"},null,8,["modelValue"])]),e("div",De,[Te,t(h,{style:{"--ms-max-height":"none !important"},modelValue:s.supportedTest,"onUpdate:modelValue":r[3]||(r[3]=l=>s.supportedTest=l),options:s.supportedTests,mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),e("div",Ie,[t(k,{type:"button",text:"Close",click:()=>{a.closeForm}},null,8,["click"]),t(c,{type:"submit",color:"success",icon:s.saveIcon,click:()=>{},text:"Save changes",loading:s.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Ae=X(he,[["render",Ve]]),qe={components:{ExclamationTriangleIcon:Q},props:{text:{required:!0,type:String}}},je={class:"flex items-center space-x-3 rounded px-5 py-5 bg-red-200"},Fe={class:"text text-red-500"};function Ue($,r,d,_,s,a){const c=p("ExclamationTriangleIcon");return I(),V("div",je,[t(c,{class:"w-5 h-5 text-red-500"}),e("p",Fe,w(d.text),1)])}const Pe=X(qe,[["render",Ue]]),Se={components:{TransitionRoot:O,TransitionChild:F,Dialog:R,DialogPanel:z,DialogTitle:G,XMarkIcon:N,UserIcon:ce},data(){return{open:!1,driverIcon:de,addIcon:J,saveIcon:H,clearIcon:te}},methods:{handleClick(){this.open=!this.open}}},Be=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ee={class:"fixed inset-0 overflow-y-auto"},Me={class:"flex min-h-full items-center justify-center p-4 text-center"},Ne={class:"border-b px-3 py-3 flex items-center justify-between"},Oe={class:"mt-2 space-y-3 px-5"},Re=e("div",{class:"flex items-center justify-center w-full"},[e("label",{for:"dropzone-file",class:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 hover:bg-gray-100"},[e("div",{class:"flex flex-col items-center justify-center pt-5 pb-6"},[e("svg",{"aria-hidden":"true",class:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),e("p",{class:"mb-2 text-sm text-gray-500"},[e("span",{class:"font-semibold"},"Click to upload"),A(" or drag and drop")]),e("p",{class:"text-xs text-gray-500"},"EXE, ZIP, TG (Max 500MB)")]),e("input",{id:"dropzone-file",type:"file",class:"hidden"})])],-1),ze={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ge($,r,d,_,s,a){const c=E,x=p("TransitionChild"),u=p("DialogTitle"),i=p("XMarkIcon"),f=Pe,h=M,k=p("DialogPanel"),v=p("Dialog"),y=p("TransitionRoot");return I(),V("div",null,[e("div",null,[t(c,{disabled:!0,click:a.handleClick,text:"New driver",color:"warning",icon:s.driverIcon},null,8,["click","icon"])]),t(y,{appear:"",show:s.open,as:"template"},{default:n(()=>[t(v,{as:"div",onClose:a.handleClick,class:"relative z-10"},{default:n(()=>[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Be]),_:1}),e("div",Ee,[e("div",Me,[t(x,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(k,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Ne,[t(u,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[A(" Add new equipment drivers ")]),_:1}),e("button",{onClick:r[0]||(r[0]=(...g)=>a.handleClick&&a.handleClick(...g))},[t(i,{class:"w-5 h-5"})])]),e("div",Oe,[t(f,{text:"Warning: Do not install plugins from untrusted sources!"}),Re]),e("div",ze,[t(h,{text:"Dismiss"}),t(c,{click:a.handleClick,icon:s.saveIcon,text:"Save"},null,8,["click","icon"])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Ke=X(Se,[["render",Ge]]),Le=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Xe={class:"fixed inset-0 overflow-y-auto"},He={class:"flex min-h-full items-center justify-center p-4 text-center"},Ye={class:"border-b px-3 py-3 flex items-center justify-between"},We=e("img",{src:Y,class:"w-8 h-8 mr-2"},null,-1),Ze={class:"mt-2 space-y-3 px-5 py-5"},Je={class:"w-full grid grid-cols-1 gap-1"},Qe=e("label",{class:"font-semibold text-lg"},w("Name"),-1),et={class:"w-full grid grid-cols-1 gap-1"},tt=e("label",{class:"font-semibold text-lg"},w("Host Name"),-1),ot={class:"w-full grid grid-cols-1 gap-1"},st=e("label",{class:"font-semibold text-lg"},w("IP Address"),-1),at={class:"w-full grid grid-cols-1 gap-1"},nt=e("label",{class:"font-semibold text-lg"},w("Can Perform"),-1),lt={class:"w-full grid grid-cols-1 gap-1"},it=e("label",{class:"font-semibold text-lg"},w("Registration Date"),-1),rt={class:"w-full grid grid-cols-1 gap-1"},ct=e("label",{class:"font-semibold text-lg"},w("Equiment Description"),-1),dt={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"},ut=L({__name:"index",props:{id:{}},setup($){const r=$,d=m(!1),_=m(!1),s=m({name:"",description:"",ip_address:"",hostname:"",supported_tests:"",created_date:""}),a=B("token"),c=async()=>{_.value=!0;const u={route:`${q.instrument.show}/${r.id}`,method:"GET",token:`${a.value}`},i=await j(u);i.data.value&&(s.value=i.data.value,d.value=!0),_.value=!1,i.error.value&&(_.value=!1,D().$toast.error(`${P}`))},x=()=>d.value=!d.value;return(u,i)=>{const f=E,h=M,k=p("FormKit");return I(),V("div",null,[e("div",null,[t(f,{text:"View",color:"success",icon:o(me),click:c},null,8,["icon"])]),t(o(O),{appear:"",show:o(d),as:"template"},{default:n(()=>[t(o(R),{as:"div",onClose:x,class:"relative z-10"},{default:n(()=>[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Le]),_:1}),e("div",Xe,[e("div",He,[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(o(z),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Ye,[t(o(G),{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[We,A(" Instrument Details ")]),_:1}),e("button",{onClick:x},[t(o(N),{class:"w-5 h-5"})])]),t(k,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:u.submitForm,actions:!1},{default:n(()=>[e("div",Ze,[e("div",Je,[Qe,e("p",null,w(o(s).name),1)]),e("div",et,[tt,e("p",null,w(o(s).hostname??"--"),1)]),e("div",ot,[st,e("p",null,w(o(s).ip_address??"--"),1)]),e("div",at,[nt,(I(!0),V(ne,null,le(o(s).supported_tests,(v,y)=>(I(),V("p",{key:y},w(v.name.charAt(0).toUpperCase()+v.name.slice(1)),1))),128))]),e("div",lt,[it,e("p",null,w(o(re)(o(s).created_date).format("DD/MMM/YYYY")),1)]),e("div",rt,[ct,e("p",null,w(o(s).description??"--"),1)])]),e("div",dt,[t(h,{type:"button",click:x,text:"Close"})])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),mt=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),pt={class:"fixed inset-0 overflow-y-auto"},_t={class:"flex min-h-full items-center justify-center p-4 text-center"},ft={class:"border-b px-3 py-3 flex items-center justify-between"},vt=e("img",{src:Y,class:"w-8 h-8 mr-2"},null,-1),ht={class:"mt-2 space-y-3 px-5 py-5"},xt={class:"w-full grid grid-cols-1 gap-1"},yt={class:"w-full grid grid-cols-1 gap-1"},gt={class:"w-full grid grid-cols-1"},bt={class:"w-full grid grid-cols-1 gap-1"},wt={class:"w-full flex flex-col space-y-2 pb-40"},$t=e("label",{class:"font-medium"},"Supported tests",-1),kt={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"},Ct=L({__name:"index",props:{id:{}},emits:["action-completed"],setup($,{emit:r}){const d=$,_=r,s=m(!1),a=m(!1),c=m([]),x=m([]),u=m([]),i=m({name:"",description:"",ip_address:"",hostname:"",created_date:"",supported_tests:new Array}),f=B("token"),h=async()=>{const g={route:`${q.testTypes}`,method:"GET",token:`${f.value}`},l=await j(g);l.data.value&&(c.value=l.data.value.test_types,c.value.map(b=>{x.value.push(b.name)})),a.value=!1,l.error.value&&console.error(l.error.value)},k=async()=>{a.value=!0,u.value=new Array,await h();const g={route:`${q.instrument.edit}/${d.id}`,method:"GET",token:`${f.value}`},l=await j(g);l.data.value&&(i.value=l.data.value,s.value=!0,l.data.value.supported_tests.map(b=>{u.value.push(b.name)}),console.log(i.value)),a.value=!1,l.error.value&&(a.value=!1,D().$toast.error(`${P}`))},v=()=>s.value=!s.value,y=async()=>{a.value=!0;let g=new Array;c.value.map(U=>{u.value.map(C=>{U.name==C&&g.push(U.id)})}),i.value.supported_tests=g;const l={route:`${q.instrument.update}/${d.id}`,method:"PATCH",token:f.value,body:i.value},{data:b,pending:T,error:S}=await j(l);a.value=T,b.value&&(v(),D().$toast.success("Instrument details updated successfully!"),_("action-completed",[])),S.value&&D().$toast.error(`${P}`),a.value=!1};return(g,l)=>{const b=E,T=p("FormKit"),S=p("multi-select"),U=M;return I(),V("div",null,[e("div",null,[t(b,{text:"Edit",color:"primary",icon:o(pe),click:k},null,8,["icon"])]),t(o(O),{appear:"",show:o(s),as:"template"},{default:n(()=>[t(o(R),{as:"div",onClose:v,class:"relative z-10"},{default:n(()=>[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[mt]),_:1}),e("div",pt,[e("div",_t,[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(o(z),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",ft,[t(o(G),{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:n(()=>[vt,A(" Edit Instrument Details ")]),_:1}),e("button",{onClick:v},[t(o(N),{class:"w-5 h-5"})])]),t(T,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:y,actions:!1},{default:n(()=>[e("div",ht,[e("div",xt,[t(T,{type:"text",label:"Name",modelValue:o(i).name,"onUpdate:modelValue":l[0]||(l[0]=C=>o(i).name=C),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",yt,[t(T,{type:"text",label:"Host Name",modelValue:o(i).hostname,"onUpdate:modelValue":l[1]||(l[1]=C=>o(i).hostname=C),class:"w-full",validation:"required|text"},null,8,["modelValue"])]),e("div",gt,[t(T,{type:"text",label:"IP Address",modelValue:o(i).ip_address,"onUpdate:modelValue":l[2]||(l[2]=C=>o(i).ip_address=C),validation:[["required"],["matches",/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i]]},null,8,["modelValue","validation"])]),e("div",bt,[t(T,{type:"textarea",modelValue:o(i).description,"onUpdate:modelValue":l[3]||(l[3]=C=>o(i).description=C),label:"Description",validation:"required"},null,8,["modelValue"])]),e("div",wt,[$t,t(S,{style:{"--ms-max-height":"none !important"},modelValue:o(u),"onUpdate:modelValue":l[4]||(l[4]=C=>Z(u)?u.value=C:null),options:o(x),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),e("div",kt,[t(U,{type:"button",click:v,text:"Close"}),t(b,{type:"submit",color:"success",icon:o(H),click:()=>{},text:"Save changes",loading:o(a)},null,8,["icon","loading"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),Dt=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Tt={class:"fixed inset-0 overflow-y-auto"},It={class:"flex min-h-full items-center justify-center p-4 text-center"},Vt={class:"border-b px-3 py-3 flex items-center justify-between"},At={class:"mt-2 space-y-3 px-5"},qt={class:"text-red-500"},jt={class:"mt-2 space-y-3 px-5 py-5"},Ft={class:"w-full grid grid-cols-1 gap-1"},Ut={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t bg-gray-50"},Pt=L({__name:"index",props:{id:{},name:{}},emits:["action-completed"],setup($,{emit:r}){const d=$,_=r,s=m(!1),a=m(!1),c=m(""),x=B("token"),u=()=>{s.value=!s.value,c.value="",a.value=!1},i=async()=>{a.value=!0;const f={route:ee(`${q.instrument.delete}/${d.id}`,{retired_reason:c.value}),method:"DELETE",token:x.value},{data:h,pending:k,error:v}=await j(f);a.value=k,h.value&&(u(),D().$toast.success("Instrument deleted successfully!"),_("action-completed",[])),v.value&&(D().$toast.error(`${P}`),a.value=!1)};return(f,h)=>{const k=E,v=p("FormKit"),y=M;return I(),V("div",null,[t(k,{click:u,color:"error",text:"Delete",icon:o(W)},null,8,["icon"]),t(o(O),{appear:"",show:o(s),as:"template"},{default:n(()=>[t(o(R),{as:"div",class:"relative z-10"},{default:n(()=>[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[Dt]),_:1}),e("div",Tt,[e("div",It,[t(o(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[t(o(z),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Vt,[t(o(G),{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>[t(o(Q),{class:"h-5 w-5 mr-2"}),A(" Confirm delete ")]),_:1}),e("button",{onClick:u},[t(o(N),{class:"w-5 h-5"})])]),e("div",At,[A(" Do you really want to delete "),e("strong",qt,w(d.name),1),A(" ? Note that once this action is completed, it can not be undone ")]),t(v,{type:"form",id:"patientForm","submit-label":"Update",onSubmit:i,actions:!1},{default:n(()=>[e("div",jt,[e("div",Ft,[t(v,{type:"textarea",modelValue:o(c),"onUpdate:modelValue":h[0]||(h[0]=g=>Z(c)?c.value=g:null),label:"Reason",validation:"required"},null,8,["modelValue"])])]),e("div",Ut,[t(y,{type:"button",text:"Cancel",click:u}),t(k,{type:"submit",color:"error",text:"Delete",icon:o(W),click:()=>{},loading:o(a)},null,8,["icon","loading"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),St={class:"py-5 px-5"},Bt={class:"flex items-center justify-between py-5"},Et={class:"text-2xl font-semibold"},Mt={class:"flex items-center space-x-3"},Nt={class:"flex justify-end w-full px-2 py-2 mb-2"},Ot={class:"py-2 flex items-center space-x-2"},po=L({__name:"instruments",setup($){fe({title:`${ve.name.toUpperCase()} - Instruments`});const r=m(0),d=m(!1),_=m([]),s=B("token"),a=m("List of Instruments"),c=m(""),x=m([{name:"Home",link:"/home"},{name:"Lab Configuration",link:"#"}]),u=m([{text:"Name",value:"name",sortable:!0},{text:"IP Address",value:"ip_address"},{text:"Hostname",value:"hostname"},{text:"Actions",value:"actions",width:18}]),i=m({page:1,rowsPerPage:25,sortBy:"name"}),f=async()=>h(),h=async()=>{d.value=!0;const{page:y,rowsPerPage:g}=i.value,l={route:ee(q.instrument.index,{page:y,page_size:g,search:c.value}),method:"GET",token:`${s.value}`},b=await j(l);b.data.value&&(_.value=b.data.value.data,r.value=b.data.value.total),d.value=!1,b.error.value&&(d.value=!1,D().$toast.error(`${P}`))},k=y=>{c.value=y,h()},v=y=>i.value=y;return h(),ie(i,()=>h()),(y,g)=>{const l=ae,b=Ae,T=Ke,S=ue,U=ut,C=Ct,oe=Pt,se=_e;return I(),V("div",St,[t(l,{pages:o(x)},null,8,["pages"]),e("div",Bt,[e("h3",Et,w(o(a)),1),e("div",Mt,[t(b,{onActionCompleted:f}),t(T)])]),e("div",Nt,[t(S,{search:o(c),onUpdate:k},null,8,["search"])]),t(se,{headers:o(u),data:o(_),serverOptions:o(i),loading:o(d),serverItemsLength:o(r),onUpdate:v},{actions:n(({item:K})=>[e("div",Ot,[t(U,{id:K.id},null,8,["id"]),t(C,{id:K.id,onActionCompleted:f},null,8,["id"]),t(oe,{id:K.id,name:K.name,onActionCompleted:f},null,8,["id","name"])])]),_:1},8,["headers","data","serverOptions","loading","serverItemsLength"])])}}});export{po as default};
