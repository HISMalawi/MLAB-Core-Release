import{_ as $}from"./Breadcrumb.vue.28eeda34.js";import{_ as Z}from"./Loader.5ae19c0c.js";import{_ as E}from"./Dropdown.fb72c7e0.js";import{u as V,_ as U,f as _,o as m,c as h,b as l,g as f,d as e,h as L,e as q,a as x,t as a,j as R,k as T,F as A,r as j,p as P}from"./entry.7897c13a.js";import{h as B,e as w,f as k,r as F,u as J,j as Q}from"./fetch.00e05314.js";import{r as O}from"./XMarkIcon.a7881734.js";import{r as Y,a as ee}from"./PencilSquareIcon.b19e0a71.js";import{r as M}from"./ArrowDownTrayIcon.a69c1999.js";import{S as G,h as X,U as H,G as K,V as W}from"./transition.b5d3dcf7.js";import{_ as te}from"./bacteria.b181f6a9.js";import{_ as se}from"./medicines.ba628a47.js";import{e as z,d as N,i as oe}from"./constants.62e440a8.js";import{u as ie}from"./vue.f36acd1f.187defeb.js";import{P as ne}from"./package.9331fd8f.js";import{r as le}from"./CheckIcon.c011ad86.js";import{r as re}from"./ArrowUpTrayIcon.7c3991bf.js";import{r as ae}from"./TrashIcon.26d1e2f1.js";import"./nuxt-link.b77691a3.js";import"./HomeIcon.cdb6968c.js";import"./listbox.fd701fc9.js";import"./hidden.2913a642.js";import"./use-text-value.242d3331.js";import"./CheckCircleIcon.d85f8f8d.js";import"./MagnifyingGlassIcon.afa0e37c.js";import"./PrinterIcon.2af29564.js";const de={components:{TransitionRoot:G,TransitionChild:X,Dialog:H,DialogPanel:K,DialogTitle:W,XMarkIcon:O},data(){return{viewIcon:Y,show:!1,editIcon:ee,saveIcon:M,moment:B,cookie:V("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,selectedResult:{name:"select result"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},methods:{init(){var o,s,i;((o=this.result)==null?void 0:o.value)!==null&&(this.selectedResult={name:(s=this.result)!=null&&s.value?(i=this.result)==null?void 0:i.value:"select result"})},getUpdatedValue(o){o.name.toLowerCase()=="growth"&&this.loadOrganisms()},async loadOrganisms(){this.handleClick();const o={route:w.organisms,method:"GET",token:`${this.cookie}`},{data:s,error:i}=await k(o);s.value&&(this.rawOrganisms=s.value,s.value.map(r=>{this.organisms.push(r.name)})),i.value&&console.error(i.value)},handleClick(){this.show=!this.show},apply(){let o=[];this.rawOrganisms.forEach(s=>{this.organismsSelected.forEach(i=>{s.name===i&&o.push(s)})}),this.$emit("apply",o),this.organismsSelected=[],this.handleClick()}},watch:{selectedResult(o,s){this.data.map(i=>{i.value===o.name&&this.$emit("update",i)})}}},ce=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},me={class:"border-b px-3 py-3 flex items-center justify-between"},_e=e("img",{src:te,class:"w-8 h-8 mr-2"},null,-1),he={class:"space-y-3 px-5 py-5 pb-20"},fe={class:"w-full flex flex-col space-y-2"},be=e("label",{class:"font-medium"},"Organisms",-1),ye={class:"flex justify-end"};function ge(o,s,i,r,t,n){const u=E,c=_("TransitionChild"),b=_("DialogTitle"),S=_("XMarkIcon"),g=_("multi-select"),v=q,D=_("DialogPanel"),C=_("Dialog"),p=_("TransitionRoot");return m(),h("div",null,[l(u,{items:i.data.map(d=>({name:d.value})),modelValue:t.selectedResult,"onUpdate:modelValue":[s[0]||(s[0]=d=>t.selectedResult=d),n.getUpdatedValue]},null,8,["items","modelValue","onUpdate:modelValue"]),l(p,{appear:"",show:t.show,as:"template"},{default:f(()=>[l(C,{as:"div",class:"relative z-10"},{default:f(()=>[l(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[ce]),_:1}),e("div",ue,[e("div",pe,[l(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:f(()=>[l(D,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:f(()=>[e("div",me,[l(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:f(()=>[_e,L(" Select organisms ")]),_:1}),e("button",{onClick:s[1]||(s[1]=(...d)=>n.handleClick&&n.handleClick(...d))},[l(S,{class:"w-5 h-5"})])]),e("div",he,[e("div",fe,[be,l(g,{style:{"--ms-max-height":"none !important"},modelValue:t.organismsSelected,"onUpdate:modelValue":s[2]||(s[2]=d=>t.organismsSelected=d),options:t.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",ye,[l(v,{click:n.apply,icon:t.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ve=U(de,[["render",ge]]),xe={components:{TransitionChild:X,TransitionRoot:G,Dialog:H,DialogPanel:K,DialogTitle:W,XMarkIcon:O},data(){return{addIcon:F,saveIcon:M,open:!1,loading:!1,cookie:V("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const o={route:w.drugs,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:r}=await k(o);this.loading=r,s.value&&(this.handleClick(),this.rawDrugs=s.value,s.value.map(t=>{this.drugs.push(t.name)})),i.value&&console.error(i.value)},updatedDrugs(o){this.selectedDrugs=o},pushDrugs(o){let s=new Array;this.rawDrugs.map(i=>{o.map(r=>{i.name.toLowerCase()===r.toLowerCase()&&s.push(i)})}),this.$emit("update",{drugs:s,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},we=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ke={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},Se={class:"border-b px-3 py-3 flex items-center justify-between"},De=e("img",{src:se,class:"w-8 h-8 mr-2"},null,-1),Re={class:"ma-5 px-4 py-4"},Te={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ae(o,s,i,r,t,n){const u=q,c=_("TransitionChild"),b=_("DialogTitle"),S=_("XMarkIcon"),g=_("multi-select"),v=_("DialogPanel"),D=_("Dialog"),C=_("TransitionRoot");return m(),h("div",null,[e("div",null,[l(u,{click:n.init,text:"Add drug",color:"primary",icon:t.addIcon},null,8,["click","icon"])]),l(C,{appear:"",show:t.open,as:"template"},{default:f(()=>[l(D,{as:"div",onClose:n.handleClick,class:"relative z-10"},{default:f(()=>[l(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[we]),_:1}),e("div",ke,[e("div",Ce,[l(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:f(()=>[l(v,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:f(()=>[e("div",Se,[l(b,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:f(()=>[De,L(" Add drug ")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...p)=>n.handleClick&&n.handleClick(...p))},[l(S,{class:"w-5 h-5"})])]),e("div",null,[e("div",Re,[l(g,{modelValue:t.selectedDrugs,"onUpdate:modelValue":s[1]||(s[1]=p=>t.selectedDrugs=p),label:"Select drug(s)",options:t.drugs,mode:"tags",clear:"",searchable:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",Te,[l(u,{click:()=>{n.pushDrugs(t.selectedDrugs)},type:"submit",color:"success",icon:t.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const je=U(xe,[["render",Ae]]),Ie={setup(){ie({title:`${ne.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`})},data(){return{cookie:V("token"),authStore:J(),data:null,header:"Enter Culture & Sensitivity Results",loading:!1,closeIcon:O,addIcon:F,moment:B,pages:[{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}],remarks:"",remark:"",saveIcon:le,updateIcon:re,trashIcon:ae,selectedDiameter:{name:"select result"},details:{client:{id:0,first_name:"",middle_name:"",last_name:"",sex:"",date_of_birth:"",birth_date_estimated:!1},order_status:"",status:"",requested_by:"",culture_observation:new Array,status_trail:new Array,suscept_test_result:new Array},organisms:new Array,drugsValues:{id:0,name:"",drugs:new Array},suspceptibilityResult:new Array,updating:!1,saving:!1,deleting:!1,results:{},testId:"",accessionNo:"",fetching:!1}},created(){this.accessionNo=`${this.$route.query.accession_number}`,this.testId=`${this.$route.query.test_id}`,this.init()},methods:{async init(){var t,n;this.fetching=!0;const o={route:`${w.tests}/${this.testId}`,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:r}=await k(o);this.fetching=r,s.value&&(this.details=s.value,this.fetching=!1,this.suspceptibilityResult=s.value.suscept_test_result.map(u=>({id:u.organism_id,name:u.name,drugs:u.drugs.map(c=>({name:c.name,drug_id:c.drug_id,zone:{name:c.zone===null?"select result":c.zone},interpretation:{name:c.interpretation===""?"select result":c.interpretation}}))})),this.remark=((t=s.value.result_remarks)==null?void 0:t.value)??((n=s.value.result_remarks)==null?void 0:n.value)),i.value&&(this.fetching=!1,console.error("error fetcing test details: ",i.value))},async loadOrganisms(o){o.forEach(async s=>{const i={route:`${w.organisms}/${s.id}`,method:"GET",token:`${this.cookie}`},{data:r,error:t}=await k(i);if(r.value){this.organisms.push(r.value);let n={id:null,name:null,drugs:[]};this.organisms.forEach(u=>{n.id=u.id,n.name=u.name;const c=u.drugs.map(b=>({name:b.name,drug_id:b.id,zone:{name:"select result"},interpretation:{name:"select result"}}));n.drugs=n.drugs.concat(c)}),this.suspceptibilityResult.push(n)}t.value&&console.error(t.value)})},diameters(){let o=new Array;for(let s=0;s<=200;s++)o.push({name:`${s}`});return o},async submitObservation(){this.loading=!0;const o={route:w.cultureObservations,method:"POST",token:`${this.cookie}`,body:{test_id:this.testId,description:this.remarks}},{data:s,error:i,pending:r}=await k(o);this.loading=r,s.value&&(this.remarks="",this.loading=!1,this.init(),this.suspceptibilityResult=new Array),i.value&&(this.loading=!1,console.error(i.value))},async updateResults(o){this.updating=!0,this.suspceptibilityResult.filter(i=>o.name.toLowerCase()===i.name.toLowerCase()).map(async i=>{let r=[];if(i.drugs.map(t=>{r.push({drug_id:t.drug_id,zone:t.zone.name!=="select result"?t.zone.name:"",interpretation:t.interpretation.name!=="select result"?t.interpretation.name:""})}),r.filter(t=>t.zone!=="").length>0){const t={route:w.drugSusceptibility,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:i.id,drugs:r.filter(b=>String(b.zone)!==""&&String(b.interpretation)!==""),status:"completed"}},{data:n,error:u,pending:c}=await k(t);this.updating=c,n.value&&(this.updating=!1,x().$toast.success("Suspceptibility test results updated successfully!")),u.value&&(console.error(u.value),this.updating=!1,x().$toast.error(z))}else x().$toast.warn("Please add zone and interpretation to the drugs under the organism selected")}),this.updating=!1},async deleteSusceptivityResult(o,s){this.deleting=!0;const i={route:`${w.drugSusceptibility}/delete`,method:"PUT",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:o}},{data:r,error:t,pending:n}=await k(i);this.deleting=n,r.value&&(this.deleting=!1,this.suspceptibilityResult.splice(s,1),x().$toast.success("Suspceptibility test results deleted successfully!")),t.value&&(console.error(t.value),this.deleting=!1,x().$toast.success("An error has occurred, please try again!"))},invalidation(){x().$toast.warning("Could not save null suspceptibility results, please enter values!"),this.updating=!1},updateResult(o){this.results=o},async saveResults(){var t,n;this.saving=!0;const o={route:`${w.updateResults}`,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,test_indicators:new Array({indicator:(t=this.results)==null?void 0:t.test_indicator_id,value:(n=this.results)==null?void 0:n.value}),remarks:this.remark}},{data:s,error:i,pending:r}=await k(o);this.saving=r,s.value&&(this.saving=!1,x().$toast.success("Test results updated successfully"),this.$router.back()),i.value&&(this.saving=!1,x().$toast.error(z),console.error(i.value))},getUpdatedDrugs(o){this.suspceptibilityResult.map((s,i)=>{o.index===i&&o.drugs.map(r=>{s.drugs.push({name:r.name,drug_id:r.id,zone:{name:"select result"},interpretation:{name:"select result"}})})})}}},Ve={class:"px-5 py-5"},Ue={class:"flex items-center justify-between py-5"},qe={class:"text-2xl font-semibold"},Oe={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},Pe=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1),ze={key:1},Ne={class:"grid grid-cols-3 gap-4 py-5"},Ee={class:"rounded border"},Le=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1),Be={class:"w-full py-2"},Fe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Me=e("h3",{class:"font-medium"},"Patient Number",-1),Ge={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Xe=e("h3",{class:"font-medium"},"Name",-1),He={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ke=e("h3",{class:"font-medium"},"Sex",-1),We={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},$e=e("h3",{class:"font-medium"},"Age",-1),Ze={class:"rounded border"},Je=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1),Qe={class:"w-full py-2"},Ye={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},et=e("h3",{class:"font-medium"},"Specimen Type",-1),tt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},st=e("h3",{class:"font-medium"},"Tracking Number",-1),ot={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},it=e("h3",{class:"font-medium"},"Accession Number",-1),nt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},lt=e("h3",{class:"font-medium"},"Status",-1),rt={class:"rounded border max-h-72 overflow-y-auto"},at=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1),dt={class:"w-full py-2"},ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ut=e("h3",{class:"font-medium"},"Name",-1),pt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},mt=e("h3",{class:"font-medium"},"Date Registered",-1),_t={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},ht=e("h3",{class:"font-medium"},"Receipt Date",-1),ft={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},bt=e("h3",{class:"font-medium"},"Test Status",-1),yt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},gt=e("h3",{class:"font-medium"},"Ward/Location",-1),vt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},xt=e("h3",{class:"font-medium"},"Physician",-1),wt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},kt=e("h3",{class:"font-medium"},"Request Origin",-1),Ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},St=e("h3",{class:"font-medium"},"Registered By",-1),Dt={class:"grid grid-cols-5 gap-4"},Rt={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},Tt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Observations ")],-1),At={class:"font-medium"},jt=e("p",{class:"text-base font-medium mb-2"},"Remarks",-1),It={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},Vt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1),Ut={class:"px-5 py-2 space-y-2"},qt=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1),Ot={class:"w-full text-left border border-dotted"},Pt=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"}," Action ")])],-1),zt={class:"px-2 py-3 border-r border-dotted"},Nt={class:"px-2 py-3 border-r border-dotted"},Et={class:"px-2 py-3 border-r border-dotted"},Lt={key:1},Bt={class:"px-2 py-3"},Ft={class:"border-b border-dotted"},Mt={class:"px-2 py-3 border-r border-dotted"},Gt={class:"px-2 py-3 border-r border-dotted"},Xt={class:"px-2 py-3 border-r border-dotted"},Ht={class:"px-2 py-3"},Kt={class:"rounded border mt-5"},Wt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1),$t={class:"px-5 py-5"},Zt={class:"flex items-center justify-between mb-3"},Jt={class:"font-semibold text-lg"},Qt={class:"flex items-center space-x-3"},Yt={class:"w-full text-left border border-dotted"},es=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1),ts={class:"px-2 py-3 border-r border-dotted"},ss={class:"px-2 py-3"},os={class:"px-2 py-3"};function is(o,s,i,r,t,n){const u=$,c=Z,b=ve,S=_("RichTextEditor"),g=q,v=_("FormKit"),D=je,C=E;return m(),h("div",Ve,[e("div",null,[l(u,{pages:t.pages},null,8,["pages"]),e("div",Ue,[e("h3",qe,a(t.header),1)]),t.fetching?(m(),h("div",Oe,[l(c),Pe])):R("",!0),t.fetching?R("",!0):(m(),h("div",ze,[e("div",Ne,[e("div",Ee,[Le,e("div",Be,[e("div",Fe,[Me,e("p",null,a(t.details.id),1)]),e("div",Ge,[Xe,e("p",null,a(`${t.details.client.first_name} ${t.details.client.middle_name} ${t.details.client.last_name}`),1)]),e("div",He,[Ke,e("p",null,a(t.details.client.sex),1)]),e("div",We,[$e,e("p",null,a(("calculateAge"in o?o.calculateAge:T(Q))(t.details.client.date_of_birth)),1)])])]),e("div",Ze,[Je,e("div",Qe,[e("div",Ye,[et,e("p",null,a(t.details.specimen_type),1)]),e("div",tt,[st,e("p",null,a(t.details.tracking_number),1)]),e("div",ot,[it,e("p",null,a(t.details.accession_number),1)]),e("div",nt,[lt,e("p",null,a(t.details.order_status.split("-").join(" ").charAt(0).toUpperCase()+t.details.order_status.split("-").join(" ").slice(1)),1)])])]),e("div",rt,[at,e("div",dt,[e("div",ct,[ut,e("p",null,a(t.details.test_type_name),1)]),e("div",pt,[mt,e("p",null,a(t.moment(t.details.created_date).format("dateFormat"in o?o.dateFormat:T(N))),1)]),e("div",_t,[ht,e("p",null,a(t.moment(t.details.updated_date).format("dateFormat"in o?o.dateFormat:T(N))),1)]),e("div",ft,[bt,e("p",null,a(t.details.status.charAt(0).toUpperCase()+t.details.status.slice(1)),1)]),e("div",yt,[gt,e("p",null,a(t.details.requesting_ward),1)]),e("div",vt,[xt,e("p",null,a(t.details.requested_by.charAt(0).toUpperCase()+t.details.requested_by.slice(1)),1)]),e("div",wt,[kt,e("p",null,a(t.details.request_origin),1)]),e("div",Ct,[St,e("p",null,a(t.details.registered_by),1)])])])]),e("div",Dt,[e("div",Rt,[Tt,l(v,{type:"form","submit-label":"Update",onSubmit:n.saveResults,actions:!1},{default:f(()=>[(m(!0),h(A,null,j(t.details.indicators,(p,d)=>(m(),h("div",{class:"px-5 py-2 space-y-2",key:d},[e("label",At,a(p.name),1),l(b,{result:p.result,onUpdate:n.updateResult,onApply:n.loadOrganisms,data:p.indicator_ranges},null,8,["result","onUpdate","onApply","data"]),e("div",null,[jt,l(S,{theme:"snow",class:"editor",content:t.remark,"onUpdate:content":s[0]||(s[0]=y=>t.remark=y),contentType:"html"},null,8,["content"])]),l(g,{loading:t.saving,click:()=>{},type:"submit",icon:t.saveIcon,text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]),_:1},8,["onSubmit"])]),e("div",It,[Vt,e("div",Ut,[e("div",null,[qt,l(v,{type:"form","submit-label":"Update",onSubmit:n.submitObservation,actions:!1},{default:f(({value:p})=>[e("table",Ot,[Pt,e("tbody",null,[(m(!0),h(A,null,j(t.details.culture_observation,(d,y)=>(m(),h("tr",{class:"border-b border-dotted",key:y},[e("td",zt,a(t.moment(d.observation_date).fromNow()),1),e("td",Nt,a(`${d.user.first_name} ${d.user.middle_name}
                                                ${d.user.last_name}`),1),e("td",Et,[d.description===""?(m(),P(v,{key:0,type:"textarea",label:"",name:"Remarks",value:d.description,validation:"required"},null,8,["value"])):R("",!0),d.description!=""?(m(),h("p",Lt,a(d.description),1)):R("",!0)]),e("td",Bt,[d.description===""?(m(),P(g,{key:0,type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])):R("",!0)])]))),128)),e("tr",Ft,[e("td",Mt,a(t.moment().fromNow()),1),e("td",Gt,a(`${t.authStore.user.first_name} ${t.authStore.user.middle_name} ${t.authStore.user.last_name}`),1),e("td",Xt,[l(v,{type:"textarea",label:"",name:"Remarks",modelValue:t.remarks,"onUpdate:modelValue":s[1]||(s[1]=d=>t.remarks=d),validation:"required"},null,8,["modelValue"])]),e("td",Ht,[l(g,{type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])]),e("div",Kt,[Wt,e("div",$t,[(m(!0),h(A,null,j(t.suspceptibilityResult,(p,d)=>(m(),h("div",{key:p.name,class:"mt-2"},[e("div",Zt,[e("h3",Jt,a(p.name),1),e("div",Qt,[l(D,{index:d,onUpdate:n.getUpdatedDrugs},null,8,["index","onUpdate"]),l(g,{text:"Save",color:"success",icon:t.updateIcon,loading:t.updating,click:()=>n.updateResults(p)},null,8,["icon","loading","click"]),l(g,{loading:t.deleting,icon:t.trashIcon,color:"error",text:"Delete",click:()=>{n.deleteSusceptivityResult(p.id,d)}},null,8,["loading","icon","click"])])]),e("table",Yt,[es,e("tbody",null,[(m(!0),h(A,null,j(p.drugs,y=>(m(),h("tr",{class:"border-b border-dotted",key:y.name},[e("td",ts,a(y.name),1),e("td",ss,[l(C,{items:n.diameters(),modelValue:y.zone,"onUpdate:modelValue":I=>y.zone=I},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",os,[l(C,{items:"interpretations"in o?o.interpretations:T(oe),modelValue:y.interpretation,"onUpdate:modelValue":I=>y.interpretation=I},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])])]))),128))])])]))])])}const js=U(Ie,[["render",is]]);export{js as default};
