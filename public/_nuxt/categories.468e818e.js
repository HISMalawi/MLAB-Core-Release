import{_ as z}from"./Breadcrumb.vue.a5cd8cfb.js";import{u as T,a as k,_ as b,f as n,o as C,c as D,d as t,b as e,g as s,h as y,e as $,t as P}from"./entry.0b8cd08a.js";import{_ as R}from"./OutlinedButton.0303e8c6.js";import{e as B,d as G}from"./constants.1be0c037.js";import{S as I}from"./stock.472aad49.js";import{r as S}from"./XMarkIcon.c65f13ea.js";import{r as H}from"./UserIcon.8307e016.js";import{r as N,a as L,h as J}from"./fetch.3bebfb7d.js";import{r as A}from"./ArrowDownTrayIcon.3a94bbef.js";import{r as Q}from"./ArrowUturnLeftIcon.570a042b.js";import{S as F,h as M,U,G as V,V as j}from"./transition.29920038.js";import{_ as W}from"./SearchBar.6b4a19eb.js";import{r as E,a as X}from"./PencilSquareIcon.8bd9941b.js";import{r as q}from"./TrashIcon.0f3eaa71.js";import{_ as Y}from"./Datatable.bf6eb527.js";import{u as Z}from"./vue.f36acd1f.cbc612d6.js";import{P as ee}from"./package.b2e4a4ff.js";import"./nuxt-link.7cdf9b23.js";import"./HomeIcon.4eb0c0eb.js";import"./PrinterIcon.f055bae4.js";import"./hidden.7f45844e.js";import"./Loader.079f2cba.js";const te={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:V,DialogTitle:j,XMarkIcon:S,UserIcon:H},data(){return{open:!1,addIcon:N,saveIcon:A,clearIcon:Q,loading:!1,name:"",cookie:T("token")}},methods:{async submitForm(){this.loading=!0;const d=new I,a={name:this.name},{data:l,error:c,pending:o}=await d.createStockCategory(`${this.cookie}`,a);this.loading=o,l.value&&(this.handleClick(),k().$toast.success(`${this.name} stock category created successfully!`),this.loading=!1,this.name="",this.$emit("update",!0)),c.value&&(this.handleClick(),console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("submitForm")}}},oe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ae={class:"fixed inset-0 overflow-y-auto"},ne={class:"flex min-h-full items-center justify-center p-4 text-center"},se={class:"border-b px-3 py-3 flex items-center justify-between"},ie={class:"mt-2 space-y-3"},le={class:"w-full flex items-center px-5"},ce={class:"w-full flex flex-col space-y-2"},re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function de(d,a,l,c,o,i){const m=$,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("FormKit"),p=R,g=n("DialogPanel"),_=n("Dialog"),w=n("TransitionRoot");return C(),D("div",null,[t("div",null,[e(m,{text:"Create category",color:"primary",icon:o.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(w,{appear:"",show:o.open,as:"template"},{default:s(()=>[e(_,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[oe]),_:1}),t("div",ae,[t("div",ne,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",se,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:s(()=>[y(" Create stock category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...x)=>i.handleClick&&i.handleClick(...x))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1,id:"submitForm"},{default:s(({value:x})=>[t("div",ie,[t("div",le,[t("div",ce,[e(u,{type:"text",label:"Name",validation:"required",modelValue:o.name,"onUpdate:modelValue":a[1]||(a[1]=v=>o.name=v)},null,8,["modelValue"])])])]),t("div",re,[e(p,{type:"button",click:()=>{i.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const me=b(te,[["render",de]]),ue={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:V,DialogTitle:j,XMarkIcon:S},data(){return{viewIcon:E,show:!1,editIcon:X}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},K=""+new URL("i_certificate_paper.f866bd96.svg",import.meta.url).href,_e=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),pe={class:"fixed inset-0 overflow-y-auto"},fe={class:"flex min-h-full items-center justify-center p-4 text-center"},he={class:"border-b px-3 py-3 flex items-center justify-between"},ge=t("img",{src:K,class:"w-8 h-8 mr-2"},null,-1),xe={class:"space-y-3 px-5 py-5"},ve={class:"w-full flex flex-col space-y-1"},ye=t("label",{class:"font-semibold text-lg"},"Name",-1),ke={class:"underline"};function we(d,a,l,c,o,i){const m=$,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("DialogPanel"),p=n("Dialog"),g=n("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{i.handleClick()},color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(g,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(p,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[_e]),_:1}),t("div",pe,[t("div",fe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",he,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[ge,y(" View Stock Category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(..._)=>i.handleClick&&i.handleClick(..._))},[e(h,{class:"w-5 h-5"})])]),t("div",xe,[t("div",ve,[ye,t("p",ke,P(l.data.name),1)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const be=b(ue,[["render",we]]),Ce={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:V,DialogTitle:j,XMarkIcon:S},data(){return{editIcon:X,show:!1,saveIcon:A,loading:!1,cookie:T("token")}},props:{data:{type:Object,required:!0}},methods:{init(){this.handleClick()},async submitForm(){this.loading=!0;const d=new I;let a={id:this.data.id,name:this.data.name};const{data:l,error:c,pending:o}=await d.updateStockCategory(`${this.cookie}`,a);this.loading=o,l.value&&(this.$emit("update",!0),this.loading=!1,this.handleClick(),k().$toast.success("Stock category updated successfully!")),c.value&&(console.error(c.value),k().$toast.error(B),this.handleClick(),this.loading=!1)},clearForm(){this.$formkit.reset("editForm")},handleClick(){this.show=!this.show}}},De=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Te={class:"fixed inset-0 overflow-y-auto"},$e={class:"flex min-h-full items-center justify-center p-4 text-center"},Ie={class:"border-b px-3 py-3 flex items-center justify-between"},Se=t("img",{src:K,class:"w-8 h-8 mr-2"},null,-1),Fe={class:"w-full flex items-center px-5 mt-3"},Me={class:"w-full flex flex-col space-y-2"},Ue={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ve(d,a,l,c,o,i){const m=$,r=n("TransitionChild"),f=n("DialogTitle"),h=n("XMarkIcon"),u=n("FormKit"),p=R,g=n("DialogPanel"),_=n("Dialog"),w=n("TransitionRoot");return C(),D("div",null,[e(m,{click:()=>{i.init()},text:"Edit",color:"success",icon:o.editIcon},null,8,["click","icon"]),e(w,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(_,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[De]),_:1}),t("div",Te,[t("div",$e,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",Ie,[e(f,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[Se,y(" Edit Stock Category ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...x)=>i.handleClick&&i.handleClick(...x))},[e(h,{class:"w-5 h-5"})])]),e(u,{type:"form",id:"editForm","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:s(({value:x})=>[t("div",Fe,[t("div",Me,[e(u,{type:"text",label:"Name",validation:"required",modelValue:l.data.name,"onUpdate:modelValue":a[1]||(a[1]=v=>l.data.name=v)},null,8,["modelValue"])])]),t("div",Ue,[e(p,{type:"button",click:()=>{i.clearForm()},text:"Clear form"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.saveIcon,text:"Save changes"},null,8,["loading","icon"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const je=b(Ce,[["render",Ve]]),Pe={components:{TransitionRoot:F,TransitionChild:M,Dialog:U,DialogPanel:V,DialogTitle:j,XMarkIcon:S,ExclamationTriangleIcon:L},data(){return{show:!1,deleteIcon:q,loading:!1,reason:"",cookie:T("token")}},props:{data:{type:Object,required:!0}},methods:{async voidStockCategory(d){this.loading=!0;const a=new I,{data:l,error:c,pending:o}=await a.voidStockCategory(`${this.cookie}`,{reason:this.reason,id:d});l.value&&(this.handleClick(),k().$toast.success("Stock category deleted successfully!"),this.loading=!1,this.reason="",this.$emit("update",!0)),c.value&&(console.error(c.value),k().$toast.error(B),this.loading=!1)},handleClick(){this.show=!this.show}}},Re=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Be={class:"fixed inset-0 overflow-y-auto"},Xe={class:"flex min-h-full items-center justify-center p-4 text-center"},Ne={class:"border-b px-3 py-3 flex items-center justify-between"},Ae={class:"mt-2 space-y-3 px-5"},Ee={class:"rounded px-2 py-2"},qe={class:"font-semibold text-red-500"},Ke={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Oe(d,a,l,c,o,i){const m=$,r=n("TransitionChild"),f=n("ExclamationTriangleIcon"),h=n("DialogTitle"),u=n("XMarkIcon"),p=n("FormKit"),g=R,_=n("DialogPanel"),w=n("Dialog"),x=n("TransitionRoot");return C(),D("div",null,[e(m,{click:i.handleClick,color:"error",text:"Delete",icon:o.deleteIcon},null,8,["click","icon"]),e(x,{appear:"",show:o.show,as:"template"},{default:s(()=>[e(w,{as:"div",class:"relative z-10"},{default:s(()=>[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>[Re]),_:1}),t("div",Be,[t("div",Xe,[e(r,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(_,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[t("div",Ne,[e(h,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:s(()=>[e(f,{class:"h-5 w-5 mr-2"}),y(" Confirm delete ")]),_:1}),t("button",{onClick:a[0]||(a[0]=(...v)=>i.handleClick&&i.handleClick(...v))},[e(u,{class:"w-5 h-5"})])]),e(p,{type:"form","submit-label":"Update",onSubmit:a[2]||(a[2]=v=>i.voidStockCategory(l.data.id)),actions:!1},{default:s(({value:v})=>[t("div",Ae,[t("div",Ee,[y(" Do you really want to delete "),t("span",qe,P(l.data.name),1),y("? Note that once this action is completed, it can not be undone ")]),e(p,{type:"textarea",label:"Reason",validation:"required",modelValue:o.reason,"onUpdate:modelValue":a[1]||(a[1]=O=>o.reason=O)},null,8,["modelValue"])]),t("div",Ke,[e(g,{click:()=>{i.handleClick()},type:"button",text:"Cancel"},null,8,["click"]),e(m,{loading:o.loading,type:"submit",click:()=>{},color:"error",icon:o.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ze=b(Pe,[["render",Oe]]),Ge={setup(){Z({title:`${ee.name.toUpperCase()} - Stock Categories`})},data(){return{header:"Stock Category",addIcon:N,viewIcon:E,deleteIcon:q,editIcon:X,search:"",loading:!1,cookie:T("token"),pages:[{name:"Home",link:"/home"},{name:"Stock Management",link:"#"}],headers:[{text:"name",value:"name",sortable:!0},{text:"date created",value:"created_date"},{text:"actions",value:"actions"}],categories:new Array}},created(){this.init()},methods:{async init(){this.loading=!0;const d=new I,{data:a,error:l,pending:c}=await d.getStockCategory(`${this.cookie}`);this.loading=c,a.value&&(this.categories=a.value.map(o=>({...o,created_date:J(o.created_date).format(G)})),this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}}},He={class:"px-5 py-5"},Le={class:"flex items-center justify-between py-5"},Je={class:"text-2xl font-semibold"},Qe={class:"flex items-center space-x-3"},We={class:"flex items-center justify-end py-5"},Ye={class:"py-2 flex items-center space-x-2"};function Ze(d,a,l,c,o,i){const m=z,r=me,f=W,h=be,u=je,p=ze,g=Y;return C(),D("div",He,[e(m,{pages:o.pages},null,8,["pages"]),t("div",Le,[t("h3",Je,P(o.header),1),t("div",Qe,[e(r,{onUpdate:i.init},null,8,["onUpdate"])])]),t("div",We,[e(f,{search:o.search},null,8,["search"])]),t("div",null,[e(g,{headers:o.headers,data:o.categories,"search-field":"name","search-value":o.search},{actions:s(({item:_})=>[t("div",Ye,[e(h,{data:_},null,8,["data"]),e(u,{data:_,onUpdate:i.init},null,8,["data","onUpdate"]),e(p,{data:_,onUpdate:i.init},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","search-value"])])])}const wt=b(Ge,[["render",Ze]]);export{wt as default};
