import{d as B,al as E,u as V,r as f,o as S,x as F,b as n,e as l,g as t,h as s,f as i,C as h,t as R,j as y,K as x,y as A,m as b,l as _,E as w,n as H,_ as M}from"./BXyMujmX.js";import{_ as q}from"./EhL4ITZ8.js";import{P as D}from"./CrZr7riT.js";import{u as U}from"./D1LnpVGw.js";import{u as I}from"./BrSykilB.js";import{r as k}from"./C8U9itSq.js";import{r as K}from"./CHOuZIuX.js";import"./9_0iIVXm.js";import"./B1ZrIgkL.js";const L={class:"px-5 py-5"},G={class:"relative min-h-screen"},O={key:0,class:"absolute inset-0 z-20 bg-white bg-opacity-70 flex items-center justify-center"},Z={class:"text-center"},J={class:"flex items-center justify-between py-5"},Q={key:0,class:"flex items-center"},W={key:1,class:"flex items-center"},X={key:2,class:"flex items-center"},Y={class:"ml-4"},ee={class:"text-2xl font-semibold"},te={key:3,class:"flex space-x-2"},se={key:1,class:"animate-pulse"},oe={key:2,class:"mt-10"},ae={class:"bg-white border border-red-200 rounded-lg p-6 shadow-sm"},re={class:"flex flex-col items-center justify-center py-10"},ne={key:3},le={class:"bg-white border border-gray-200 rounded p-6"},ie={class:"mt-2 space-y-3"},de={class:"border-t border-gray-100 pt-5 mt-6"},ce={class:"flex justify-end space-x-3"},me=["disabled"],we=B({__name:"[id]",setup(ue){I({title:`${D.name.toUpperCase()} - Test Panels`});const C=E(),d=V(),o=f(!1),$=K,{getSecureId:z,clearAndNavigate:m}=U(),r=f({id:"",name:"",short_name:"",preferred_name:"",description:"",test_types:[]}),P=[{name:"Home",link:"/home"},{name:"Test Catalog",link:"#"},{name:"Test Panels",link:"/test-catalog/test-panels"}],T=async()=>{o.value=!0;const c=z();if(!c){o.value=!1,d.$toast.error("No test panel specified"),C.push("/test-catalog/test-panels");return}const e={route:`${_.testPanels}/${c}`,method:"GET"};try{const{data:a,error:u}=await b(e);a.value&&Object.keys(a.value).length>0&&(r.value=a.value)}catch(a){console.error("Error fetching test panel:",a),d.$toast.error("Failed to load test panel data")}finally{o.value=!1}},N=async()=>{o.value=!0;const c={route:`${_.testPanels}/${r.value.id}`,method:"PUT",body:r.value};try{const{data:e,error:a}=await b(c);e.value&&(d.$toast.success("Test panel updated successfully!"),m("/test-catalog/test-panels")),a.value&&(console.error(a.value),d.$toast.error(w))}catch(e){console.error("Error updating test panel:",e),d.$toast.error(w)}finally{o.value=!1}};return S(()=>{T()}),(c,e)=>{const a=H,u=q,v=F("FormKit"),j=M;return n(),l("div",L,[t("div",G,[s(o)?(n(),l("div",O,[t("div",Z,[i(a,{size:"lg"}),e[4]||(e[4]=t("div",{class:"mt-4"},[t("label",{class:"font-medium text-gray-700"},"Loading test panel data, please wait...")],-1))])])):h("",!0),i(u,{pages:P}),t("div",J,[s(o)?(n(),l("div",Q,e[5]||(e[5]=[t("div",{class:"h-12 w-12 bg-gray-200 rounded-full animate-pulse mr-4"},null,-1),t("div",{class:"h-8 w-56 bg-gray-200 rounded animate-pulse"},null,-1)]))):s(r).name?(n(),l("div",X,[e[8]||(e[8]=t("div",{class:"text-sky-500 flex-shrink-0"},[t("svg",{class:"w-12 h-12",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},[t("path",{fill:"currentColor",d:"m22.7 2.14l-11.98.03v20H1.37v.76H22.7Zm-7.604 2.158h3.065l-.006 4.234h-3.072zm.125.163v3.908h2.789V4.461zm.119.129h2.55v3.6h-2.55Zm-.285 5.25l3.127.007l.007 4.309h-3.147zm.166.21v3.91h2.789v-3.91zm.119.14h2.55v3.6h-2.55zm-.305 5.563l3.188.007l-.04 4.325l-3.169-.014zm.186.218v3.91h2.789v-3.91zm.119.138h2.55v3.602h-2.55z"})])],-1)),t("div",Y,[t("h3",ee,R(s(r).name),1),e[7]||(e[7]=t("p",{class:"text-gray-500 text-sm"},"Edit Test Panel Details",-1))])])):(n(),l("div",W,e[6]||(e[6]=[t("div",{class:"text-red-500"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-10 h-10"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1),t("h3",{class:"text-2xl font-semibold ml-3 text-red-500"}," Test Panel Not Found ",-1)]))),s(r).name?(n(),l("div",te,[t("button",{onClick:e[0]||(e[0]=p=>s(m)("/test-catalog/test-panels")),class:"px-3 py-1 text-gray-600 border border-gray-300 rounded hover:bg-gray-100 flex items-center text-sm"},[i(s(k),{class:"w-4 h-4 mr-1"}),e[9]||(e[9]=y(" Back "))])])):h("",!0)]),s(o)?(n(),l("div",se,e[10]||(e[10]=[x('<div class="mt-4 space-y-6"><div class="grid grid-cols-2 gap-4"><div><div class="h-5 w-28 bg-gray-200 rounded mb-2"></div><div class="h-10 bg-gray-200 rounded w-full"></div></div></div><div class="w-full flex"><div class="flex-1"><div class="h-5 w-48 bg-gray-200 rounded mb-2"></div><div class="h-10 bg-gray-200 rounded w-full"></div></div></div><div class="mt-10 flex justify-end"><div class="h-10 w-36 bg-gray-200 rounded"></div></div></div>',1)]))):s(r).name?(n(),l("div",ne,[t("div",le,[i(v,{type:"form","submit-label":"Update",onSubmit:N,actions:!1,id:"submitForm"},{default:A(({value:p})=>[t("div",ie,[i(v,{type:"text",label:"Preferred Name",validation:"required",modelValue:s(r).preferred_name,"onUpdate:modelValue":e[2]||(e[2]=g=>s(r).preferred_name=g)},null,8,["modelValue"])]),t("div",de,[t("div",ce,[t("button",{type:"button",class:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50 transition",onClick:e[3]||(e[3]=g=>s(m)("/test-catalog/test-panels")),disabled:s(o)}," Cancel ",8,me),i(j,{type:"submit",click:()=>{},loading:s(o),color:"success",icon:s($),text:"Save Changes"},null,8,["loading","icon"])])])]),_:1})])])):(n(),l("div",oe,[t("div",ae,[t("div",re,[e[12]||(e[12]=x('<div class="text-red-500 mb-4"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-20 h-20"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"></path></svg></div><h2 class="text-2xl font-bold text-gray-800 mb-2"> Test Panel Not Found </h2><p class="text-gray-600 mb-8 text-center max-w-lg"> The test panel you are looking for could not be found or has been removed from the system. </p>',3)),t("button",{onClick:e[1]||(e[1]=p=>s(m)("/test-catalog/test-panels")),class:"px-4 py-2 bg-sky-500 flex items-center text-white rounded-md hover:bg-sky-600 transition shadow-sm"},[i(s(k),{class:"w-5 h-5 mr-2"}),e[11]||(e[11]=y(" Return to Test Panels List "))])])])]))])])}}});export{we as default};
