import{C as dt,A as ut,p as _t,a as mt,P as ht}from"./index.6b6307de.js";import{o as r,c as l,e as t,_ as S,h as m,q as G,j as p,t as c,d as a,i as d,T as W,n as g,l as v,w as E,v as F,p as X,a as O,s as rt,F as C,r as I,m as M,f as Y,u as pt,x as ft,y as gt}from"./entry.ede29211.js";import{d as K}from"./constants.ee9a0283.js";import{g as lt,h as Q,u as A,b as Z,e as tt,f as et,c as q}from"./fetch.7c05310f.js";import{r as vt}from"./EllipsisVerticalIcon.eb606b42.js";import{M as st,y as ot,h as nt,R as at}from"./menu.c3d21db7.js";import{r as yt}from"./DocumentTextIcon.dfadfb6f.js";import{r as bt}from"./CheckBadgeIcon.9b3198c3.js";import{_ as xt}from"./clinical_fe.ea056bd0.js";import{_ as U}from"./nuxt-link.cd4ac04e.js";import{_ as wt}from"./microscope.b2acec20.js";import{_ as $t}from"./hospital.6019fd17.js";import{r as ct}from"./DocumentTextIcon.2d129dd8.js";import{_ as kt}from"./virus.a5f01383.js";import{_ as Mt}from"./medicines.37af9596.js";import{_ as Ct}from"./bacteria.cb2fa4b6.js";import{_ as It}from"./emergency_post.3202cf3a.js";import{_ as zt}from"./cone_test_on_nets.c58fc0fe.js";import{_ as Vt}from"./blood_drop.78e33f6c.js";import{_ as At}from"./admissions.16313e9d.js";import{r as St}from"./PrinterIcon.41d0b58e.js";import{r as Tt}from"./WrenchScrewdriverIcon.425e0c17.js";import{P as jt}from"./package.6544c22a.js";import"./network.8dfa1f5e.js";import"./transition.a542e4ff.js";import"./hidden.43ef53b5.js";import"./XMarkIcon.e9883b5f.js";import"./PencilSquareIcon.8f17322d.js";import"./use-text-value.ab5a185c.js";function Dt(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z","clip-rule":"evenodd"}),t("path",{"fill-rule":"evenodd",d:"M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z","clip-rule":"evenodd"})])}dt.register(ut,_t,mt);const Bt={components:{Pie:ht},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}}};function Pt(o,n,i,u,e,s){const f=m("Pie");return r(),G(f,{data:e.data,options:e.options},null,8,["data","options"])}const Lt=S(Bt,[["render",Pt]]),Rt={components:{EllipsisVerticalIcon:vt,Menu:st,MenuItem:ot,MenuItems:nt,MenuButton:at,ChartPieIcon:Dt,DocumentTextIcon:yt},props:{data:{required:!0,type:Object}},data(){return{viewChart:!1,applyIcon:bt,from:"",to:""}},created(){this.formatDateRanges()},methods:{getColor(o){return lt(o)},proccessedAnalyticsData(){var o,n,i,u,e,s;return{labels:["Not Received","Pending","Started","Completed","Verified","Rejected"],datasets:[{backgroundColor:["#d97706","#dc2626","#06b6d4","#22c55e","#15803d"],data:[(o=this.data)==null?void 0:o.tests_by_status["not-received"],(n=this.data)==null?void 0:n.tests_by_status.pending,(i=this.data)==null?void 0:i.tests_by_status.started,(u=this.data)==null?void 0:u.tests_by_status.completed,(e=this.data)==null?void 0:e.tests_by_status.verified,(s=this.data)==null?void 0:s.tests_by_status.rejected]}]}},formatDateRanges(){var e,s;const n=Q().format(K),u=Q().subtract(30,"days").format(K);this.from=((e=this.data)==null?void 0:e.from)||u,this.to=((s=this.data)==null?void 0:s.to)||n},navigateFilterTests(o,n,i){this.$router.push(`/tests?from=${n}&to=${i}&status=${o}`)},getDepartment(){const{department:o}=A();return o=="Lab Reception"?"All":o}}},Ht={key:0,class:"border rounded col-span-1"},Et={class:"flex rounded-t items-center justify-between bg-gray-50 px-2 py-2 border-b"},Ft={class:"text-xl font-semibold"},qt={class:"text-base font-medium"},Nt={class:"px-1 py-1"},Gt={class:"flex items-center space-x-2 px-5 py-2"},Ot=t("img",{src:xt,alt:"clinical-fe-icon"},null,-1),Ut={class:"w-full px-5 py-2 space-y-2"},Jt={class:"flex items-center justify-between"},Kt={class:"flex items-center space-x-2"},Qt=t("h3",{class:"font-medium"},"Pending",-1),Wt={class:"flex items-center justify-between"},Xt={class:"flex items-center space-x-2"},Yt=t("h3",{class:"font-medium"},"Started",-1),Zt={class:"flex items-center justify-between"},te={class:"flex items-center space-x-2"},ee=t("h3",{class:"font-medium"},"Completed",-1),se={class:"flex items-center justify-between"},oe={class:"flex items-center space-x-2"},ne=t("h3",{class:"font-medium"},"Verified",-1),ae={class:"flex items-center justify-between"},ie={class:"flex items-center space-x-2"},re=t("h3",{class:"font-medium"},"Rejected",-1),le={key:0};function ce(o,n,i,u,e,s){var h,k,T,j,D,B,P,L,R,H;const f=m("EllipsisVerticalIcon"),_=m("MenuButton"),y=m("DocumentTextIcon"),w=m("ChartPieIcon"),$=m("MenuItem"),z=m("MenuItems"),V=m("Menu"),x=Lt;return i.data.tests_by_status?(r(),l("div",Ht,[t("div",null,[t("div",Et,[t("h3",Ft,[p(" Tests "),t("span",qt,"(Past 30 Days - "+c(s.getDepartment())+")",1)]),a(V,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:d(()=>[a(_,null,{default:d(()=>[a(f,{class:"w-6 h-6"})]),_:1}),a(W,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:d(()=>[a(z,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:d(()=>[t("div",Nt,[a($,null,{default:d(({active:b})=>[t("button",{onClick:n[0]||(n[0]=J=>e.viewChart=!e.viewChart),class:g([b?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[e.viewChart?(r(),G(y,{key:0,class:"w-5 h-5 mr-2"})):v("",!0),e.viewChart?v("",!0):(r(),G(w,{key:1,class:"w-5 h-5 mr-2"})),p(" "+c(e.viewChart?"View summary":"View as Pie Chart"),1)],2)]),_:1})])]),_:1})]),_:1})]),_:1})]),E(t("div",null,[t("div",Gt,[Ot,((h=i.data)==null?void 0:h.tests)!==null&&((k=i.data)==null?void 0:k.tests)!==void 0?(r(),l("h3",{key:0,class:"text-3xl hover:text-sky-500 transition duration-150 font-semibold hover:underline cursor-pointer",onClick:n[1]||(n[1]=b=>s.navigateFilterTests("",e.from,e.to))},c((T=i.data)==null?void 0:T.tests.toLocaleString()),1)):v("",!0)]),t("div",Ut,[t("div",Jt,[t("div",Kt,[t("div",{class:g([`bg-${s.getColor("pending")}-500`,"w-3 h-3 rounded-full"])},null,2),Qt]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:n[2]||(n[2]=b=>s.navigateFilterTests("pending",e.from,e.to))},c((j=i.data)!=null&&j.tests_by_status.pending?(D=i.data)==null?void 0:D.tests_by_status.pending:0),1)]),t("div",Wt,[t("div",Xt,[t("div",{class:g(["bg-sky-500","w-3 h-3 rounded-full"])}),Yt]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:n[3]||(n[3]=b=>s.navigateFilterTests("started",e.from,e.to))},c((B=i.data)==null?void 0:B.tests_by_status.started),1)]),t("div",Zt,[t("div",te,[t("div",{class:g([`bg-${s.getColor("completed")}-500`,"w-3 h-3 rounded-full"])},null,2),ee]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:n[4]||(n[4]=b=>s.navigateFilterTests("completed",e.from,e.to))},c((P=i.data)==null?void 0:P.tests_by_status.completed),1)]),t("div",se,[t("div",oe,[t("div",{class:g([`bg-${s.getColor("verified")}-500`,"w-3 h-3 rounded-full"])},null,2),ne]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:n[5]||(n[5]=b=>s.navigateFilterTests("verified",e.from,e.to))},c((L=i.data)==null?void 0:L.tests_by_status.verified),1)]),t("div",ae,[t("div",ie,[t("div",{class:g([`bg-${s.getColor("rejected")}-500`,"w-3 h-3 rounded-full"])},null,2),re]),t("a",{class:"hover:text-sky-500 transition duration-150 hover:underline cursor-pointer",onClick:n[6]||(n[6]=b=>s.navigateFilterTests("rejected",e.from,e.to))},c((R=i.data)==null?void 0:R.tests_by_status.rejected),1)])])],512),[[F,!e.viewChart]])]),((H=i.data)==null?void 0:H.tests_by_status.data)!==0&&e.viewChart?(r(),l("div",le,[a(x,{chartData:s.proccessedAnalyticsData()},null,8,["chartData"])])):v("",!0)])):v("",!0)}const de=S(Rt,[["render",ce]]),ue=""+new URL("ambulatory_clinic.16bfb86e.svg",import.meta.url).href,_e={class:"border rounded"},me=t("div",{class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},[t("h3",null,[p("Lab Configuration "),t("span",{class:"text-base font-medium"},"(All)")])],-1),he={class:"px-3 py-3 space-y-4"},pe={class:"flex items-center space-x-5"},fe=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:wt,class:"w-8 h-8"})],-1),ge={class:"text-3xl font-bold"},ve={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},ye={class:"flex items-center space-x-5"},be=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:$t,class:"w-8 h-8"})],-1),xe={class:"text-3xl font-bold"},we={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},$e={class:"flex items-center space-x-5"},ke=t("div",{class:"px-2 py-2 bg-gray-100 rounded"},[t("img",{src:ue,class:"w-8 h-8"})],-1),Me={class:"text-3xl font-bold"},Ce={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Ie=X({__name:"lab-configuration",props:{data:{required:!0,type:Object}},setup(o){const n=o;return(i,u)=>{var s,f,_;const e=U;return r(),l("div",_e,[t("div",null,[me,t("div",he,[t("div",pe,[fe,t("p",ge,[p(c((s=n.data)==null?void 0:s.instruments),1),t("span",ve,[a(e,{to:"/lab-configuration/instruments"},{default:d(()=>[p("instruments")]),_:1})])])]),t("div",ye,[be,t("p",xe,[p(c((f=n.data)==null?void 0:f.facilities),1),t("span",we,[a(e,{to:"/lab-configuration/facilities"},{default:d(()=>[p("facilities")]),_:1})])])]),t("div",$e,[ke,t("p",Me,[p(c((_=n.data)==null?void 0:_.wards),1),t("span",Ce,[a(e,{to:"/lab-configuration/facility-wards"},{default:d(()=>[p("wards")]),_:1})])])])])])])}}});function ze(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}),t("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function Ve(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function Ae(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})])}function it(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"})])}function Se(o,n){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM6 8a2 2 0 11-4 0 2 2 0 014 0zM1.49 15.326a.78.78 0 01-.358-.442 3 3 0 014.308-3.516 6.484 6.484 0 00-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 01-2.07-.655zM16.44 15.98a4.97 4.97 0 002.07-.654.78.78 0 00.357-.442 3 3 0 00-4.308-3.517 6.484 6.484 0 011.907 3.96 2.32 2.32 0 01-.026.654zM18 8a2 2 0 11-4 0 2 2 0 014 0zM5.304 16.19a.844.844 0 01-.277-.71 5 5 0 019.947 0 .843.843 0 01-.277.71A6.975 6.975 0 0110 18a6.974 6.974 0 01-4.696-1.81z"})])}const Te={components:{EllipsisVerticalIcon:it,Menu:st,MenuItem:ot,MenuItems:nt,MenuButton:at,UserGroupIcon:Se,DocumentTextIcon:ct},props:{data:{required:!0,type:Object}},data(){return{cookie:O("token")}},methods:{getPercentage(o,n){return n==0?0:Math.round(o/n*100)}}},je=""+new URL("group.3c310866.svg",import.meta.url).href,De={class:"border rounded"},Be={class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},Pe=t("h3",null,[p("Patients "),t("span",{class:"text-base font-medium"},"(All)")],-1),Le={class:"py-1 border-y"},Re={class:""},He={class:"flex items-center space-x-2 px-2 py-2"},Ee=t("img",{src:je},null,-1),Fe={key:0,class:"px-5"},qe=t("h3",{class:"mb-2 font-medium"},"By Gender",-1),Ne={class:"w-full flex items-center"},Ge={class:"mt-2"},Oe={class:"flex items-center space-x-2"},Ue=t("div",{class:"w-3 h-3 bg-sky-500 rounded-full"},null,-1),Je={class:"flex items-center space-x-2"},Ke=t("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1);function Qe(o,n,i,u,e,s){var h,k,T,j,D,B,P,L,R,H,b,J;const f=m("EllipsisVerticalIcon"),_=m("MenuButton"),y=m("UserGroupIcon"),w=U,$=m("MenuItem"),z=m("DocumentTextIcon"),V=m("MenuItems"),x=m("Menu");return r(),l("div",De,[t("div",null,[t("div",Be,[Pe,a(x,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:d(()=>[a(_,null,{default:d(()=>[a(f,{class:"w-5 h-5"})]),_:1}),a(W,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:d(()=>[a(V,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:d(()=>[t("div",Le,[a($,null,{default:d(({active:N})=>[a(w,{to:"/patients"},{default:d(()=>[t("button",{class:g([N?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[a(y,{class:"w-5 h-5 mr-2"}),p(" View Patients ")],2)]),_:2},1024)]),_:1}),a($,null,{default:d(({active:N})=>[a(w,{to:"/reports/daily/patient-report"},{default:d(()=>[t("button",{class:g([N?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[a(z,{class:"w-5 h-5 mr-2"}),p(" Generate Reports ")],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),t("div",Re,[t("div",He,[Ee,((h=i.data)==null?void 0:h.clients)!==null&&((k=i.data)==null?void 0:k.clients)!==void 0?(r(),l("h3",{key:0,onClick:n[0]||(n[0]=N=>o.$router.push("/patients")),class:"text-2xl font-semibold hover:text-sky-500 cursor-pointer hover:underline transition duration-150"},c((T=i.data)==null?void 0:T.clients.toLocaleString()),1)):v("",!0)]),((j=i.data)==null?void 0:j.clients)>0?(r(),l("div",Fe,[qe,t("div",Ne,[t("div",{style:rt({width:s.getPercentage((D=i.data)==null?void 0:D.by_sex.M,(B=i.data)==null?void 0:B.clients)+"%"}),class:"h-4 bg-sky-500 rounded-tl-full rounded-bl-full"},null,4),t("div",{style:rt({width:s.getPercentage((P=i.data)==null?void 0:P.by_sex.F,(L=i.data)==null?void 0:L.clients)+"%"}),class:"h-4 bg-green-500 rounded-br-full rounded-tr-full"},null,4)]),t("div",Ge,[t("div",Oe,[Ue,t("p",null,c(s.getPercentage((R=i.data)==null?void 0:R.by_sex.M,(H=i.data)==null?void 0:H.clients))+"% Males ",1)]),t("div",Je,[Ke,t("p",null,c(s.getPercentage((b=i.data)==null?void 0:b.by_sex.F,(J=i.data)==null?void 0:J.clients))+"% Females ",1)])])])):v("",!0)])])])}const We=S(Te,[["render",Qe]]),Xe={components:{EllipsisVerticalIcon:it},data(){return{authStore:A(),cookie:O("token"),tests:new Array,loading:!1}},created(){this.init()},methods:{async init(){this.loading=!0;const o=this.authStore.user.departments.find(_=>_.name===this.authStore.department),n=o?o.id:null,i=Z(this.authStore.locations,this.authStore.selectedLocation),u={route:`${tt.tests}?minimal=true&page=1&per_page=9&status=&search=&department_id=${n}&lab_location=${i}&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:e,error:s,pending:f}=await et(u);this.loading=f,e.value&&(this.tests=e.value.data,this.loading=!1),s.value&&(console.error("recent-tests: ",s.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getColor(o){return lt(o)},getDepartment(){const{department:o}=A();return o=="Lab Reception"?"All":o}},watch:{authStore:{handler(o,n){this.init()},deep:!0}}},Ye={class:"col-span-1 rounded border relative"},Ze={key:0},ts={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},es={class:"text-lg font-semibold"},ss={class:"text-base font-medium"},os={class:"w-full"},ns={class:"px-2 py-2 capitalize flex items-center"},as={class:"px-2 py-2"},is={class:"px-2 py-2 capitalize"},rs={key:1},ls=t("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[t("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),t("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),cs={class:"mt-2 space-y-2 px-2"},ds=t("div",{class:"h-5 w-5 rounded-full bg-gray-100 animate-pulse"},null,-1),us=t("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),_s=[ds,us],ms=t("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function hs(o,n,i,u,e,s){const f=Y;return r(),l("div",Ye,[e.loading?v("",!0):(r(),l("div",Ze,[t("div",ts,[t("h3",es,[p(" Recent Tests "),t("span",ss,"("+c(s.getDepartment())+")",1)])]),t("div",null,[t("table",os,[t("tbody",null,[(r(!0),l(C,null,I(e.tests,(_,y)=>(r(),l("tr",{class:g(["border-b border-dotted",y%2!==0?"bg-gray-50":""]),key:y},[t("td",ns,[t("div",{class:g([`bg-${s.getColor(_.status)}-500`,"w-3 h-3 rounded-full mr-2"])},null,2),p(" "+c(`${("capitalizeStr"in o?o.capitalizeStr:M(q))(_.client.first_name.toLowerCase())}
                    ${_.client.middle_name!==null?_.client.middle_name:""} ${("capitalizeStr"in o?o.capitalizeStr:M(q))(_.client.last_name.toLowerCase())}`),1)]),t("td",as,c(_.test_type_name),1),t("td",is,c(_.status.split("-").join(" ")),1)],2))),128))])]),a(f,{click:()=>s.viewTests(),text:"View tests →",color:"primary",class:"m-2 bottom-0"},null,8,["click"])])])),e.loading?(r(),l("div",rs,[ls,t("div",cs,[(r(),l(C,null,I(10,_=>t("div",{class:"flex items-center space-x-2",key:_},_s)),64))]),ms])):v("",!0)])}const ps=S(Xe,[["render",hs]]),fs={components:{EllipsisVerticalIcon:it,ChartBarIcon:Ae,Menu:st,MenuItem:ot,MenuItems:nt,MenuButton:at,DocumentTextIcon:ct,CalendarDaysIcon:ze,CalendarIcon:Ve},data(){return{moment:Q,cookie:O("token"),clients:new Array,loading:!0}},created(){this.getClients()},methods:{async getClients(){const o=A(),n=Z(o.locations,o.selectedLocation),i={route:`${tt.clients}?page=1&per_page=9&status=&search=&start_date=&end_date=&lab_location=${n}&dashboard=true`,method:"GET",token:`${this.cookie}`},{data:u,error:e,pending:s}=await et(i);this.loading=s,u.value&&(this.clients=u.value.clients,this.loading=!1),e.value&&(console.error(e.value),this.loading=!1)},async newOrder(o){this.$router.push(`/tests/new-test?patient_id=${o.client_id}`)}}},gs={class:"col-span-1 rounded border relative"},vs={key:0},ys={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},bs=t("h3",{class:"text-lg font-semibold"},[p("Recent patients "),t("span",{class:"text-base font-medium"},"(All)")],-1),xs={class:"py-1 border-y"},ws={class:""},$s={class:"w-full"},ks={class:"px-2 py-2 capitalize flex items-center"},Ms={class:"px-2 py-2"},Cs={class:"px-2 py-2"},Is={key:1},zs=t("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[t("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),t("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),Vs={class:"mt-2 space-y-2 px-2"},As=t("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),Ss=[As],Ts=t("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function js(o,n,i,u,e,s){const f=m("EllipsisVerticalIcon"),_=m("MenuButton"),y=m("DocumentTextIcon"),w=U,$=m("MenuItem"),z=m("MenuItems"),V=m("Menu"),x=Y;return r(),l("div",gs,[e.loading?v("",!0):(r(),l("div",vs,[t("div",ys,[bs,t("div",null,[a(V,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:d(()=>[a(_,null,{default:d(()=>[a(f,{class:"w-5 h-5"})]),_:1}),a(W,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:d(()=>[a(z,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:d(()=>[t("div",xs,[a($,null,{default:d(({active:h})=>[a(w,{to:"/reports/daily/patient-report"},{default:d(()=>[t("button",{class:g([h?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[a(y,{class:"w-5 h-5 mr-2"}),p(" "+c("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),t("div",ws,[t("table",$s,[t("tbody",null,[(r(!0),l(C,null,I(e.clients,(h,k)=>(r(),l("tr",{class:g(["border-b border-dotted",k%2!==0?"bg-gray-50":""]),key:k},[t("td",ks,c(`${("capitalizeStr"in o?o.capitalizeStr:M(q))(h.first_name.toLowerCase())} ${h.middle_name!==null?("capitalizeStr"in o?o.capitalizeStr:M(q))(h.middle_name.toLowerCase()):""} ${("capitalizeStr"in o?o.capitalizeStr:M(q))(h.last_name.toLowerCase())}`),1),t("td",Ms,c(e.moment(h.created_at).format("dateFormat"in o?o.dateFormat:M(K))),1),t("td",Cs,[a(x,{text:"New order →",color:"primary",click:()=>{s.newOrder(h)}},null,8,["click"])])],2))),128))])])])])),e.loading?(r(),l("div",Is,[zs,t("div",Vs,[(r(),l(C,null,I(10,h=>t("div",{class:"flex items-center space-x-2",key:h},Ss)),64))]),Ts])):v("",!0)])}const Ds=S(fs,[["render",js]]),Bs={class:"col-span-1 border rounded"},Ps=t("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"},[p(" Test Catalog "),t("span",{class:"text-base font-medium"},"(All)")],-1),Ls={class:"px-2 py-2 grid grid-cols-3 gap-4"},Rs={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},Hs=t("img",{src:kt,class:"w-10 h-10 mb-5s",alt:"virus-svg"},null,-1),Es={class:"text-2xl font-semibold mt-2"},Fs=t("p",null,"Organisms",-1),qs={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},Ns=t("img",{src:Mt,class:"w-10 h-10 mb-5s",alt:"medicines-svg"},null,-1),Gs={class:"text-2xl font-semibold mt-2"},Os=t("p",null,"Drugs",-1),Us={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},Js=t("img",{src:Ct,class:"w-10 h-10 mb-5s",alt:"bacteria-svg"},null,-1),Ks={class:"text-2xl font-semibold mt-2"},Qs=t("p",null,"Diseases",-1),Ws={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},Xs=t("img",{src:It,class:"w-10 h-10 mb-5s",alt:"virus-svg"},null,-1),Ys={class:"text-2xl font-semibold mt-2"},Zs=t("p",null,"Test Panels",-1),to={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},eo=t("img",{src:zt,class:"w-10 h-10 mb-5s",alt:"cone-test-on-nets-svg"},null,-1),so={class:"text-2xl font-semibold mt-2"},oo=t("p",null,"Test Types",-1),no={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},ao=t("img",{src:Vt,class:"w-10 h-10 mb-5s",alt:"blood-drop-svg"},null,-1),io={class:"text-2xl font-semibold mt-2"},ro=t("p",null,"Specimen Types",-1),lo={class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},co=t("img",{src:At,class:"w-10 h-10 mb-5s",alt:"admissions-svg"},null,-1),uo={class:"text-2xl font-semibold mt-2"},_o=t("p",null,"Laboratory Sections",-1),mo=X({__name:"test-catalog",props:{data:{required:!1,type:Object}},setup(o){const n=o;return(i,u)=>{const e=U;return r(),l("div",Bs,[Ps,t("div",Ls,[a(e,{to:"/test-catalog/organisms"},{default:d(()=>{var s;return[t("div",Rs,[Hs,t("h3",Es,c((s=n.data)==null?void 0:s.organisms),1),Fs])]}),_:1}),a(e,{to:"/test-catalog/drugs"},{default:d(()=>{var s;return[t("div",qs,[Ns,t("h3",Gs,c((s=n.data)==null?void 0:s.drugs),1),Os])]}),_:1}),a(e,{to:"/test-catalog/diseases"},{default:d(()=>{var s;return[t("div",Us,[Js,t("h3",Ks,c((s=n.data)==null?void 0:s.diseases),1),Qs])]}),_:1}),a(e,{to:"/test-catalog/test-panels"},{default:d(()=>{var s;return[t("div",Ws,[Xs,t("h3",Ys,c((s=n.data)==null?void 0:s.test_panels),1),Zs])]}),_:1}),a(e,{to:"/test-catalog/test-types"},{default:d(()=>{var s;return[t("div",to,[eo,t("h3",so,c((s=n.data)==null?void 0:s.test_types),1),oo])]}),_:1}),a(e,{to:"/test-catalog/specimen-types"},{default:d(()=>{var s;return[t("div",no,[ao,t("h3",io,c((s=n.data)==null?void 0:s.specimen_types),1),ro])]}),_:1}),a(e,{to:"/test-catalog/lab-sections"},{default:d(()=>{var s;return[t("div",lo,[co,t("h3",uo,c((s=n.data)==null?void 0:s.lab_sections),1),_o])]}),_:1})])])}}}),ho={class:"w-full border rounded"},po=t("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"},[p(" Available Printers "),t("span",{class:"text-base font-medium"},"(All)")],-1),fo={class:"px-3 py-3 space-y-2"},go={class:"p-3 bg-gray-100 rounded border"},vo={class:"text-lg font-semibold text-black"},yo={class:"text-base text-gray-500"},bo=X({__name:"available-printers",props:{data:{required:!0,type:Object}},setup(o){return(n,i)=>{var e;const u=Y;return r(),l("div",ho,[po,t("div",fo,[(r(!0),l(C,null,I((e=o.data)==null?void 0:e.printers,s=>(r(),l("div",{class:"flex items-center space-x-5 bg-white border-b pb-2 border-dotted",key:s.name},[t("div",go,[a(M(St),{class:"w-7 h-7"})]),t("div",null,[t("h3",vo,c(s.name),1),t("p",yo,c(s.description),1)])]))),128)),a(u,{click:()=>n.$router.push("configuration??tab=printers"),text:"Printer Configuration",icon:M(Tt),color:"primary"},null,8,["click","icon"])])])}}}),xo={setup(){pt({title:`${jt.name.toUpperCase()} - Home`});const o=A(),n=ft([{name:"superadmin"},{name:"superuser"}]);return{authStore:o,accessRoles:n}},data(){return{loading:!0,data:{}}},created(){this.init()},methods:{async init(){this.loading=!0;const o=O("token"),n=A(),i=Z(n.locations,n.selectedLocation),u={route:`${tt.analytics}/home?department=${n.department}&lab_location=${i}`,method:"GET",token:`${o.value}`},{data:e,error:s}=await et(u);e.value&&(this.data=e.value.data,this.loading=!1),s.value&&(console.error(s.value),this.loading=!1)},showRoute(o){return this.authStore.user.roles.some(i=>o.some(u=>i.role_name.toLowerCase()===u.name.toLowerCase()))}},watch:{authStore:{handler(o,n){this.init()},deep:!0}}},wo={class:"px-5 py-5"},$o={class:"grid grid-cols-3 gap-4"},ko={class:"w-full grid grid-cols-3 gap-4"},Mo=gt('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-4"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div>',2),Co=t("div",{class:"flex items-center space-x-3 px-2 pb-2"},[t("div",{class:"h-5 w-5 bg-gray-100 rounded-full animate-pulse"}),t("div",{class:"h-8 w-8 bg-gray-100 rounded animate-pulse"}),t("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),Io=[Co],zo={class:"grid grid-cols-2 gap-4 py-5"},Vo={class:"cols-span-1 border rounded"},Ao=t("div",{class:"w-full h-10 bg-gray-100 transition duration-150 animate-pulse"},null,-1),So={class:"w-full grid grid-cols-3 gap-5 py-2 px-2"},To={class:"col-span-1 flex flex-col space-y-3"};function jo(o,n,i,u,e,s){const f=de,_=Ie,y=We,w=ps,$=Ds,z=mo,V=bo;return r(),l("div",wo,[E(t("div",$o,[a(f,{data:e.data},null,8,["data"]),a(_,{data:e.data},null,8,["data"]),a(y,{data:e.data},null,8,["data"])],512),[[F,!e.loading]]),E(t("div",ko,[(r(),l(C,null,I(3,x=>t("div",{class:"col-span-1 border rounded",key:x},[Mo,(r(),l(C,null,I(3,h=>t("div",{key:h},Io)),64))])),64))],512),[[F,e.loading]]),t("div",zo,[a(w),a($),s.showRoute(u.accessRoles)?E((r(),G(z,{key:0,data:e.data},null,8,["data"])),[[F,!e.loading]]):v("",!0),E(t("div",Vo,[Ao,t("div",So,[(r(),l(C,null,I(7,x=>t("div",{class:"col-span-1 w-auto h-36 bg-gray-100 transition-all animate-pulse rounded",key:x})),64))])],512),[[F,e.loading]]),t("div",To,[a(V,{data:e.data},null,8,["data"])])])])}const dn=S(xo,[["render",jo]]);export{dn as default};
