import{_ as Z}from"./Breadcrumb.vue.3bde75e9.js";import{_ as $}from"./Loader.0e328f2b.js";import{_ as E}from"./Dropdown.097974d8.js";import{a as j,_ as U,g as h,o as _,c as f,d as n,h as b,e,i as L,f as q,u as J,b as D,t as r,k as R,l as T,F as A,r as I,q as N}from"./entry.2f1e42b9.js";import{h as B,e as C,f as S,r as F,u as Q,j as Y}from"./fetch.f66c8189.js";import{r as O}from"./XMarkIcon.a6ae467b.js";import{r as ee,a as te}from"./PencilSquareIcon.6c44b9c5.js";import{r as M}from"./ArrowDownTrayIcon.9860a2ae.js";import{S as G,h as X,U as H,G as K,V as W}from"./transition.0eb804de.js";import{_ as se}from"./bacteria.a9851236.js";import{_ as oe}from"./medicines.b1ecc528.js";import{e as P,d as z,i as ie}from"./constants.9f05ed5b.js";import{P as le}from"./package.bb5fb76c.js";import{r as ne}from"./CheckIcon.62f78616.js";import{r as re}from"./ArrowUpTrayIcon.a86673a2.js";import{r as ae}from"./TrashIcon.fe5ec944.js";import"./nuxt-link.12fc21ba.js";import"./HomeIcon.04b2f4b8.js";import"./listbox.73385f84.js";import"./hidden.f2d50dc5.js";import"./use-text-value.3a939a03.js";import"./CheckCircleIcon.8aac4754.js";import"./MagnifyingGlassIcon.a68a94aa.js";import"./PrinterIcon.d705e3fe.js";const de={components:{TransitionRoot:G,TransitionChild:X,Dialog:H,DialogPanel:K,DialogTitle:W,XMarkIcon:O},data(){return{viewIcon:ee,show:!1,editIcon:te,saveIcon:M,moment:B,cookie:j("token"),rawOrganisms:new Array,organisms:new Array,organismsSelected:new Array,selectedResult:{name:"select result"}}},props:{data:{required:!0,type:Array},result:{required:!0,type:Object}},created(){this.init()},methods:{init(){var o,s,i;((o=this.result)==null?void 0:o.value)!==null&&(this.selectedResult={name:(s=this.result)!=null&&s.value?(i=this.result)==null?void 0:i.value:"select result"})},getUpdatedValue(o){o.name.toLowerCase()=="growth"&&this.loadOrganisms()},async loadOrganisms(){this.handleClick();const o={route:C.organisms,method:"GET",token:`${this.cookie}`},{data:s,error:i}=await S(o);s.value&&(this.rawOrganisms=s.value,s.value.map(a=>{this.organisms.push(a.name)})),i.value&&console.error(i.value)},handleClick(){this.show=!this.show},apply(){let o=[];this.rawOrganisms.forEach(s=>{this.organismsSelected.forEach(i=>{s.name===i&&o.push(s)})}),this.$emit("apply",o),this.organismsSelected=[],this.handleClick()}},watch:{selectedResult(o,s){this.data.map(i=>{i.value===o.name&&this.$emit("update",i)})}}},ce=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ue={class:"fixed inset-0 overflow-y-auto"},pe={class:"flex min-h-full items-center justify-center p-4 text-center"},me={class:"border-b px-3 py-3 flex items-center justify-between"},_e=e("img",{src:se,class:"w-8 h-8 mr-2"},null,-1),he={class:"space-y-3 px-5 py-5 pb-20"},fe={class:"w-full flex flex-col space-y-2"},be=e("label",{class:"font-medium"},"Organisms",-1),ye={class:"flex justify-end"};function ge(o,s,i,a,t,l){const u=E,c=h("TransitionChild"),p=h("DialogTitle"),w=h("XMarkIcon"),y=h("multi-select"),g=q,k=h("DialogPanel"),x=h("Dialog"),m=h("TransitionRoot");return _(),f("div",null,[n(u,{items:i.data.map(d=>({name:d.value})),modelValue:t.selectedResult,"onUpdate:modelValue":[s[0]||(s[0]=d=>t.selectedResult=d),l.getUpdatedValue]},null,8,["items","modelValue","onUpdate:modelValue"]),n(m,{appear:"",show:t.show,as:"template"},{default:b(()=>[n(x,{as:"div",class:"relative z-10"},{default:b(()=>[n(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[ce]),_:1}),e("div",ue,[e("div",pe,[n(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:b(()=>[n(k,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:b(()=>[e("div",me,[n(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:b(()=>[_e,L(" Select organisms ")]),_:1}),e("button",{onClick:s[1]||(s[1]=(...d)=>l.handleClick&&l.handleClick(...d))},[n(w,{class:"w-5 h-5"})])]),e("div",he,[e("div",fe,[be,n(y,{style:{"--ms-max-height":"none !important"},modelValue:t.organismsSelected,"onUpdate:modelValue":s[2]||(s[2]=d=>t.organismsSelected=d),options:t.organisms,mode:"tags",required:"",clear:"",searchable:"",class:"focus:ring-none focus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",ye,[n(g,{click:l.apply,icon:t.saveIcon,text:"Apply",color:"success"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ve=U(de,[["render",ge]]),xe={components:{TransitionChild:X,TransitionRoot:G,Dialog:H,DialogPanel:K,DialogTitle:W,XMarkIcon:O},data(){return{addIcon:F,saveIcon:M,open:!1,loading:!1,cookie:j("token"),drugs:new Array,selectedDrugs:new Array,rawDrugs:new Array}},props:{index:{required:!0,type:Number}},methods:{async init(){this.loading=!1;const o={route:C.drugs,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:a}=await S(o);this.loading=a,s.value&&(this.handleClick(),this.rawDrugs=s.value,s.value.map(t=>{this.drugs.push(t.name)})),i.value&&console.error(i.value)},updatedDrugs(o){this.selectedDrugs=o},pushDrugs(o){let s=new Array;this.rawDrugs.map(i=>{o.map(a=>{i.name.toLowerCase()===a.toLowerCase()&&s.push(i)})}),this.$emit("update",{drugs:s,index:this.index}),this.handleClick()},handleClick(){this.open=!this.open}}},we=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),ke={class:"fixed inset-0 overflow-y-auto"},Ce={class:"flex min-h-full items-center justify-center p-4 text-center"},Se={class:"border-b px-3 py-3 flex items-center justify-between"},De=e("img",{src:oe,class:"w-8 h-8 mr-2"},null,-1),Re={class:"ma-5 px-4 py-4"},Te={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function Ae(o,s,i,a,t,l){const u=q,c=h("TransitionChild"),p=h("DialogTitle"),w=h("XMarkIcon"),y=h("multi-select"),g=h("DialogPanel"),k=h("Dialog"),x=h("TransitionRoot");return _(),f("div",null,[e("div",null,[n(u,{click:l.init,text:"Add drug",color:"primary",icon:t.addIcon},null,8,["click","icon"])]),n(x,{appear:"",show:t.open,as:"template"},{default:b(()=>[n(k,{as:"div",onClose:l.handleClick,class:"relative z-10"},{default:b(()=>[n(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:b(()=>[we]),_:1}),e("div",ke,[e("div",Ce,[n(c,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:b(()=>[n(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:b(()=>[e("div",Se,[n(p,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:b(()=>[De,L(" Add drug ")]),_:1}),e("button",{onClick:s[0]||(s[0]=(...m)=>l.handleClick&&l.handleClick(...m))},[n(w,{class:"w-5 h-5"})])]),e("div",null,[e("div",Re,[n(y,{modelValue:t.selectedDrugs,"onUpdate:modelValue":s[1]||(s[1]=m=>t.selectedDrugs=m),label:"Select drug(s)",options:t.drugs,mode:"tags",clear:"",searchable:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])]),e("div",Te,[n(u,{click:()=>{l.pushDrugs(t.selectedDrugs)},type:"submit",color:"success",icon:t.saveIcon,text:"Save chages"},null,8,["click","icon"])])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Ie=U(xe,[["render",Ae]]),Ve={setup(){J({title:`${le.name.toUpperCase()} - Enter Culture & Sensitivity Test Results`})},data(){return{cookie:j("token"),authStore:Q(),data:null,header:"Enter Culture & Sensitivity Results",loading:!1,closeIcon:O,addIcon:F,moment:B,pages:[{name:"Home",link:"/home"},{name:"Tests",link:"/tests"}],remarks:"",remark:"",saveIcon:ne,updateIcon:re,trashIcon:ae,selectedDiameter:{name:"select result"},details:{client:{id:0,first_name:"",middle_name:"",last_name:"",sex:"",date_of_birth:"",birth_date_estimated:!1},order_status:"",status:"",requested_by:"",culture_observation:new Array,status_trail:new Array,suscept_test_result:new Array},organisms:new Array,drugsValues:{id:0,name:"",drugs:new Array},suspceptibilityResult:new Array,updating:!1,saving:!1,deleting:!1,results:{},testId:"",accessionNo:"",fetching:!1}},created(){this.accessionNo=`${this.$route.query.accession_number}`,this.testId=`${this.$route.query.test_id}`,this.init()},methods:{async init(){var t,l;this.fetching=!0;const o={route:`${C.tests}/${this.testId}`,method:"GET",token:`${this.cookie}`},{data:s,error:i,pending:a}=await S(o);this.fetching=a,s.value&&(this.details=s.value,this.fetching=!1,this.suspceptibilityResult=s.value.suscept_test_result.map(u=>({id:u.organism_id,name:u.name,drugs:u.drugs.map(c=>({name:c.name,drug_id:c.drug_id,zone:{name:c.zone===null?"select result":c.zone},interpretation:{name:c.interpretation===""?"select result":c.interpretation}}))})),this.remark=((t=s.value.result_remarks)==null?void 0:t.value)??((l=s.value.result_remarks)==null?void 0:l.value)),i.value&&(this.fetching=!1,console.error("error fetcing test details: ",i.value))},async loadOrganisms(o){o.forEach(async s=>{const i={route:`${C.organisms}/${s.id}`,method:"GET",token:`${this.cookie}`},{data:a,error:t}=await S(i);if(a.value){this.organisms.push(a.value);let l={id:null,name:null,drugs:[]};this.organisms.forEach(u=>{l.id=u.id,l.name=u.name;const c=u.drugs.map(p=>({name:p.name,drug_id:p.id,zone:{name:"select result"},interpretation:{name:"select result"}}));l.drugs=l.drugs.concat(c)}),this.suspceptibilityResult.push(l)}t.value&&console.error(t.value)})},diameters(){let o=new Array;for(let s=0;s<=200;s++)o.push({name:`${s}`});return o},async submitObservation(){this.loading=!0;const o={route:C.cultureObservations,method:"POST",token:`${this.cookie}`,body:{test_id:this.testId,description:this.remarks}},{data:s,error:i,pending:a}=await S(o);this.loading=a,s.value&&(this.remarks="",this.loading=!1,this.init(),this.suspceptibilityResult=new Array),i.value&&(this.loading=!1,console.error(i.value))},async updateResults(o){this.updating=!0,this.suspceptibilityResult.filter(i=>o.name.toLowerCase()===i.name.toLowerCase()).map(async i=>{const a=i.drugs.map(p=>{var w,y,g,k,x;return{drug_id:p.drug_id,zone:((w=p.zone)==null?void 0:w.name)!==null&&parseInt(String((y=p.zone)==null?void 0:y.name)==="select result"?"":String((g=p.zone)==null?void 0:g.name)),interpretation:((k=p.interpretation)==null?void 0:k.name)==="select result"?"":(x=p.interpretation)==null?void 0:x.name}}),t={route:C.drugSusceptibility,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:i.id,drugs:a.filter(p=>!Number.isNaN(p.zone)),status:"completed"}},{data:l,error:u,pending:c}=await S(t);this.updating=c,l.value&&(this.updating=!1,D().$toast.success("Suspceptibility test results updated successfully!")),u.value&&(console.error(u.value),this.updating=!1,D().$toast.error(P))})},async deleteSusceptivityResult(o,s){this.deleting=!0;const i={route:`${C.drugSusceptibility}/delete`,method:"PUT",token:`${this.cookie}`,body:{test_id:this.details.id,organism_id:o}},{data:a,error:t,pending:l}=await S(i);this.deleting=l,a.value&&(this.deleting=!1,this.suspceptibilityResult.splice(s,1),D().$toast.success("Suspceptibility test results deleted successfully!")),t.value&&(console.error(t.value),this.deleting=!1,D().$toast.success("An error has occurred, please try again!"))},invalidation(){D().$toast.warning("Could not save null suspceptibility results, please enter values!"),this.updating=!1},updateResult(o){this.results=o},async saveResults(){var t,l;this.saving=!0;const o={route:`${C.updateResults}`,method:"POST",token:`${this.cookie}`,body:{test_id:this.details.id,test_indicators:new Array({indicator:(t=this.results)==null?void 0:t.test_indicator_id,value:(l=this.results)==null?void 0:l.value}),remarks:this.remark}},{data:s,error:i,pending:a}=await S(o);this.saving=a,s.value&&(this.saving=!1,D().$toast.success("Test results updated successfully"),this.$router.back()),i.value&&(this.saving=!1,D().$toast.error(P),console.error(i.value))},getUpdatedDrugs(o){this.suspceptibilityResult.map((s,i)=>{o.index===i&&o.drugs.map(a=>{s.drugs.push({name:a.name,drug_id:a.id,zone:{name:"select result"},interpretation:{name:"select result"}})})})}}},je={class:"px-5 py-5"},Ue={class:"flex items-center justify-between py-5"},qe={class:"text-2xl font-semibold"},Oe={key:0,class:"w-full justify-center items-center py-20 mx-auto flex flex-col space-y-2"},Ne=e("p",{class:"ont-medium text-sky-500"},"Loading, please wait...",-1),Pe={key:1},ze={class:"grid grid-cols-3 gap-4 py-5"},Ee={class:"rounded border"},Le=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Patient")],-1),Be={class:"w-full py-2"},Fe={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Me=e("h3",{class:"font-medium"},"Patient Number",-1),Ge={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Xe=e("h3",{class:"font-medium"},"Name",-1),He={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},Ke=e("h3",{class:"font-medium"},"Sex",-1),We={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},Ze=e("h3",{class:"font-medium"},"Age",-1),$e={class:"rounded border"},Je=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Specimen")],-1),Qe={class:"w-full py-2"},Ye={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},et=e("h3",{class:"font-medium"},"Specimen Type",-1),tt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},st=e("h3",{class:"font-medium"},"Tracking Number",-1),ot={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},it=e("h3",{class:"font-medium"},"Accession Number",-1),lt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},nt=e("h3",{class:"font-medium"},"Status",-1),rt={class:"rounded border max-h-72 overflow-y-auto"},at=e("div",{class:"px-4 py-2 bg-gray-50 border-b rounded-t"},[e("h3",{class:"font-semibold text-gray-700 uppercase"},"Test")],-1),dt={class:"w-full py-2"},ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},ut=e("h3",{class:"font-medium"},"Name",-1),pt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},mt=e("h3",{class:"font-medium"},"Date Registered",-1),_t={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},ht=e("h3",{class:"font-medium"},"Receipt Date",-1),ft={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},bt=e("h3",{class:"font-medium"},"Test Status",-1),yt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},gt=e("h3",{class:"font-medium"},"Ward/Location",-1),vt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},xt=e("h3",{class:"font-medium"},"Physician",-1),wt={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted bg-gray-50"},kt=e("h3",{class:"font-medium"},"Request Origin",-1),Ct={class:"w-full flex justify-between px-5 py-2.5 border-b border-dotted"},St=e("h3",{class:"font-medium"},"Registered By",-1),Dt={class:"grid grid-cols-5 gap-4"},Rt={class:"col-span-2 rounded flex flex-col space-y-2.5 border"},Tt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Observations ")],-1),At={class:"font-medium"},It=e("p",{class:"text-base font-medium mb-2"},"Remarks",-1),Vt={class:"col-span-3 rounded flex flex-col space-y-2.5 border"},jt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Culture worksheet ")],-1),Ut={class:"px-5 py-2 space-y-2"},qt=e("h3",{class:"mb-2 mt-2 font-medium"},"Observations & Work-Up",-1),Ot={class:"w-full text-left border border-dotted"},Nt=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Date "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Lab Tech "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Remarks "),e("th",{class:"px-2 py-3 font-semibold text-left"}," Action ")])],-1),Pt={class:"px-2 py-3 border-r border-dotted"},zt={class:"px-2 py-3 border-r border-dotted"},Et={class:"px-2 py-3 border-r border-dotted"},Lt={key:1},Bt={class:"px-2 py-3"},Ft={class:"border-b border-dotted"},Mt={class:"px-2 py-3 border-r border-dotted"},Gt={class:"px-2 py-3 border-r border-dotted"},Xt={class:"px-2 py-3 border-r border-dotted"},Ht={class:"px-2 py-3"},Kt={class:"rounded border mt-5"},Wt=e("div",{class:"bg-gray-50 px-4 py-2 rounded-t border-b"},[e("h3",{class:"font-semibold text-gray-700 uppercase"}," Susceptibility Test Results ")],-1),Zt={class:"px-5 py-5"},$t={class:"flex items-center justify-between mb-3"},Jt={class:"font-semibold text-lg"},Qt={class:"flex items-center space-x-3"},Yt={class:"w-full text-left border border-dotted"},es=e("thead",{class:"bg-gray-50 border-b border-dotted"},[e("tr",null,[e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Drug "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Zone Diameter(mm) "),e("th",{class:"px-2 py-3 font-semibold text-left border-r border-dotted"}," Interpretation (I,S,R) ")])],-1),ts={class:"px-2 py-3 border-r border-dotted"},ss={class:"px-2 py-3"},os={class:"px-2 py-3"};function is(o,s,i,a,t,l){const u=Z,c=$,p=ve,w=h("RichTextEditor"),y=q,g=h("FormKit"),k=Ie,x=E;return _(),f("div",je,[e("div",null,[n(u,{pages:t.pages},null,8,["pages"]),e("div",Ue,[e("h3",qe,r(t.header),1)]),t.fetching?(_(),f("div",Oe,[n(c),Ne])):R("",!0),t.fetching?R("",!0):(_(),f("div",Pe,[e("div",ze,[e("div",Ee,[Le,e("div",Be,[e("div",Fe,[Me,e("p",null,r(t.details.id),1)]),e("div",Ge,[Xe,e("p",null,r(`${t.details.client.first_name} ${t.details.client.middle_name} ${t.details.client.last_name}`),1)]),e("div",He,[Ke,e("p",null,r(t.details.client.sex),1)]),e("div",We,[Ze,e("p",null,r(("calculateAge"in o?o.calculateAge:T(Y))(t.details.client.date_of_birth)),1)])])]),e("div",$e,[Je,e("div",Qe,[e("div",Ye,[et,e("p",null,r(t.details.specimen_type),1)]),e("div",tt,[st,e("p",null,r(t.details.tracking_number),1)]),e("div",ot,[it,e("p",null,r(t.details.accession_number),1)]),e("div",lt,[nt,e("p",null,r(t.details.order_status.split("-").join(" ").charAt(0).toUpperCase()+t.details.order_status.split("-").join(" ").slice(1)),1)])])]),e("div",rt,[at,e("div",dt,[e("div",ct,[ut,e("p",null,r(t.details.test_type_name),1)]),e("div",pt,[mt,e("p",null,r(t.moment(t.details.created_date).format("dateFormat"in o?o.dateFormat:T(z))),1)]),e("div",_t,[ht,e("p",null,r(t.moment(t.details.updated_date).format("dateFormat"in o?o.dateFormat:T(z))),1)]),e("div",ft,[bt,e("p",null,r(t.details.status.charAt(0).toUpperCase()+t.details.status.slice(1)),1)]),e("div",yt,[gt,e("p",null,r(t.details.requesting_ward),1)]),e("div",vt,[xt,e("p",null,r(t.details.requested_by.charAt(0).toUpperCase()+t.details.requested_by.slice(1)),1)]),e("div",wt,[kt,e("p",null,r(t.details.request_origin),1)]),e("div",Ct,[St,e("p",null,r(t.details.registered_by),1)])])])]),e("div",Dt,[e("div",Rt,[Tt,n(g,{type:"form","submit-label":"Update",onSubmit:l.saveResults,actions:!1},{default:b(()=>[(_(!0),f(A,null,I(t.details.indicators,(m,d)=>(_(),f("div",{class:"px-5 py-2 space-y-2",key:d},[e("label",At,r(m.name),1),n(p,{result:m.result,onUpdate:l.updateResult,onApply:l.loadOrganisms,data:m.indicator_ranges},null,8,["result","onUpdate","onApply","data"]),e("div",null,[It,n(w,{theme:"snow",class:"editor",content:t.remark,"onUpdate:content":s[0]||(s[0]=v=>t.remark=v),contentType:"html"},null,8,["content"])]),n(y,{loading:t.saving,click:()=>{},type:"submit",icon:t.saveIcon,text:"Save changes",color:"success"},null,8,["loading","icon"])]))),128))]),_:1},8,["onSubmit"])]),e("div",Vt,[jt,e("div",Ut,[e("div",null,[qt,n(g,{type:"form","submit-label":"Update",onSubmit:l.submitObservation,actions:!1},{default:b(({value:m})=>[e("table",Ot,[Nt,e("tbody",null,[(_(!0),f(A,null,I(t.details.culture_observation,(d,v)=>(_(),f("tr",{class:"border-b border-dotted",key:v},[e("td",Pt,r(t.moment(d.observation_date).fromNow()),1),e("td",zt,r(`${d.user.first_name} ${d.user.middle_name}
                                                ${d.user.last_name}`),1),e("td",Et,[d.description===""?(_(),N(g,{key:0,type:"textarea",label:"",name:"Remarks",value:d.description,validation:"required"},null,8,["value"])):R("",!0),d.description!=""?(_(),f("p",Lt,r(d.description),1)):R("",!0)]),e("td",Bt,[d.description===""?(_(),N(y,{key:0,type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])):R("",!0)])]))),128)),e("tr",Ft,[e("td",Mt,r(t.moment().fromNow()),1),e("td",Gt,r(`${t.authStore.user.first_name} ${t.authStore.user.middle_name} ${t.authStore.user.last_name}`),1),e("td",Xt,[n(g,{type:"textarea",label:"",name:"Remarks",modelValue:t.remarks,"onUpdate:modelValue":s[1]||(s[1]=d=>t.remarks=d),validation:"required"},null,8,["modelValue"])]),e("td",Ht,[n(y,{type:"submit",text:"Save",color:"success",icon:t.saveIcon,loading:t.loading,click:()=>{}},null,8,["icon","loading"])])])])])]),_:1},8,["onSubmit"])])])])]),e("div",Kt,[Wt,e("div",Zt,[(_(!0),f(A,null,I(t.suspceptibilityResult,(m,d)=>(_(),f("div",{key:m.name,class:"mt-2"},[e("div",$t,[e("h3",Jt,r(m.name),1),e("div",Qt,[n(k,{index:d,onUpdate:l.getUpdatedDrugs},null,8,["index","onUpdate"]),n(y,{text:"Save",color:"success",icon:t.updateIcon,loading:t.updating,click:()=>l.updateResults(m)},null,8,["icon","loading","click"]),n(y,{loading:t.deleting,icon:t.trashIcon,color:"error",text:"Delete",click:()=>{l.deleteSusceptivityResult(m.id,d)}},null,8,["loading","icon","click"])])]),e("table",Yt,[es,e("tbody",null,[(_(!0),f(A,null,I(m.drugs,v=>(_(),f("tr",{class:"border-b border-dotted",key:v.name},[e("td",ts,r(v.name),1),e("td",ss,[n(x,{items:l.diameters(),modelValue:v.zone,"onUpdate:modelValue":V=>v.zone=V},null,8,["items","modelValue","onUpdate:modelValue"])]),e("td",os,[n(x,{items:"interpretations"in o?o.interpretations:T(ie),modelValue:v.interpretation,"onUpdate:modelValue":V=>v.interpretation=V},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])])]))),128))])])]))])])}const As=U(Ve,[["render",is]]);export{As as default};
