import{o as i,c,d as e,_ as $,f as u,p as z,u as H,w as C,v as V,b as n,g as a,T as F,n as w,h as v,j as b,t as m,e as Y,q as ee,F as A,r as S,s as Z,l as le,x as de,y as ue,k as _e,z as pe,A as me,B as he}from"./entry.0bd06f87.js";import{P as fe,C as te,A as ge,p as se,a as ne,L as ve,b as ye,c as xe,d as be,e as we,f as $e}from"./index.ac09cbc7.js";import{u as R,h as U,e as P,f as T}from"./fetch.90b82ec4.js";import{r as oe}from"./EllipsisVerticalIcon.c6254f6b.js";import{M as G,y as q,h as N,R as O}from"./menu.bc3c87af.js";import{r as ae}from"./DocumentTextIcon.45df98d9.js";import{r as ke}from"./CheckBadgeIcon.3ed98160.js";import{_ as Me}from"./clinical_fe.b7eace53.js";import{_ as j}from"./nuxt-link.c308b472.js";import{_ as De}from"./microscope.e81428df.js";import{_ as Ie,a as Ce}from"./admissions.b43dfc40.js";import{r as ie}from"./DocumentTextIcon.faaf02fa.js";import{d as Ve}from"./constants.b703baad.js";import{_ as re}from"./virus.43acb4b6.js";import{_ as ze}from"./medicines.8caa4430.js";import{_ as Ae}from"./bacteria.3b363c3c.js";import{_ as Se}from"./cone_test_on_nets.ab3e06ce.js";import{_ as He}from"./blood_drop.419e6e58.js";import{S as Be}from"./stock.d9c55c46.js";import{u as Pe}from"./vue.f36acd1f.878e4c03.js";import{P as Te}from"./package.0a25391b.js";import"./transition.8981554f.js";import"./hidden.7a3c58e3.js";import"./XMarkIcon.d0e271aa.js";import"./PencilSquareIcon.b0db05d4.js";import"./PrinterIcon.82619bb0.js";import"./use-text-value.57c232ab.js";function je(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M2.25 13.5a8.25 8.25 0 018.25-8.25.75.75 0 01.75.75v6.75H18a.75.75 0 01.75.75 8.25 8.25 0 01-16.5 0z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M12.75 3a.75.75 0 01.75-.75 8.25 8.25 0 018.25 8.25.75.75 0 01-.75.75h-7.5a.75.75 0 01-.75-.75V3z","clip-rule":"evenodd"})])}function Le(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0118 9.375v9.375a3 3 0 003-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 00-.673-.05A3 3 0 0015 1.5h-1.5a3 3 0 00-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6zM13.5 3A1.5 1.5 0 0012 4.5h4.5A1.5 1.5 0 0015 3h-1.5z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 013 20.625V9.375zM6 12a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V12zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 15a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V15zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM6 18a.75.75 0 01.75-.75h.008a.75.75 0 01.75.75v.008a.75.75 0 01-.75.75H6.75a.75.75 0 01-.75-.75V18zm2.25 0a.75.75 0 01.75-.75h3.75a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75z","clip-rule":"evenodd"})])}te.register(ge,se,ne);const Ee={components:{Pie:fe},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}}};function Re(t,o,l,_,s,d){const r=u("Pie");return i(),z(r,{data:s.data,options:s.options},null,8,["data","options"])}const Fe=$(Ee,[["render",Re]]),Ge={components:{EllipsisVerticalIcon:oe,Menu:G,MenuItem:q,MenuItems:N,MenuButton:O,ChartPieIcon:je,DocumentTextIcon:ae},data(){return{authStore:R(),cookie:H("token"),testsData:{tests_count:{data:0},statuses_count:{"not-received":0,pending:0,started:0,completed:0,verified:0,voided:0,"not-done":0,"test-rejected":0,"specimen-not-collected":0,"specimen-accepted":0,"specimen-rejected":0}},loading:!0,viewChart:!1,showFilters:!1,startDate:"",endDate:"",applyIcon:ke}},created(){this.init()},methods:{async init(){this.loading=!0;let{department:t}=R();const o=this.startDate==""?"":U(this.startDate).format("YYYY-MM-DD"),l=this.endDate==""?"":U(this.endDate).format("YYYY-MM-DD"),_={route:`${P.tests}/count?department=${t}&from=${o}&to=${l}`,method:"GET",token:`${this.cookie}`},{data:s,error:d,pending:r}=await T(_);this.loading=r,s.value&&(this.testsData=s.value,this.loading=!1,this.viewChart=!1,this.showFilters=!1),d.value&&(console.error(d.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"},proccessedAnalyticsData(t){let o={};return o={labels:["Not Received","Pending","Started","Completed","Verified"],datasets:[{backgroundColor:["#d97706","#dc2626","#06b6d4","#22c55e","#15803d"],data:[t.statuses_count["not-received"],t.statuses_count.pending,t.statuses_count.started,t.statuses_count.completed,t.statuses_count.verified]}]},o}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},qe={class:"border rounded col-span-1"},Ne={class:"flex rounded-t items-center justify-between bg-gray-50 px-2 py-2 border-b"},Oe=e("h3",{class:"text-xl font-semibold"},"Tests",-1),Ue={class:"px-1 py-1"},Ye={key:0},Je={class:"flex items-center space-x-4 px-3 py-3"},Ke={class:"w-44"},Qe={class:"w-44"},We={class:"flex items-center space-x-2 px-5 py-2"},Xe=e("img",{src:Me},null,-1),Ze={class:"text-3xl font-semibold"},et={class:"w-full px-5 py-2 space-y-2"},tt={class:"flex items-center justify-between"},st=e("h3",{class:"font-medium"},"Pending",-1),nt={class:"flex items-center justify-between"},ot=e("h3",{class:"font-medium"},"Verified",-1),at={class:"flex items-center justify-between"},it=e("h3",{class:"font-medium"},"Rejected",-1),rt={key:0},ct=ee('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-2"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div><div class="px-2 py-2 space-y-2"><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div><div class="flex items-center justify-between"><div class="w-32 bg-gray-100 animate-pulse rounded h-6"></div><div class="w-16 bg-gray-100 animate-pulse rounded h-6"></div></div></div>',3),lt=[ct];function dt(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),p=u("MenuButton"),h=u("DocumentTextIcon"),g=u("MenuItem"),y=u("ChartPieIcon"),M=u("MenuItems"),D=u("Menu"),I=u("datepicker"),f=Y,x=Fe;return i(),c("div",qe,[C(e("div",null,[e("div",Ne,[Oe,n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{class:"w-6 h-6"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Ue,[n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[0]||(o[0]=E=>{s.showFilters=!s.showFilters,s.viewChart=!1}),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" Filter By Date ")],2)]),_:1}),n(g,null,{default:a(({active:k})=>[e("button",{onClick:o[1]||(o[1]=E=>s.viewChart=!s.viewChart),class:w([k?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center rounded px-2 py-2 font-normal"])},[s.viewChart?(i(),z(h,{key:0,class:"w-5 h-5 mr-2"})):b("",!0),s.viewChart?b("",!0):(i(),z(y,{key:1,class:"w-5 h-5 mr-2"})),v(" "+m(s.viewChart?"View summary":"View as Pie Chart"),1)],2)]),_:1})])]),_:1})]),_:1})]),_:1})]),s.showFilters?(i(),c("div",Ye,[e("div",Je,[e("div",Ke,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.startDate,"onUpdate:modelValue":o[2]||(o[2]=k=>s.startDate=k)},null,8,["modelValue"])]),e("div",Qe,[n(I,{position:"left",placeholder:"-- start date --",format:"dd/MM/yyyy","input-classes":"border rounded px-2 py-1.5 block focus:outline-none focus:ring-2 focus:ring-sky-500 transition duration-150 focus:border-none",range:!1,shortcuts:!1,modelValue:s.endDate,"onUpdate:modelValue":o[3]||(o[3]=k=>s.endDate=k)},null,8,["modelValue"])]),n(f,{text:"Apply",color:"success",type:"button",icon:s.applyIcon,click:()=>{d.init()}},null,8,["icon","click"])])])):b("",!0),C(e("div",null,[e("div",We,[Xe,e("h3",Ze,m(s.testsData.tests_count.data.toLocaleString()),1)]),e("div",et,[e("div",tt,[st,e("p",null,m(s.testsData.statuses_count.pending),1)]),e("div",nt,[ot,e("p",null,m(s.testsData.statuses_count.verified),1)]),e("div",at,[it,e("p",null,m(s.testsData.statuses_count["test-rejected"]),1)])])],512),[[V,!s.viewChart&&!s.showFilters]])],512),[[V,!s.loading]]),s.testsData.tests_count.data!==0&&s.viewChart?(i(),c("div",rt,[n(x,{chartData:d.proccessedAnalyticsData(s.testsData)},null,8,["chartData"])])):b("",!0),C(e("div",null,lt,512),[[V,s.loading]])])}const ut=$(Ge,[["render",dt]]);function _t(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M5.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H6a.75.75 0 01-.75-.75V12zM6 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H6zM7.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H8a.75.75 0 01-.75-.75V12zM8 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H8zM9.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V10zM10 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H10zM9.25 14a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H10a.75.75 0 01-.75-.75V14zM12 9.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V10a.75.75 0 00-.75-.75H12zM11.25 12a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H12a.75.75 0 01-.75-.75V12zM12 13.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V14a.75.75 0 00-.75-.75H12zM13.25 10a.75.75 0 01.75-.75h.01a.75.75 0 01.75.75v.01a.75.75 0 01-.75.75H14a.75.75 0 01-.75-.75V10zM14 11.25a.75.75 0 00-.75.75v.01c0 .414.336.75.75.75h.01a.75.75 0 00.75-.75V12a.75.75 0 00-.75-.75H14z"}),e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function pt(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z","clip-rule":"evenodd"})])}function mt(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M15.5 2A1.5 1.5 0 0014 3.5v13a1.5 1.5 0 001.5 1.5h1a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0016.5 2h-1zM9.5 6A1.5 1.5 0 008 7.5v9A1.5 1.5 0 009.5 18h1a1.5 1.5 0 001.5-1.5v-9A1.5 1.5 0 0010.5 6h-1zM3.5 10A1.5 1.5 0 002 11.5v5A1.5 1.5 0 003.5 18h1A1.5 1.5 0 006 16.5v-5A1.5 1.5 0 004.5 10h-1z"})])}function L(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 3a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM10 8.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3zM11.5 15.5a1.5 1.5 0 10-3 0 1.5 1.5 0 003 0z"})])}function ht(t,o){return i(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M10 9a3 3 0 100-6 3 3 0 000 6zM6 8a2 2 0 11-4 0 2 2 0 014 0zM1.49 15.326a.78.78 0 01-.358-.442 3 3 0 014.308-3.516 6.484 6.484 0 00-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 01-2.07-.655zM16.44 15.98a4.97 4.97 0 002.07-.654.78.78 0 00.357-.442 3 3 0 00-4.308-3.517 6.484 6.484 0 011.907 3.96 2.32 2.32 0 01-.026.654zM18 8a2 2 0 11-4 0 2 2 0 014 0zM5.304 16.19a.844.844 0 01-.277-.71 5 5 0 019.947 0 .843.843 0 01-.277.71A6.975 6.975 0 0110 18a6.974 6.974 0 01-4.696-1.81z"})])}const ft={components:{EllipsisVerticalIcon:L},data(){return{cookie:H("token"),loading:!1,analyticsData:{}}},created(){this.init()},methods:{async init(){const t={route:`${P.analytics}/lab_config`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.analyticsData=o.value.data,this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)}}},gt=""+new URL("ambulatory_clinic.16bfb86e.svg",import.meta.url).href,vt={class:"border rounded"},yt={key:0},xt=e("div",{class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},[e("h3",null,"Lab Configuration")],-1),bt={class:"px-3 py-3 space-y-4"},wt={class:"flex items-center space-x-5"},$t=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:De,class:"w-8 h-8"})],-1),kt={class:"text-3xl font-bold"},Mt={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Dt={class:"flex items-center space-x-5"},It=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:Ie,class:"w-8 h-8"})],-1),Ct={class:"text-3xl font-bold"},Vt={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},zt={class:"flex items-center space-x-5"},At=e("div",{class:"px-2 py-2 bg-gray-100 rounded"},[e("img",{src:gt,class:"w-8 h-8"})],-1),St={class:"text-3xl font-bold"},Ht={class:"text-sm font-medium hover:text-sky-500 hover:underline ml-2"},Bt=e("div",{class:"flex items-center justify-between px-2 py-2"},[e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"}),e("div",{class:"rounded-full h-8 w-8 bg-gray-100 animate-pulse"})],-1),Pt=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-14 w-14 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),Tt=[Pt];function jt(t,o,l,_,s,d){var p,h,g;const r=j;return i(),c("div",vt,[s.loading?b("",!0):(i(),c("div",yt,[xt,e("div",bt,[e("div",wt,[$t,e("p",kt,[v(m((p=s.analyticsData)==null?void 0:p.instruments),1),e("span",Mt,[n(r,{to:"/lab-configuration/instruments"},{default:a(()=>[v("instruments")]),_:1})])])]),e("div",Dt,[It,e("p",Ct,[v(m((h=s.analyticsData)==null?void 0:h.facilities),1),e("span",Vt,[n(r,{to:"/lab-configuration/facilities"},{default:a(()=>[v("facilities")]),_:1})])])]),e("div",zt,[At,e("p",St,[v(m((g=s.analyticsData)==null?void 0:g.wards),1),e("span",Ht,[n(r,{to:"/lab-configuration/facility-wards"},{default:a(()=>[v("wards")]),_:1})])])])])])),C(e("div",null,[Bt,(i(),c(A,null,S(3,y=>e("div",{key:y},Tt)),64))],512),[[V,s.loading]])])}const Lt=$(ft,[["render",jt]]),Et={components:{EllipsisVerticalIcon:L,Menu:G,MenuItem:q,MenuItems:N,MenuButton:O,UserGroupIcon:ht,DocumentTextIcon:ie},data(){return{cookie:H("token"),loading:!1,analyticsData:{clients:0,by_sex:{M:0,F:0}}}},created(){this.init()},methods:{async init(){this.loading=!0;const t={route:`${P.analytics}/clients`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.analyticsData=o.value.data,this.loading=!1),l.value&&(console.error(l.value),this.loading=!1)},getPercentage(t,o){return o==0?0:Math.round(t/o*100)}}},Rt=""+new URL("group.3c310866.svg",import.meta.url).href,Ft={class:"border rounded"},Gt={class:"flex items-center justify-between rounded-t bg-gray-50 px-2 py-2 border-b text-xl font-semibold"},qt=e("h3",null,"Patients",-1),Nt={class:"py-1 border-y"},Ot={class:""},Ut={class:"flex items-center space-x-2 px-2 py-2"},Yt=e("img",{src:Rt},null,-1),Jt={class:"text-2xl font-semibold"},Kt={class:"px-5"},Qt=e("h3",{class:"mb-2 font-medium"},"By Gender",-1),Wt={class:"w-full flex items-center"},Xt={class:"mt-2"},Zt={class:"flex items-center space-x-2"},es=e("div",{class:"w-3 h-3 bg-sky-500 rounded-full"},null,-1),ts={class:"flex items-center space-x-2"},ss=e("div",{class:"w-3 h-3 bg-green-500 rounded-full"},null,-1),ns=ee('<div class="flex items-center justify-between px-2 py-2"><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div><div class="rounded-full h-8 w-8 bg-gray-100 animate-pulse"></div></div><div class="flex items-center space-x-3 px-2 pb-4"><div class="h-14 w-14 bg-gray-100 rounded animate-pulse"></div><div class="w-48 bg-gray-100 animate-pulse rounded h-8"></div></div>',2),os=e("div",{class:"flex items-center space-x-3 px-2 pb-2"},[e("div",{class:"h-5 w-5 bg-gray-100 rounded-full animate-pulse"}),e("div",{class:"h-8 w-8 bg-gray-100 rounded animate-pulse"}),e("div",{class:"w-48 bg-gray-100 animate-pulse rounded h-8"})],-1),as=[os];function is(t,o,l,_,s,d){var f,x,k,E,J,K,Q,W,X;const r=u("EllipsisVerticalIcon"),p=u("MenuButton"),h=u("UserGroupIcon"),g=j,y=u("MenuItem"),M=u("DocumentTextIcon"),D=u("MenuItems"),I=u("Menu");return i(),c("div",Ft,[C(e("div",null,[e("div",Gt,[qt,n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Nt,[n(y,null,{default:a(({active:B})=>[n(g,{to:"/patients"},{default:a(()=>[e("button",{class:w([B?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" View Patients ")],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:B})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([B?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" Generate Reports ")],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})]),e("div",Ot,[e("div",Ut,[Yt,e("h3",Jt,m((f=s.analyticsData)==null?void 0:f.clients.toLocaleString()),1)]),e("div",Kt,[Qt,e("div",Wt,[e("div",{style:Z({width:d.getPercentage((x=s.analyticsData)==null?void 0:x.by_sex.M,(k=s.analyticsData)==null?void 0:k.clients)+"%"}),class:"h-4 bg-sky-500 rounded-tl-full rounded-bl-full"},null,4),e("div",{style:Z({width:d.getPercentage((E=s.analyticsData)==null?void 0:E.by_sex.F,(J=s.analyticsData)==null?void 0:J.clients)+"%"}),class:"h-4 bg-green-500 rounded-br-full rounded-tr-full"},null,4)]),e("div",Xt,[e("div",Zt,[es,e("p",null,m(d.getPercentage((K=s.analyticsData)==null?void 0:K.by_sex.M,(Q=s.analyticsData)==null?void 0:Q.clients))+"% Males",1)]),e("div",ts,[ss,e("p",null,m(d.getPercentage((W=s.analyticsData)==null?void 0:W.by_sex.F,(X=s.analyticsData)==null?void 0:X.clients))+"% Females",1)])])])])],512),[[V,!s.loading]]),C(e("div",null,[ns,(i(),c(A,null,S(3,B=>e("div",{key:B},as)),64))],512),[[V,s.loading]])])}const rs=$(Et,[["render",is]]),cs=le({name:"Badge",props:{text:{type:String,required:!0},color:{type:String}}});function ls(t,o,l,_,s,d){return i(),c("div",{class:w([`bg-${t.color}-500 border-2 border-${t.color}-400`,"text-white rounded px-2 py-1 text-sm text-center capitalize"])},m(t.text),3)}const ce=$(cs,[["render",ls]]),ds={components:{EllipsisVerticalIcon:L,Badge:ce},data(){return{authStore:R(),cookie:H("token"),tests:new Array,loading:!1}},created(){this.init()},methods:{async init(){this.loading=!0;const t=this.authStore.user.departments.filter(d=>d.name==this.authStore.department)[0].id,o={route:`${P.tests}?minimal=true&page=1&per_page=9&status=&search=&department_id=${t}&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:l,error:_,pending:s}=await T(o);this.loading=s,l.value&&(this.tests=l.value.data,this.loading=!1),_.value&&(console.log(_.value),this.loading=!1)},viewTests(){this.$router.push("/tests")},getStatusColor(t){return t=="completed"?"green":t=="pending"?"orange":"sky"}},watch:{authStore:{handler(t,o){this.init()},deep:!0}}},us={class:"col-span-1 rounded border relative"},_s={key:0},ps=e("div",{class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},[e("h3",{class:"text-lg font-semibold"},"Recent tests")],-1),ms={class:""},hs={class:"w-full"},fs={class:"px-2 py-2 capitalize flex items-center"},gs={class:"px-2 py-2"},vs={class:"px-2 py-2 capitalize"},ys={key:1},xs=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),bs={class:"mt-2 space-y-2 px-2"},ws=e("div",{class:"h-5 w-5 rounded-full bg-gray-100 animate-pulse"},null,-1),$s=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),ks=[ws,$s],Ms=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function Ds(t,o,l,_,s,d){const r=Y;return i(),c("div",us,[s.loading?b("",!0):(i(),c("div",_s,[ps,e("div",ms,[e("table",hs,[e("tbody",null,[(i(!0),c(A,null,S(s.tests,(p,h)=>(i(),c("tr",{class:w(["border-b border-dotted",h%2!==0?"bg-gray-50":""]),key:h},[e("td",fs,[e("div",{class:w([`bg-${d.getStatusColor(p.status.toLowerCase())}-500`,"w-3 h-3 rounded-full mr-2"])},null,2),v(" "+m(`${p.client.first_name}
                                                                    ${p.client.middle_name} ${p.client.last_name}`),1)]),e("td",gs,m(p.test_type_name),1),e("td",vs,m(p.status),1)],2))),128))])]),n(r,{click:()=>d.viewTests(),text:"View tests →",color:"primary",icon:{},class:"m-2 absolute bottom-0"},null,8,["click"])])])),s.loading?(i(),c("div",ys,[xs,e("div",bs,[(i(),c(A,null,S(10,p=>e("div",{class:"flex items-center space-x-2",key:p},ks)),64))]),Ms])):b("",!0)])}const Is=$(ds,[["render",Ds]]),Cs=de("patient",()=>{const t=ue({});return{activePatient:t,setActivePatient:l=>Object.assign(t,l)}}),Vs={components:{EllipsisVerticalIcon:L,ChartBarIcon:mt,Badge:ce,Menu:G,MenuItem:q,MenuItems:N,MenuButton:O,DocumentTextIcon:ie,CalendarDaysIcon:_t,CalendarIcon:pt},data(){return{moment:U,cookie:H("token"),clients:new Array,loading:!0}},created(){this.getClients()},methods:{async getClients(){const t={route:`${P.clients}?page=1&per_page=9&status=&search=&start_date=&end_date=`,method:"GET",token:`${this.cookie}`},{data:o,error:l,pending:_}=await T(t);this.loading=_,o.value&&(this.clients=o.value.clients,this.loading=!1),l.value&&(console.log(l.value),this.loading=!1)},async newOrder(t){Cs().setActivePatient(t),this.$router.push(`/tests/new-test?patient_id=${t.client_id}`)}}},zs={class:"col-span-1 rounded border relative"},As={key:0},Ss={class:"flex items-center justify-between bg-gray-50 border-b px-2 py-2 rounded-t"},Hs=e("h3",{class:"text-lg font-semibold"},"Recent patients",-1),Bs={class:"py-1 border-y"},Ps={class:""},Ts={class:"w-full"},js={class:"px-2 py-2 capitalize flex items-center"},Ls={class:"px-2 py-2"},Es={class:"px-2 py-2"},Rs={key:1},Fs=e("div",{class:"w-full flex items-center justify-between rounded-t px-2 py-2"},[e("div",{class:"h-8 w-48 bg-gray-100 animate-pulse rounded"}),e("div",{class:"rounded-full h-7 w-7 bg-gray-100 animate-pulse"})],-1),Gs={class:"mt-2 space-y-2 px-2"},qs=e("div",{class:"w-full bg-gray-100 h-8 animate-pulse rounded"},null,-1),Ns=[qs],Os=e("div",{class:"w-32 bg-gray-100 rounded-t h-8 animate-pulse m-2"},null,-1);function Us(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),p=u("MenuButton"),h=u("DocumentTextIcon"),g=j,y=u("MenuItem"),M=u("MenuItems"),D=u("Menu"),I=Y;return i(),c("div",zs,[s.loading?b("",!0):(i(),c("div",As,[e("div",Ss,[Hs,e("div",null,[n(D,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(M,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",Bs,[n(y,null,{default:a(({active:f})=>[n(g,{to:"/reports/daily/patient-report"},{default:a(()=>[e("button",{class:w([f?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" "+m("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",Ps,[e("table",Ts,[e("tbody",null,[(i(!0),c(A,null,S(s.clients,(f,x)=>(i(),c("tr",{class:w(["border-b border-dotted",x%2!==0?"bg-gray-50":""]),key:x},[e("td",js,m(`${f.first_name} ${f.middle_name} ${f.last_name}`),1),e("td",Ls,m(s.moment(f.created_at).format("dateFormat"in t?t.dateFormat:_e(Ve))),1),e("td",Es,[n(I,{icon:{},text:"New order →",color:"primary",click:()=>{d.newOrder(f)}},null,8,["click"])])],2))),128))])])])])),s.loading?(i(),c("div",Rs,[Fs,e("div",Gs,[(i(),c(A,null,S(10,f=>e("div",{class:"flex items-center space-x-2",key:f},Ns)),64))]),Os])):b("",!0)])}const Ys=$(Vs,[["render",Us]]),Js={components:{EllipsisVerticalIcon:L}},Ks={class:"col-span-1 border rounded"},Qs=e("div",{class:"bg-gray-50 border-b rounded-t px-2 py-2 text-lg font-semibold"}," Test Catalog ",-1),Ws={class:"px-2 py-2 grid grid-cols-3 gap-4"},Xs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:re,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Organisms")],-1),Zs=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:ze,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"9"),e("p",null,"Drugs")],-1),en=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ae,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Diseases")],-1),tn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:re,class:"w-10 h-10 mb-5s",alt:"virus"}),e("h3",{class:"text-2xl font-semibold mt-2"},"31"),e("p",null,"Test Panels")],-1),sn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Se,class:"w-10 h-10 mb-5s",alt:"cone_test_on_nets"}),e("h3",{class:"text-2xl font-semibold mt-2"},"102"),e("p",null,"Test Types")],-1),nn=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:He,class:"w-10 h-10 mb-5s",alt:"blood-drop-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Specimen Types")],-1),on=e("div",{class:"bg-gray-50 rounded px-5 py-5 hover:bg-sky-500 transition duration-150 hover:text-white text-black"},[e("img",{src:Ce,class:"w-10 h-10 mb-5s",alt:"admissions-svg"}),e("h3",{class:"text-2xl font-semibold mt-2"},"4"),e("p",null,"Laboratory Sections")],-1);function an(t,o,l,_,s,d){const r=j;return i(),c("div",Ks,[Qs,e("div",Ws,[n(r,{to:"/test-catalog/organisms"},{default:a(()=>[Xs]),_:1}),n(r,{to:"/test-catalog/drugs"},{default:a(()=>[Zs]),_:1}),n(r,{to:"/test-catalog/diseases"},{default:a(()=>[en]),_:1}),n(r,{to:"/test-catalog/test-panels"},{default:a(()=>[tn]),_:1}),n(r,{to:"/test-catalog/test-types"},{default:a(()=>[sn]),_:1}),n(r,{to:"/test-catalog/specimen-types"},{default:a(()=>[nn]),_:1}),n(r,{to:"/test-catalog/lab-sections"},{default:a(()=>[on]),_:1})])])}const rn=$(Js,[["render",an]]);te.register(ye,xe,be,we,$e,se,ne);const cn={components:{Line:ve},props:{chartData:{required:!0,type:Object}},data(){return{data:this.chartData,options:{responsive:!0,maintainAspectRatio:!1}}},watch:{chartData:{handler(t){this.data=t},deep:!0}}};function ln(t,o,l,_,s,d){const r=u("Line");return i(),z(r,{data:s.data,options:s.options},null,8,["data","options"])}const dn=$(cn,[["render",ln]]),un={components:{Menu:G,MenuButton:O,EllipsisVerticalIcon:oe,MenuItems:N,MenuItem:q,DocumentTextIcon:ae,ClipboardDocumentListIcon:Le},data(){return{loading:!1,serverItemsLength:0,stocks:new Array,cookie:H("token"),serverOptions:{page:1,rowsPerPage:25,sortBy:"name"}}},computed:{chartData(){let t={labels:new Array,datasets:[{label:"Stock level",backgroundColor:"#4ade80",data:new Array,cubicInterpolationMode:"monotone"},{label:"Minimum order level",backgroundColor:"#ef4444",data:new Array,cubicInterpolationMode:"monotone"}]};return this.stocks.map(o=>{t.labels.push(o.stock_item.name),t.datasets[0].data.push(o.quantity),t.datasets[1].data.push(o.minimum_order_level)}),t}},created(){this.init()},methods:{async init(){this.loading=!0;const t=new Be,{page:o,rowsPerPage:l}=this.serverOptions;let _=`?page=${o}&per_page=${l}&search=`;const{data:s,error:d,pending:r}=await t.getStock(`${this.cookie}`,_);this.loading=r,s.value&&(this.loading=!1,this.stocks=s.value.data),d.value&&(this.loading=!1,console.error(d.value))}}};const _n=t=>(pe("data-v-d7bdc46c"),t=t(),me(),t),pn={class:"rounded border"},mn={class:"bg-gray-50 px-2 py-2 border-b rounded-t flex items-center justify-between"},hn=_n(()=>e("h3",{class:"font-semibold text-lg"},"Current stock levels",-1)),fn={class:"py-1 border-y"},gn={class:"chartStyle"};function vn(t,o,l,_,s,d){const r=u("EllipsisVerticalIcon"),p=u("MenuButton"),h=u("ClipboardDocumentListIcon"),g=j,y=u("MenuItem"),M=u("DocumentTextIcon"),D=u("MenuItems"),I=u("Menu"),f=dn;return i(),c("div",pn,[e("div",mn,[hn,e("div",null,[n(I,{as:"div",class:"relative inline-block text-left justify-center items-center"},{default:a(()=>[n(p,null,{default:a(()=>[n(r,{class:"w-5 h-5"})]),_:1}),n(F,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:a(()=>[n(D,{class:"absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:a(()=>[e("div",fn,[n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/stock"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(h,{class:"w-5 h-5 mr-2"}),v(" "+m("View stock"))],2)]),_:2},1024)]),_:1}),n(y,null,{default:a(({active:x})=>[n(g,{to:"/stock-management/reports"},{default:a(()=>[e("button",{class:w([x?"bg-sky-500 text-white":"text-gray-900","group flex w-full items-center px-2 py-2 font-normal"])},[n(M,{class:"w-5 h-5 mr-2"}),v(" "+m("Generate Reports"))],2)]),_:2},1024)]),_:1})])]),_:1})]),_:1})]),_:1})])]),e("div",gn,[n(f,{chartData:d.chartData},null,8,["chartData"])])])}const yn=$(un,[["render",vn],["__scopeId","data-v-d7bdc46c"]]),xn={setup(){Pe({title:`${Te.name.toUpperCase()} - Home`});const t=R(),o=he([{name:"superadmin"},{name:"superuser"}]);return{authStore:t,accessRoles:o}},methods:{showRoute(t){return this.authStore.user.roles.some(l=>t.some(_=>l.role_name.toLowerCase()===_.name.toLowerCase()))}}},bn={class:"px-5 py-5"},wn={class:"grid grid-cols-3 gap-4"},$n={class:"grid grid-cols-2 gap-4 py-5"};function kn(t,o,l,_,s,d){const r=ut,p=Lt,h=rs,g=Is,y=Ys,M=rn,D=yn;return i(),c("div",bn,[e("div",wn,[n(r),n(p),n(h)]),e("div",$n,[n(g),n(y),d.showRoute(_.accessRoles)?(i(),z(M,{key:0})):b("",!0),d.showRoute(_.accessRoles)?(i(),z(D,{key:1})):b("",!0)])])}const Xn=$(xn,[["render",kn]]);export{Xn as default};
