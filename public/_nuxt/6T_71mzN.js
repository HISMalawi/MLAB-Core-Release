import{S as y,p as b,Y as C,G as w,V as D,q as T,s as F,a as V,l as I,m as N,u as _,x as S,y as a,b as B,e as j,g as o,f as e,z as s,j as q,_ as P}from"./CDwe1-SJ.js";import{_ as R}from"./CGDWQBys.js";import{r as A}from"./CklX0FMy.js";import{_ as M}from"./BG9mST_t.js";const X={components:{TransitionRoot:y,TransitionChild:b,Dialog:C,DialogPanel:w,DialogTitle:D,XMarkIcon:T},data(){return{addIcon:F,saveIcon:A,open:!1,loading:!1,cookie:V("token"),name:""}},methods:{async submitForm(){this.loading=!0;const r={route:I.disease.create,method:"POST",token:`${this.cookie}`,body:{disease:{data:[{name:this.name}]}}},{data:t,pending:d,error:l}=await N(r);this.loading=d,t.value&&(this.name="",_().$toast.success("Disease added successfully!"),this.$emit("action-completed",[]),this.handleClick()),l.value&&(_().$toast.error(`${l.value.data.error}`),this.loading=!1,this.handleClick())},handleClick(){this.open=!this.open},clearForm(){this.$formkit.reset("editForm")}}},z={class:"fixed inset-0 overflow-y-auto"},G={class:"flex min-h-full items-center justify-center p-4 text-center"},K={class:"border-b px-3 py-3 flex items-center justify-between"},O={class:"mt-2 space-y-3 px-5 py-5"},U={class:"w-full grid grid-cols-1 gap-1"},Y={class:"mt-3 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function E(r,t,d,l,n,i){const m=P,u=a("TransitionChild"),f=a("DialogTitle"),h=a("XMarkIcon"),p=a("FormKit"),x=R,g=a("DialogPanel"),v=a("Dialog"),k=a("TransitionRoot");return B(),j("div",null,[o("div",null,[e(m,{text:"New Disease",color:"primary",icon:n.addIcon,click:i.handleClick},null,8,["icon","click"])]),e(k,{appear:"",show:n.open,as:"template"},{default:s(()=>[e(v,{as:"div",onClose:i.handleClick,class:"relative z-10"},{default:s(()=>[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:s(()=>t[2]||(t[2]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",z,[o("div",G,[e(u,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:s(()=>[e(g,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:s(()=>[o("div",K,[e(f,{as:"h3",class:"text-xl text-black flex items-center font-medium leading-6"},{default:s(()=>t[3]||(t[3]=[o("img",{src:M,class:"w-8 h-8 mr-2"},null,-1),q(" Add Disease ")])),_:1}),o("button",{onClick:t[0]||(t[0]=(...c)=>i.handleClick&&i.handleClick(...c))},[e(h,{class:"w-5 h-5"})])]),e(p,{id:"editForm",type:"form","submit-label":"Update",onSubmit:i.submitForm,actions:!1},{default:s(()=>[o("div",O,[o("div",U,[e(p,{type:"text",label:"Disease Name",modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=c=>n.name=c),validation:"required|text"},null,8,["modelValue"])])]),o("div",Y,[e(x,{type:"button",text:"Clear form",click:()=>i.clearForm()},null,8,["click"]),e(m,{type:"submit",color:"success",icon:n.saveIcon,click:()=>{},text:"Save changes",loading:n.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Q=S(X,[["render",E]]);export{Q as _};
