import{_ as J}from"./COJDNupw.js";import{S,p as P,Y as F,G as M,V as L,q as U,s as Z,a as E,l as T,m as D,a2 as G,u as w,E as q,x as $,y as i,b as h,e as b,g as t,f as e,z as a,k,_ as R,a3 as Q,a4 as W,A as ee,B as K,t as I,F as te,j as oe,D as se,h as j,L as A,K as B}from"./BxD-h1LR.js";import{_ as O}from"./DlrUcOnO.js";import{r as ne}from"./BsvR1uat.js";import{r as ie}from"./CJ0kaGHz.js";import{r as z}from"./BPzJPC5B.js";import{r as ae}from"./Dyp74E1c.js";import{_ as le}from"./CPPw0KVQ.js";import{r as Y}from"./DbyLJe1U.js";import{_ as ce}from"./DCLH_TIo.js";import{u as N}from"./D6kY4awV.js";import{u as re}from"./BmiBNsbw.js";import{P as de}from"./C1C0mJ5v.js";import{r as ue}from"./DQVzKFZd.js";import{r as me}from"./D-_i98es.js";import"./Dm9r4zu1.js";import"./Cpa0DX47.js";import"./DkqoXkVu.js";import"./CmGziMTe.js";const pe={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U,UserIcon:ne},data(){return{open:!1,driverIcon:ie,addIcon:Z,saveIcon:z,clearIcon:ae,name:"",description:"",loading:!1,cookie:E("token"),sections:new Array,selectedSection:new Array}},created(){this.loadSections()},methods:{async loadSections(){const n={route:`${T.sections}`,method:"GET",token:`${this.cookie}`},{data:s,error:c}=await D(n);s.value&&(this.sections=s.value.data),c.value&&console.error(c.value)},async submitForm(){this.loading=!0;let n=G(this.sections,this.selectedSection);const s={route:`${T.visitTypes}`,method:"POST",token:`${this.cookie}`,body:{name:this.name,description:this.description,facility_sections:n}},{data:c,error:r,pending:o}=await D(s);c.value&&(w().$toast.success("Visit type created succcessfully!"),this.$emit("update",!0),this.handleClick()),r.value&&(console.error(r.value.data),w().$toast.error(`${q}`),this.handleClick())},handleClick(){this.open=!this.open},resetForm(){this.$formkit.reset("visitTypeForm")}}},X="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.9348%2010.7234C21.5943%2012.5872%2019.9621%2014%2018%2014C15.7909%2014%2014%2012.2091%2014%2010C14%209.73628%2014.0255%209.47852%2014.0742%209.22906C15.6003%2010.1551%2016.9291%2010.6771%2018.314%2010.8666C19.4897%2011.0276%2020.6533%2010.9406%2021.9348%2010.7234Z'%20fill='%23333333'/%3e%3cpath%20d='M14.9456%207.41715C15.6793%206.55032%2016.7754%206%2018%206C19.7608%206%2021.2559%207.13777%2021.7902%208.71824C20.5293%208.94283%2019.5397%209.01578%2018.5852%208.88512C17.5055%208.73733%2016.3934%208.31698%2014.9456%207.41715Z'%20fill='%23333333'/%3e%3cpath%20d='M14.5%2015C11.7643%2015%209.59795%2016.6697%208.20889%2018.6908C6.81023%2020.7259%206%2023.3668%206%2025.9716C6%2027.363%206.64476%2028.9774%207.10071%2029.9916C7.35359%2030.554%207.60461%2031.0501%207.7919%2031.405C7.87449%2031.5615%207.94554%2031.6921%208%2031.7907V40C8%2041.1046%208.89543%2042%2010%2042C11.1046%2042%2012%2041.1046%2012%2040V28.5439C12.2924%2026.1359%2012.9784%2023.954%2013.7632%2022.1696L14.42%2024.7265C14.6472%2025.6106%2015.4442%2026.2288%2016.3571%2026.2288H21.5C22.6046%2026.2288%2023.5%2025.3334%2023.5%2024.2288C23.5%2023.1242%2022.6046%2022.2288%2021.5%2022.2288H17.9083L16.4371%2016.5023C16.2099%2015.6182%2015.4129%2015%2014.5%2015Z'%20fill='%23333333'/%3e%3cpath%20d='M37%2018C39.2091%2018%2041%2016.2091%2041%2014C41%2011.7909%2039.2091%2010%2037%2010C34.7909%2010%2033%2011.7909%2033%2014C33%2016.2091%2034.7909%2018%2037%2018Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M31.2217%2018.0448C32.1441%2017.8462%2033.0798%2018.3191%2033.4668%2019.1796L36.1148%2025.0667H40C41.1046%2025.0667%2042%2025.9621%2042%2027.0667C42%2028.1712%2041.1046%2029.0667%2040%2029.0667H34.8214C34.0343%2029.0667%2033.3203%2028.605%2032.9974%2027.8871L31.5634%2024.6988C31.1058%2025.5415%2030.8045%2026.3165%2030.6142%2027.121C30.4146%2027.9646%2030.3262%2028.8857%2030.3418%2030.0076C30.6654%2030.1432%2031.0233%2030.278%2031.4063%2030.41C32.2896%2030.7144%2033.1994%2030.968%2033.9421%2031.1672C34.0674%2031.2009%2034.1922%2031.234%2034.3122%2031.266L34.3134%2031.2663C34.5332%2031.3247%2034.7373%2031.379%2034.8998%2031.424C35.0276%2031.4594%2035.1602%2031.4974%2035.2773%2031.5351L35.2859%2031.5378C35.3472%2031.5571%2035.6139%2031.641%2035.8613%2031.7916C36.183%2031.9874%2036.4074%2032.2549%2036.453%2032.3093L36.4588%2032.3162C36.5523%2032.4257%2036.6455%2032.5469%2036.7299%2032.6606C36.9017%2032.8923%2037.1055%2033.1866%2037.3204%2033.5061C37.7536%2034.15%2038.2833%2034.9727%2038.7914%2035.7738C39.3013%2036.5778%2039.7972%2037.3725%2040.1652%2037.9653C40.3493%2038.2619%2040.5017%2038.5086%2040.6082%2038.6812L40.7757%2038.9534L39.0714%2040C40.776%2038.9538%2040.7757%2038.9534%2040.7757%2038.9534C41.3535%2039.8948%2041.059%2041.1268%2040.1176%2041.7046C39.1762%2042.2823%2037.9447%2041.9876%2037.3669%2041.0462L37.2036%2040.7809C37.0988%2040.611%2036.9484%2040.3676%2036.7666%2040.0747C36.4026%2039.4883%2035.914%2038.7054%2035.4134%2037.9161C34.911%2037.1238%2034.4042%2036.3373%2034.0015%2035.7388C33.8671%2035.5389%2033.7497%2035.3682%2033.6516%2035.2297C33.5511%2035.2026%2033.4402%2035.1731%2033.3169%2035.1403C33.193%2035.1074%2033.0566%2035.0711%2032.9056%2035.0306C32.1428%2034.8259%2031.1232%2034.5432%2030.1032%2034.1918L30%2034.156V42H28V35H17V42H15V32H26.0334C25.9443%2031.9098%2025.8581%2031.815%2025.7761%2031.7156C25.3792%2031.2344%2025%2030.5401%2025%2029.6667C25%2024.9641%2026.268%2022.0449%2027.8129%2020.2701C28.573%2019.397%2029.3563%2018.8533%2029.9857%2018.522C30.299%2018.357%2030.5726%2018.2454%2030.7848%2018.1714C30.891%2018.1344%2030.9822%2018.1066%2031.0557%2018.0862C31.0925%2018.076%2031.125%2018.0676%2031.1527%2018.0608C31.1666%2018.0574%2031.1793%2018.0544%2031.1908%2018.0517L31.2072%2018.048L31.2147%2018.0464L31.2183%2018.0456C31.2183%2018.0456%2031.2217%2018.0448%2031.6429%2020L31.2217%2018.0448ZM34.0893%2035.3557C34.0893%2035.3557%2034.076%2035.3517%2034.0551%2035.3437C34.0798%2035.3517%2034.0893%2035.3557%2034.0893%2035.3557ZM33.4264%2034.9252C33.393%2034.8899%2033.388%2034.8797%2033.4166%2034.9132L33.4264%2034.9252Z'%20fill='%23333333'/%3e%3cpath%20d='M23.5%2012C24.3284%2012%2025%2010.8807%2025%209.5C25%208.11929%2024.3284%207%2023.5%207C22.6716%207%2022%208.11929%2022%209.5C22%2010.8807%2022.6716%2012%2023.5%2012Z'%20fill='%23333333'/%3e%3c/svg%3e",H=n=>(Q("data-v-d2c968b1"),n=n(),W(),n),_e=H(()=>t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)),fe={class:"fixed inset-0 overflow-y-auto"},he={class:"flex min-h-full items-center justify-center p-4 text-center"},ye={class:"border-b px-3 py-3 flex items-center justify-between"},ve=H(()=>t("img",{src:X,class:"w-8 h-8 mr-2"},null,-1)),ge={class:""},Ce={class:"mt-2 space-y-3 px-5 py-5"},xe={class:"w-full flex flex-col space-y-2"},be=H(()=>t("label",{class:"font-medium"},"Facility Sections",-1)),we={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ke(n,s,c,r,o,l){const _=R,m=i("TransitionChild"),y=i("DialogTitle"),v=i("XMarkIcon"),p=i("FormKit"),f=i("multi-select"),g=O,u=i("DialogPanel"),x=i("Dialog"),V=i("TransitionRoot");return h(),b("div",null,[t("div",null,[e(_,{click:l.handleClick,text:"New visit type",color:"primary",icon:o.addIcon},null,8,["click","icon"])]),e(V,{appear:"",show:o.open,as:"template"},{default:a(()=>[e(x,{as:"div",onClose:l.handleClick,class:"relative z-10"},{default:a(()=>[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[_e]),_:1}),t("div",fe,[t("div",he,[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",ye,[e(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[ve,k(" New visit type ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[e(v,{class:"w-5 h-5"})])]),t("div",ge,[e(p,{type:"form",id:"visitTypeForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:a(({value:C})=>[t("div",Ce,[e(p,{type:"text",label:"Name",modelValue:o.name,"onUpdate:modelValue":s[1]||(s[1]=d=>o.name=d),validation:"required|text"},null,8,["modelValue"]),e(p,{type:"textarea",label:"Description",modelValue:o.description,"onUpdate:modelValue":s[2]||(s[2]=d=>o.description=d),validation:"required|text"},null,8,["modelValue"]),t("div",xe,[be,e(f,{style:{"--ms-max-height":"none !important"},modelValue:o.selectedSection,"onUpdate:modelValue":s[3]||(s[3]=d=>o.selectedSection=d),options:o.sections.map(d=>d.name),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),t("div",we,[e(g,{type:"button",text:"Clear form",click:()=>{l.resetForm()}},null,8,["click"]),e(_,{click:()=>{},icon:o.saveIcon,text:"Save changes",color:"success",type:"submit",loading:o.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const Te=$(pe,[["render",ke],["__scopeId","data-v-d2c968b1"]]),De={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U},data(){return{viewIcon:ee,show:!1,editIcon:K}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},Ve=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),Ie={class:"fixed inset-0 overflow-y-auto"},$e={class:"flex min-h-full items-center justify-center p-4 text-center"},Se={class:"border-b px-3 py-3 flex items-center justify-between"},Pe=t("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),Fe={class:"mt-2 space-y-3 px-5 py-5"},Me={class:"w-full flex flex-col space-y-2"},Le=t("label",{class:"font-medium text-lg"},"Name",-1),Ue={class:"underline"},Ee={class:"w-full flex flex-col space-y-2"},qe=t("label",{class:"font-medium text-lg"},"Description",-1),Re={class:"underline"},je={class:"w-full flex flex-col space-y-2"},Ae=t("label",{class:"font-medium text-lg"},"Facility sections",-1);function Be(n,s,c,r,o,l){const _=R,m=i("TransitionChild"),y=i("DialogTitle"),v=i("XMarkIcon"),p=i("DialogPanel"),f=i("Dialog"),g=i("TransitionRoot");return h(),b("div",null,[e(_,{click:l.handleClick,color:"primary",text:"View",icon:o.viewIcon},null,8,["click","icon"]),e(g,{appear:"",show:o.show,as:"template"},{default:a(()=>[e(f,{as:"div",class:"relative z-10"},{default:a(()=>[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[Ve]),_:1}),t("div",Ie,[t("div",$e,[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",Se,[e(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[Pe,k(" View visit type ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...u)=>l.handleClick&&l.handleClick(...u))},[e(v,{class:"w-5 h-5"})])]),t("div",Fe,[t("div",Me,[Le,t("p",Ue,I(c.data.name),1)]),t("div",Ee,[qe,t("p",Re,I(c.data.description),1)]),t("div",je,[Ae,(h(!0),b(te,null,oe(c.data.facility_sections,(u,x)=>(h(),b("p",{class:"underline",key:x},I(u.name),1))),128))])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ne=$(De,[["render",Be]]),Oe={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U},data(){return{editIcon:K,show:!1,saveIcon:z,cookie:E("token"),loading:!1,sections:new Array,selectedSection:new Array}},props:{data:{type:Object,required:!0}},methods:{async loadSections(){this.handleClick(),this.selectedSection=this.data.facility_sections.map(r=>r.name);const n={route:`${T.sections}`,method:"GET",token:`${this.cookie}`},{data:s,error:c}=await D(n);s.value&&(this.sections=s.value.data),c.value&&console.error(c.value)},async submitForm(){this.loading=!0;let n=G(this.sections,this.selectedSection);const s={route:`${T.visitTypes}/${this.data.id}`,method:"PUT",token:`${this.cookie}`,body:{name:this.data.name,description:this.data.description,facility_sections:n}},{data:c,error:r,pending:o}=await D(s);this.loading=o,c.value&&(w().$toast.success("Visit type updated succcessfully!"),this.$emit("update",!0),this.handleClick(),this.loading=!1),r.value&&(console.error(r.value.data),w().$toast.error(`${q}`),this.handleClick(),this.loading=!1)},handleClick(){this.show=!this.show}}},Xe=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),He={class:"fixed inset-0 overflow-y-auto"},Ze={class:"flex min-h-full items-center justify-center p-4 text-center"},Ge={class:"border-b px-3 py-3 flex items-center justify-between"},Ke=t("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),ze={class:"mt-2 space-y-3 px-5 py-5"},Ye={class:"w-full flex flex-col space-y-2"},Je=t("label",{class:"font-medium"},"Facility Sections",-1),Qe={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function We(n,s,c,r,o,l){const _=R,m=i("TransitionChild"),y=i("DialogTitle"),v=i("XMarkIcon"),p=i("FormKit"),f=i("multi-select"),g=O,u=i("DialogPanel"),x=i("Dialog"),V=i("TransitionRoot");return h(),b("div",null,[e(_,{click:l.loadSections,text:"Edit",icon:o.editIcon,color:"success"},null,8,["click","icon"]),e(V,{appear:"",show:o.show,as:"template"},{default:a(()=>[e(x,{as:"div",class:"relative z-10"},{default:a(()=>[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[Xe]),_:1}),t("div",He,[t("div",Ze,[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",Ge,[e(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[Ke,k(" Edit visit type ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[e(v,{class:"w-5 h-5"})])]),e(p,{type:"form",id:"editForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:a(({value:C})=>[t("div",ze,[e(p,{type:"text",label:"Name",modelValue:c.data.name,"onUpdate:modelValue":s[1]||(s[1]=d=>c.data.name=d),validation:"required|text"},null,8,["modelValue"]),e(p,{type:"textarea",label:"Description",modelValue:c.data.description,"onUpdate:modelValue":s[2]||(s[2]=d=>c.data.description=d),validation:"required|text"},null,8,["modelValue"]),t("div",Ye,[Je,e(f,{style:{"--ms-max-height":"none !important"},modelValue:o.selectedSection,"onUpdate:modelValue":s[3]||(s[3]=d=>o.selectedSection=d),options:o.sections.map(d=>d.name),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),t("div",Qe,[e(g,{text:"Clear form"}),e(_,{click:()=>{},icon:o.saveIcon,text:"Save changes",color:"success",type:"submit",loading:o.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const et=$(Oe,[["render",We]]),tt={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U,ExclamationTriangleIcon:se},data(){return{show:!1,deleteIcon:Y,loading:!1,cookie:E("token"),reason:""}},props:{data:{type:Object,required:!0}},methods:{async deleteData(n){this.loading=!0;let s={route:`${T.visitTypes}/${n}`,method:"DELETE",token:`${this.cookie}`,body:{retired_reason:this.reason}};const{pending:c,error:r,data:o}=await D(s);o.value&&(this.handleClick(),w().$toast.success("Visit type deleted successfully!"),this.loading=!1,this.$emit("update",!0)),r.value&&(console.error(r.value),w().$toast.error(q),this.loading=!1)},handleClick(){this.show=!this.show}}},ot=t("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),st={class:"fixed inset-0 overflow-y-auto"},nt={class:"flex min-h-full items-center justify-center p-4 text-center"},it={class:"border-b px-3 py-3 flex items-center justify-between"},at={class:"mt-2 space-y-3 px-5"},lt={class:"rounded px-2 py-2"},ct={class:"font-semibold text-red-500"},rt={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function dt(n,s,c,r,o,l){const _=R,m=i("TransitionChild"),y=i("ExclamationTriangleIcon"),v=i("DialogTitle"),p=i("XMarkIcon"),f=i("FormKit"),g=O,u=i("DialogPanel"),x=i("Dialog"),V=i("TransitionRoot");return h(),b("div",null,[e(_,{click:l.handleClick,color:"error",text:"Delete",icon:o.deleteIcon},null,8,["click","icon"]),e(V,{appear:"",show:o.show,as:"template"},{default:a(()=>[e(x,{as:"div",class:"relative z-10"},{default:a(()=>[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[ot]),_:1}),t("div",st,[t("div",nt,[e(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:a(()=>[e(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:a(()=>[t("div",it,[e(v,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:a(()=>[e(y,{class:"h-5 w-5 mr-2"}),k(" Confirm delete ")]),_:1}),t("button",{onClick:s[0]||(s[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[e(p,{class:"w-5 h-5"})])]),e(f,{id:"deleteForm",type:"form","submit-label":"Update",onSubmit:s[2]||(s[2]=C=>l.deleteData(c.data.id)),actions:!1},{default:a(({value:C})=>[t("div",at,[t("div",lt,[k(" Do you really want to delete "),t("span",ct,I(c.data.name),1),k("? Note that once this action is completed, it can not be undone ")]),e(f,{type:"textarea",label:"Reason",validation:"required",modelValue:o.reason,"onUpdate:modelValue":s[1]||(s[1]=d=>o.reason=d)},null,8,["modelValue"])]),t("div",rt,[e(g,{click:()=>{},type:"button",text:"Clear form"}),e(_,{loading:o.loading,type:"submit",click:()=>{},color:"success",icon:o.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const ut=$(tt,[["render",dt]]),mt={components:{MagnifyingGlassIcon:ue},setup(){re({title:`${de.name.toUpperCase()} - Visit Types`})},data(){return{header:"Visit Types",pages:[{name:"Home",link:"/home"},{name:"Lab Configuration",link:"#"}],addIcon:Z,deleteIcon:Y,viewIcon:me,headers:[{text:"ID",value:"id",sortable:!0},{text:"NAME",value:"name",sortable:!0},{text:"DESCRIPTION",value:"description",sortable:!0},{text:"ACTIONS",value:"actions"}],visitTypes:new Array,loading:!1,cookie:E("token"),serverItemsLength:0,serverOptions:{page:1,rowsPerPage:10,sortBy:"name"},searchField:"name",search:"",searchValue:""}},created(){this.init()},methods:{async init(){this.loading=!0;const{page:n,rowsPerPage:s}=this.serverOptions,c={route:`${T.visitTypes}?page=${n}&per_page=${s}&search=${this.search}`,method:"GET",token:`${this.cookie}`};let{data:r,error:o,pending:l}=await D(c);this.loading=l,r.value&&(this.visitTypes=r.value.data,this.serverItemsLength=r.value.meta.total_count),o.value&&(console.log(o.value.data),w().$toast.error(`${q}`))},updateSearch(n){this.searchValue=n,this.search=n},updateVisitTypes(n){n&&this.init()}}},pt={class:"py-5 px-5"},_t={class:"flex items-center justify-between py-5"},ft={class:"text-2xl font-semibold"},ht={class:"flex justify-end w-full px-2 py-2 mb-2"},yt={class:"py-2 flex items-center space-x-2"};function vt(n,s,c,r,o,l){const _=J,m=Te,y=le,v=Ne,p=et,f=ut,g=ce;return h(),b("div",pt,[e(_,{pages:o.pages},null,8,["pages"]),t("div",_t,[t("h3",ft,I(o.header),1),("usePermissions"in n?n.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(m,{key:0,onUpdate:l.updateVisitTypes},null,8,["onUpdate"])):B("",!0)]),t("div",ht,[("usePermissions"in n?n.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(y,{key:0,search:o.search,"onUpdate:search":s[0]||(s[0]=u=>o.search=u),onUpdate:l.updateSearch},null,8,["search","onUpdate"])):B("",!0)]),("usePermissions"in n?n.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(g,{key:0,headers:o.headers,data:o.visitTypes,loading:o.loading,"search-field":o.searchField,"search-value":o.searchValue},{actions:a(({item:u})=>[t("div",yt,[e(v,{data:u},null,8,["data"]),e(p,{data:u,onUpdate:l.updateVisitTypes},null,8,["data","onUpdate"]),e(f,{data:u,onUpdate:l.updateVisitTypes},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading","search-field","search-value"])):B("",!0)])}const Rt=$(mt,[["render",vt]]);export{Rt as default};
