import{_ as E}from"./Bz0K0IGU.js";import{_ as z}from"./DC2L4iA4.js";import{d as L,r as u,b as y,e as w,f as s,h as a,y as n,Y as F,p as C,g as e,G as R,V as U,j as N,q as T,t as r,J as D,C as A,S as H,F as G,_ as I,x as O,D as K,l as M,m as P,u as j,c as Y,o as J,A as Q,H as W}from"./Mfiulbk9.js";import{_ as V}from"./Cl1Pa16j.js";import{r as X}from"./H02xEbv4.js";import{_ as Z}from"./DyzbuwC8.js";import{r as ee}from"./Dj1LwFsw.js";import{r as te}from"./DFEJ8LNl.js";import{_ as se}from"./MEi_HMIO.js";import{P as ae}from"./Cym2IAMG.js";import{u as oe}from"./hBIwNBsI.js";import{u as le}from"./CqIspz_h.js";import"./CWIC1ZeM.js";import"./B-Vd1x1K.js";const ne={class:"fixed inset-0 overflow-y-auto"},ie={class:"flex min-h-full items-center justify-center p-4 text-center"},re={class:"border-b px-3 py-3 flex items-center justify-between"},de={class:"space-y-3 px-5 py-5"},ce={class:"w-full flex flex-col space-y-4"},me={class:"w-full flex flex-col space-y-1"},pe={class:"text-base"},fe={class:"grid grid-cols-2 gap-4"},ue={class:"flex flex-col space-y-1"},_e={class:"text-gray-600"},ve={class:"flex flex-col space-y-1"},xe={class:"text-gray-600"},ye={class:"flex flex-col space-y-1"},be={class:"text-gray-600"},ge={class:"flex flex-col space-y-1"},he={class:"text-gray-600"},we={class:"flex flex-col space-y-1"},Ce={class:"text-gray-600"},Ne={class:"flex flex-col space-y-1"},$e={class:"text-gray-600"},Se={class:"w-full flex flex-col space-y-1"},ke=["innerHTML"],Le={class:""},Ve={class:"items-start flex flex-col space-y-1"},Be={key:0,class:"w-full flex flex-col space-y-1 border-t pt-3"},De={class:"grid grid-cols-2 gap-4"},je={class:"flex flex-col space-y-1"},Fe={class:"text-gray-600"},Re={class:"flex flex-col space-y-1"},Ue={class:"text-gray-600"},Te={class:"col-span-2 flex flex-col space-y-1"},Ae={class:"text-gray-600"},He=L({__name:"index",props:{data:{}},setup($){const m=u(!1),p=X,d=()=>{m.value=!m.value};return(o,t)=>{const x=I;return y(),w(G,null,[s(x,{click:d,color:"primary",text:"View",icon:a(p)},null,8,["icon"]),s(a(H),{appear:"",show:m.value,as:"template"},{default:n(()=>[s(a(F),{as:"div",class:"relative z-10"},{default:n(()=>[s(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>t[0]||(t[0]=[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-25"},null,-1)])),_:1}),e("div",ne,[e("div",ie,[s(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[s(a(R),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",re,[s(a(U),{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>t[1]||(t[1]=[e("img",{src:V,class:"w-8 h-8 mr-2",alt:"hospital-icon"},null,-1),N(" View Laboratory Section ")])),_:1}),e("button",{onClick:d},[s(a(T),{class:"w-5 h-5"})])]),e("div",de,[e("div",ce,[e("div",me,[t[2]||(t[2]=e("label",{class:"font-semibold text-lg"},"Name",-1)),e("p",pe,r(o.data.name),1)]),e("div",fe,[e("div",ue,[t[3]||(t[3]=e("label",{class:"font-semibold"},"NLIMS Code",-1)),e("p",_e,r(o.data.nlims_code||"Not specified"),1)]),e("div",ve,[t[4]||(t[4]=e("label",{class:"font-semibold"},"MOH Code",-1)),e("p",xe,r(o.data.moh_code||"Not specified"),1)]),e("div",ye,[t[5]||(t[5]=e("label",{class:"font-semibold"},"LOINC Code",-1)),e("p",be,r(o.data.loinc_code||"Not specified"),1)]),e("div",ge,[t[6]||(t[6]=e("label",{class:"font-semibold"},"Scientific Name",-1)),e("p",he,r(o.data.scientific_name||"Not specified"),1)]),e("div",we,[t[7]||(t[7]=e("label",{class:"font-semibold"},"Preferred Name",-1)),e("p",Ce,r(o.data.preferred_name||"Not specified"),1)]),e("div",Ne,[t[8]||(t[8]=e("label",{class:"font-semibold"},"Short Name",-1)),e("p",$e,r(o.data.short_name||"Not specified"),1)])]),e("div",Se,[t[9]||(t[9]=e("label",{class:"font-semibold"},"Description",-1)),e("div",{class:"text-gray-700",innerHTML:o.data.description||"No description available"},null,8,ke)]),e("div",Le,[e("div",Ve,[t[10]||(t[10]=e("label",{class:"font-semibold"},"Status",-1)),e("div",{class:D(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",o.data.retired?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},[e("div",{class:D(["w-2 h-2 rounded-full text-sm mr-2 border",o.data.retired?"bg-red-600 border-red-400":"bg-green-600 border-green-400"])},null,2),N(" "+r(o.data.retired?"Retired":"Active"),1)],2)])]),o.data.retired?(y(),w("div",Be,[t[14]||(t[14]=e("label",{class:"font-semibold text-red-600"},"Retirement Information",-1)),e("div",De,[e("div",je,[t[11]||(t[11]=e("label",{class:"font-semibold"},"Retired By",-1)),e("p",Fe,r(o.data.retired_by||"Not specified"),1)]),e("div",Re,[t[12]||(t[12]=e("label",{class:"font-semibold"},"Retired Date",-1)),e("p",Ue,r(o.data.retired_date?new Date(o.data.retired_date).toLocaleString():"Not specified"),1)]),e("div",Te,[t[13]||(t[13]=e("label",{class:"font-semibold"},"Retired Reason",-1)),e("p",Ae,r(o.data.retired_reason||"No reason provided"),1)])])])):A("",!0)])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])],64)}}}),Ie={class:"fixed inset-0 overflow-y-auto"},Me={class:"flex min-h-full items-center justify-center p-4 text-center"},Pe={class:"border-b px-3 py-3 flex items-center justify-between"},qe={class:"mt-2 space-y-3 px-5"},Ee={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"},ze=L({__name:"index",props:{data:{}},emits:["update"],setup($,{emit:m}){const p=$,d=m,o=ee,t=u(!1),x=te,f=u(!1),_=()=>{t.value=!t.value},S=()=>{K("submitForm")},b=async()=>{f.value=!0;const g={route:`${M.departments}/${p.data.id}`,method:"PUT",body:{preferred_name:p.data.preferred_name}},{data:l,error:i,pending:c}=await P(g);f.value=c,l.value&&(_(),j().$toast.success("Laboratory section updated successfully!"),f.value=!1,d("update",!0)),i.value&&(_(),j().$toast.error("An error occurred while updating the laboratory section."),console.error(i.value),f.value=!1)};return(g,l)=>{const i=I,c=O("FormKit"),v=Z;return y(),w("div",null,[s(i,{click:_,text:"Edit",color:"success",icon:a(o)},null,8,["icon"]),s(a(H),{appear:"",show:a(t),as:"template"},{default:n(()=>[s(a(F),{as:"div",class:"relative z-10"},{default:n(()=>[s(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>l[1]||(l[1]=[e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),e("div",Ie,[e("div",Me,[s(a(C),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[s(a(R),{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:n(()=>[e("div",Pe,[s(a(U),{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:n(()=>l[2]||(l[2]=[e("img",{src:V,class:"w-8 h-8 mr-2",alt:"hospital-icon"},null,-1),N(" Edit Laboratory Section ")])),_:1}),e("button",{onClick:_},[s(a(T),{class:"w-5 h-5"})])]),s(c,{id:"submitForm",type:"form","submit-label":"Update",onSubmit:b,actions:!1},{default:n(({value:B})=>[e("div",qe,[s(c,{type:"text",label:"Preferred name",validation:"required",modelValue:p.data.preferred_name,"onUpdate:modelValue":l[0]||(l[0]=k=>p.data.preferred_name=k)},null,8,["modelValue"])]),e("div",Ee,[s(v,{text:"Clear form",type:"button",click:S}),s(i,{loading:a(f),type:"submit",click:()=>{},color:"success",icon:a(x),text:"Save changes"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}}),Ge={class:"py-5 px-5"},Oe={class:"flex justify-end w-full px-2 py-2 mb-2"},Ke={class:"py-2 flex items-center space-x-2"},Ye="Laboratory Sections",dt=L({__name:"lab-sections",setup($){oe({title:`${ae.name.toUpperCase()} - Laboratory Sections`});const m=u([]),p=[{name:"Home",link:"/home"},{name:"Test Catalog",link:"#"}],d=u(!1),o=u(""),t=u(""),x=[{text:"id",value:"id",sortable:!0},{text:"name",value:"name",sortable:!0},{text:"preferred name",value:"preferred_name",sortable:!0},{text:"nlims code",value:"nlims_code",sortable:!1,html:!0},{text:"actions",value:"actions",sortable:!1}],{can:f}=le(),_=Y(()=>f.manage("test_catalog")),S=l=>{t.value=l,o.value=l},b=async()=>{d.value=!0;const l={route:M.departments,method:"GET"},{pending:i,error:c,data:v}=await P(l);d.value=i,v.value&&(m.value=v.value,d.value=!1),c.value&&(console.error(c.value),d.value=!1)},g=async l=>{l&&await b()};return J(b),(l,i)=>{const c=E,v=z,B=He,k=ze,q=se;return y(),w("div",Ge,[s(c,{pages:p}),e("div",{class:"flex items-center justify-between py-5"},[e("div",{class:"text-2xl font-semibold flex items-center uppercase"},[i[1]||(i[1]=e("img",{src:V,alt:"report-icon",class:"w-8 h-8 mr-2"},null,-1)),N(" "+r(Ye))])]),e("div",Oe,[s(v,{search:a(o),"onUpdate:search":i[0]||(i[0]=h=>Q(o)?o.value=h:null),onUpdate:S},null,8,["search"])]),a(_)?(y(),W(q,{key:0,headers:x,data:a(m),loading:a(d),"search-value":a(t)},{actions:n(({item:h})=>[e("div",Ke,[s(B,{data:h},null,8,["data"]),s(k,{data:h,onUpdate:g},null,8,["data"])])]),_:1},8,["data","loading","search-value"])):A("",!0)])}}});export{dt as default};
