import{_ as Y}from"./MtWVAv6l.js";import{S,p as P,Y as F,G as M,V as L,q as U,s as H,a as E,l as T,m as D,a1 as Z,u as w,E as q,x as $,y as n,b as h,e as b,g as o,f as t,z as i,j as k,_ as R,A as J,B as G,t as I,F as Q,k as W,D as ee,h as j,L as A,K as B}from"./9XSeHgHf.js";import{_ as O}from"./Bmo7o8rf.js";import{r as te}from"./BgM5C3cW.js";import{r as oe}from"./DOMiVK0D.js";import{r as K}from"./B2C_3AlM.js";import{r as se}from"./DRMhoSW-.js";import{_ as ne}from"./Cy-qQ8a7.js";import{r as z}from"./DAicOlD9.js";import{_ as ie}from"./BJYUGtA6.js";import{u as N}from"./DBMh_PhB.js";import{P as ae}from"./DKEHjzpY.js";import{u as le}from"./CrWhNh3r.js";import{r as re}from"./XSM5iu41.js";import{r as ce}from"./CqkdjpEe.js";import"./GyzHslbn.js";import"./IZqDdjE-.js";import"./BBMtjc1y.js";import"./Bg1Zk0ya.js";import"./DMdPpWe5.js";const de={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U,UserIcon:te},data(){return{open:!1,driverIcon:oe,addIcon:H,saveIcon:K,clearIcon:se,name:"",description:"",loading:!1,cookie:E("token"),sections:new Array,selectedSection:new Array}},created(){this.loadSections()},methods:{async loadSections(){const a={route:`${T.sections}`,method:"GET",token:`${this.cookie}`},{data:e,error:r}=await D(a);e.value&&(this.sections=e.value.data),r.value&&console.error(r.value)},async submitForm(){this.loading=!0;let a=Z(this.sections,this.selectedSection);const e={route:`${T.visitTypes}`,method:"POST",token:`${this.cookie}`,body:{name:this.name,description:this.description,facility_sections:a}},{data:r,error:c,pending:s}=await D(e);r.value&&(w().$toast.success("Visit type created succcessfully!"),this.$emit("update",!0),this.handleClick()),c.value&&(console.error(c.value.data),w().$toast.error(`${q}`),this.handleClick())},handleClick(){this.open=!this.open},resetForm(){this.$formkit.reset("visitTypeForm")}}},X="data:image/svg+xml,%3csvg%20width='48'%20height='48'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M21.9348%2010.7234C21.5943%2012.5872%2019.9621%2014%2018%2014C15.7909%2014%2014%2012.2091%2014%2010C14%209.73628%2014.0255%209.47852%2014.0742%209.22906C15.6003%2010.1551%2016.9291%2010.6771%2018.314%2010.8666C19.4897%2011.0276%2020.6533%2010.9406%2021.9348%2010.7234Z'%20fill='%23333333'/%3e%3cpath%20d='M14.9456%207.41715C15.6793%206.55032%2016.7754%206%2018%206C19.7608%206%2021.2559%207.13777%2021.7902%208.71824C20.5293%208.94283%2019.5397%209.01578%2018.5852%208.88512C17.5055%208.73733%2016.3934%208.31698%2014.9456%207.41715Z'%20fill='%23333333'/%3e%3cpath%20d='M14.5%2015C11.7643%2015%209.59795%2016.6697%208.20889%2018.6908C6.81023%2020.7259%206%2023.3668%206%2025.9716C6%2027.363%206.64476%2028.9774%207.10071%2029.9916C7.35359%2030.554%207.60461%2031.0501%207.7919%2031.405C7.87449%2031.5615%207.94554%2031.6921%208%2031.7907V40C8%2041.1046%208.89543%2042%2010%2042C11.1046%2042%2012%2041.1046%2012%2040V28.5439C12.2924%2026.1359%2012.9784%2023.954%2013.7632%2022.1696L14.42%2024.7265C14.6472%2025.6106%2015.4442%2026.2288%2016.3571%2026.2288H21.5C22.6046%2026.2288%2023.5%2025.3334%2023.5%2024.2288C23.5%2023.1242%2022.6046%2022.2288%2021.5%2022.2288H17.9083L16.4371%2016.5023C16.2099%2015.6182%2015.4129%2015%2014.5%2015Z'%20fill='%23333333'/%3e%3cpath%20d='M37%2018C39.2091%2018%2041%2016.2091%2041%2014C41%2011.7909%2039.2091%2010%2037%2010C34.7909%2010%2033%2011.7909%2033%2014C33%2016.2091%2034.7909%2018%2037%2018Z'%20fill='%23333333'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M31.2217%2018.0448C32.1441%2017.8462%2033.0798%2018.3191%2033.4668%2019.1796L36.1148%2025.0667H40C41.1046%2025.0667%2042%2025.9621%2042%2027.0667C42%2028.1712%2041.1046%2029.0667%2040%2029.0667H34.8214C34.0343%2029.0667%2033.3203%2028.605%2032.9974%2027.8871L31.5634%2024.6988C31.1058%2025.5415%2030.8045%2026.3165%2030.6142%2027.121C30.4146%2027.9646%2030.3262%2028.8857%2030.3418%2030.0076C30.6654%2030.1432%2031.0233%2030.278%2031.4063%2030.41C32.2896%2030.7144%2033.1994%2030.968%2033.9421%2031.1672C34.0674%2031.2009%2034.1922%2031.234%2034.3122%2031.266L34.3134%2031.2663C34.5332%2031.3247%2034.7373%2031.379%2034.8998%2031.424C35.0276%2031.4594%2035.1602%2031.4974%2035.2773%2031.5351L35.2859%2031.5378C35.3472%2031.5571%2035.6139%2031.641%2035.8613%2031.7916C36.183%2031.9874%2036.4074%2032.2549%2036.453%2032.3093L36.4588%2032.3162C36.5523%2032.4257%2036.6455%2032.5469%2036.7299%2032.6606C36.9017%2032.8923%2037.1055%2033.1866%2037.3204%2033.5061C37.7536%2034.15%2038.2833%2034.9727%2038.7914%2035.7738C39.3013%2036.5778%2039.7972%2037.3725%2040.1652%2037.9653C40.3493%2038.2619%2040.5017%2038.5086%2040.6082%2038.6812L40.7757%2038.9534L39.0714%2040C40.776%2038.9538%2040.7757%2038.9534%2040.7757%2038.9534C41.3535%2039.8948%2041.059%2041.1268%2040.1176%2041.7046C39.1762%2042.2823%2037.9447%2041.9876%2037.3669%2041.0462L37.2036%2040.7809C37.0988%2040.611%2036.9484%2040.3676%2036.7666%2040.0747C36.4026%2039.4883%2035.914%2038.7054%2035.4134%2037.9161C34.911%2037.1238%2034.4042%2036.3373%2034.0015%2035.7388C33.8671%2035.5389%2033.7497%2035.3682%2033.6516%2035.2297C33.5511%2035.2026%2033.4402%2035.1731%2033.3169%2035.1403C33.193%2035.1074%2033.0566%2035.0711%2032.9056%2035.0306C32.1428%2034.8259%2031.1232%2034.5432%2030.1032%2034.1918L30%2034.156V42H28V35H17V42H15V32H26.0334C25.9443%2031.9098%2025.8581%2031.815%2025.7761%2031.7156C25.3792%2031.2344%2025%2030.5401%2025%2029.6667C25%2024.9641%2026.268%2022.0449%2027.8129%2020.2701C28.573%2019.397%2029.3563%2018.8533%2029.9857%2018.522C30.299%2018.357%2030.5726%2018.2454%2030.7848%2018.1714C30.891%2018.1344%2030.9822%2018.1066%2031.0557%2018.0862C31.0925%2018.076%2031.125%2018.0676%2031.1527%2018.0608C31.1666%2018.0574%2031.1793%2018.0544%2031.1908%2018.0517L31.2072%2018.048L31.2147%2018.0464L31.2183%2018.0456C31.2183%2018.0456%2031.2217%2018.0448%2031.6429%2020L31.2217%2018.0448ZM34.0893%2035.3557C34.0893%2035.3557%2034.076%2035.3517%2034.0551%2035.3437C34.0798%2035.3517%2034.0893%2035.3557%2034.0893%2035.3557ZM33.4264%2034.9252C33.393%2034.8899%2033.388%2034.8797%2033.4166%2034.9132L33.4264%2034.9252Z'%20fill='%23333333'/%3e%3cpath%20d='M23.5%2012C24.3284%2012%2025%2010.8807%2025%209.5C25%208.11929%2024.3284%207%2023.5%207C22.6716%207%2022%208.11929%2022%209.5C22%2010.8807%2022.6716%2012%2023.5%2012Z'%20fill='%23333333'/%3e%3c/svg%3e",ue={class:"fixed inset-0 overflow-y-auto"},me={class:"flex min-h-full items-center justify-center p-4 text-center"},pe={class:"border-b px-3 py-3 flex items-center justify-between"},fe={class:""},_e={class:"mt-2 space-y-3 px-5 py-5"},he={class:"w-full flex flex-col space-y-2"},ye={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ve(a,e,r,c,s,l){const f=R,m=n("TransitionChild"),y=n("DialogTitle"),v=n("XMarkIcon"),p=n("FormKit"),_=n("multi-select"),g=O,u=n("DialogPanel"),x=n("Dialog"),V=n("TransitionRoot");return h(),b("div",null,[o("div",null,[t(f,{click:l.handleClick,text:"New visit type",color:"primary",icon:s.addIcon},null,8,["click","icon"])]),t(V,{appear:"",show:s.open,as:"template"},{default:i(()=>[t(x,{as:"div",onClose:l.handleClick,class:"relative z-10"},{default:i(()=>[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>e[4]||(e[4]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",ue,[o("div",me,[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[t(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",pe,[t(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>e[5]||(e[5]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" New visit type ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[t(v,{class:"w-5 h-5"})])]),o("div",fe,[t(p,{type:"form",id:"visitTypeForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:i(({value:C})=>[o("div",_e,[t(p,{type:"text",label:"Name",modelValue:s.name,"onUpdate:modelValue":e[1]||(e[1]=d=>s.name=d),validation:"required|text"},null,8,["modelValue"]),t(p,{type:"textarea",label:"Description",modelValue:s.description,"onUpdate:modelValue":e[2]||(e[2]=d=>s.description=d),validation:"required|text"},null,8,["modelValue"]),o("div",he,[e[6]||(e[6]=o("label",{class:"font-medium"},"Facility Sections",-1)),t(_,{style:{"--ms-max-height":"none !important"},modelValue:s.selectedSection,"onUpdate:modelValue":e[3]||(e[3]=d=>s.selectedSection=d),options:s.sections.map(d=>d.name),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),o("div",ye,[t(g,{type:"button",text:"Clear form",click:()=>{l.resetForm()}},null,8,["click"]),t(f,{click:()=>{},icon:s.saveIcon,text:"Save changes",color:"success",type:"submit",loading:s.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"])])}const ge=$(de,[["render",ve],["__scopeId","data-v-d2c968b1"]]),Ce={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U},data(){return{viewIcon:J,show:!1,editIcon:G}},props:{data:{type:Object,required:!0}},methods:{handleClick(){this.show=!this.show}}},xe={class:"fixed inset-0 overflow-y-auto"},be={class:"flex min-h-full items-center justify-center p-4 text-center"},we={class:"border-b px-3 py-3 flex items-center justify-between"},ke={class:"mt-2 space-y-3 px-5 py-5"},Te={class:"w-full flex flex-col space-y-2"},De={class:"underline"},Ve={class:"w-full flex flex-col space-y-2"},Ie={class:"underline"},$e={class:"w-full flex flex-col space-y-2"};function Se(a,e,r,c,s,l){const f=R,m=n("TransitionChild"),y=n("DialogTitle"),v=n("XMarkIcon"),p=n("DialogPanel"),_=n("Dialog"),g=n("TransitionRoot");return h(),b("div",null,[t(f,{click:l.handleClick,color:"primary",text:"View",icon:s.viewIcon},null,8,["click","icon"]),t(g,{appear:"",show:s.show,as:"template"},{default:i(()=>[t(_,{as:"div",class:"relative z-10"},{default:i(()=>[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>e[1]||(e[1]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",xe,[o("div",be,[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[t(p,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",we,[t(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>e[2]||(e[2]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" View visit type ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...u)=>l.handleClick&&l.handleClick(...u))},[t(v,{class:"w-5 h-5"})])]),o("div",ke,[o("div",Te,[e[3]||(e[3]=o("label",{class:"font-medium text-lg"},"Name",-1)),o("p",De,I(r.data.name),1)]),o("div",Ve,[e[4]||(e[4]=o("label",{class:"font-medium text-lg"},"Description",-1)),o("p",Ie,I(r.data.description),1)]),o("div",$e,[e[5]||(e[5]=o("label",{class:"font-medium text-lg"},"Facility sections",-1)),(h(!0),b(Q,null,W(r.data.facility_sections,(u,x)=>(h(),b("p",{class:"underline",key:x},I(u.name),1))),128))])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Pe=$(Ce,[["render",Se]]),Fe={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U},data(){return{editIcon:G,show:!1,saveIcon:K,cookie:E("token"),loading:!1,sections:new Array,selectedSection:new Array}},props:{data:{type:Object,required:!0}},methods:{async loadSections(){this.handleClick(),this.selectedSection=this.data.facility_sections.map(c=>c.name);const a={route:`${T.sections}`,method:"GET",token:`${this.cookie}`},{data:e,error:r}=await D(a);e.value&&(this.sections=e.value.data),r.value&&console.error(r.value)},async submitForm(){this.loading=!0;let a=Z(this.sections,this.selectedSection);const e={route:`${T.visitTypes}/${this.data.id}`,method:"PUT",token:`${this.cookie}`,body:{name:this.data.name,description:this.data.description,facility_sections:a}},{data:r,error:c,pending:s}=await D(e);this.loading=s,r.value&&(w().$toast.success("Visit type updated succcessfully!"),this.$emit("update",!0),this.handleClick(),this.loading=!1),c.value&&(console.error(c.value.data),w().$toast.error(`${q}`),this.handleClick(),this.loading=!1)},handleClick(){this.show=!this.show}}},Me={class:"fixed inset-0 overflow-y-auto"},Le={class:"flex min-h-full items-center justify-center p-4 text-center"},Ue={class:"border-b px-3 py-3 flex items-center justify-between"},Ee={class:"mt-2 space-y-3 px-5 py-5"},qe={class:"w-full flex flex-col space-y-2"},Re={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function je(a,e,r,c,s,l){const f=R,m=n("TransitionChild"),y=n("DialogTitle"),v=n("XMarkIcon"),p=n("FormKit"),_=n("multi-select"),g=O,u=n("DialogPanel"),x=n("Dialog"),V=n("TransitionRoot");return h(),b("div",null,[t(f,{click:l.loadSections,text:"Edit",icon:s.editIcon,color:"success"},null,8,["click","icon"]),t(V,{appear:"",show:s.show,as:"template"},{default:i(()=>[t(x,{as:"div",class:"relative z-10"},{default:i(()=>[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>e[4]||(e[4]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Me,[o("div",Le,[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[t(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",Ue,[t(y,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>e[5]||(e[5]=[o("img",{src:X,class:"w-8 h-8 mr-2"},null,-1),k(" Edit visit type ")])),_:1}),o("button",{onClick:e[0]||(e[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[t(v,{class:"w-5 h-5"})])]),t(p,{type:"form",id:"editForm","submit-label":"Update",onSubmit:l.submitForm,actions:!1},{default:i(({value:C})=>[o("div",Ee,[t(p,{type:"text",label:"Name",modelValue:r.data.name,"onUpdate:modelValue":e[1]||(e[1]=d=>r.data.name=d),validation:"required|text"},null,8,["modelValue"]),t(p,{type:"textarea",label:"Description",modelValue:r.data.description,"onUpdate:modelValue":e[2]||(e[2]=d=>r.data.description=d),validation:"required|text"},null,8,["modelValue"]),o("div",qe,[e[6]||(e[6]=o("label",{class:"font-medium"},"Facility Sections",-1)),t(_,{style:{"--ms-max-height":"none !important"},modelValue:s.selectedSection,"onUpdate:modelValue":e[3]||(e[3]=d=>s.selectedSection=d),options:s.sections.map(d=>d.name),mode:"tags",searchable:!0,required:!0,clear:"",class:"focus:ring-none fcus:border-none focus:outline-none multiselect-green"},null,8,["modelValue","options"])])]),o("div",Re,[t(g,{text:"Clear form"}),t(f,{click:()=>{},icon:s.saveIcon,text:"Save changes",color:"success",type:"submit",loading:s.loading},null,8,["icon","loading"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ae=$(Fe,[["render",je]]),Be={components:{TransitionRoot:S,TransitionChild:P,Dialog:F,DialogPanel:M,DialogTitle:L,XMarkIcon:U,ExclamationTriangleIcon:ee},data(){return{show:!1,deleteIcon:z,loading:!1,cookie:E("token"),reason:""}},props:{data:{type:Object,required:!0}},methods:{async deleteData(a){this.loading=!0;let e={route:`${T.visitTypes}/${a}`,method:"DELETE",token:`${this.cookie}`,body:{retired_reason:this.reason}};const{pending:r,error:c,data:s}=await D(e);s.value&&(this.handleClick(),w().$toast.success("Visit type deleted successfully!"),this.loading=!1,this.$emit("update",!0)),c.value&&(console.error(c.value),w().$toast.error(q),this.loading=!1)},handleClick(){this.show=!this.show}}},Ne={class:"fixed inset-0 overflow-y-auto"},Oe={class:"flex min-h-full items-center justify-center p-4 text-center"},Xe={class:"border-b px-3 py-3 flex items-center justify-between"},He={class:"mt-2 space-y-3 px-5"},Ze={class:"rounded px-2 py-2"},Ge={class:"font-semibold text-red-500"},Ke={class:"mt-4 justify-end flex items-center space-x-3 px-3 py-2 border-t"};function ze(a,e,r,c,s,l){const f=R,m=n("TransitionChild"),y=n("ExclamationTriangleIcon"),v=n("DialogTitle"),p=n("XMarkIcon"),_=n("FormKit"),g=O,u=n("DialogPanel"),x=n("Dialog"),V=n("TransitionRoot");return h(),b("div",null,[t(f,{click:l.handleClick,color:"error",text:"Delete",icon:s.deleteIcon},null,8,["click","icon"]),t(V,{appear:"",show:s.show,as:"template"},{default:i(()=>[t(x,{as:"div",class:"relative z-10"},{default:i(()=>[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:i(()=>e[3]||(e[3]=[o("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),o("div",Ne,[o("div",Oe,[t(m,{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:i(()=>[t(u,{class:"w-full max-w-3xl transform overflow-hidden rounded bg-white text-left align-middle shadow-xl transition-all"},{default:i(()=>[o("div",Xe,[t(v,{as:"h3",class:"text-lg flex items-center font-medium leading-6"},{default:i(()=>[t(y,{class:"h-5 w-5 mr-2"}),e[4]||(e[4]=k(" Confirm delete "))]),_:1}),o("button",{onClick:e[0]||(e[0]=(...C)=>l.handleClick&&l.handleClick(...C))},[t(p,{class:"w-5 h-5"})])]),t(_,{id:"deleteForm",type:"form","submit-label":"Update",onSubmit:e[2]||(e[2]=C=>l.deleteData(r.data.id)),actions:!1},{default:i(({value:C})=>[o("div",He,[o("div",Ze,[e[5]||(e[5]=k(" Do you really want to delete ")),o("span",Ge,I(r.data.name),1),e[6]||(e[6]=k("? Note that once this action is completed, it can not be undone "))]),t(_,{type:"textarea",label:"Reason",validation:"required",modelValue:s.reason,"onUpdate:modelValue":e[1]||(e[1]=d=>s.reason=d)},null,8,["modelValue"])]),o("div",Ke,[t(g,{click:()=>{},type:"button",text:"Clear form"}),t(f,{loading:s.loading,type:"submit",click:()=>{},color:"success",icon:s.deleteIcon,text:"Delete"},null,8,["loading","icon"])])]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}const Ye=$(Be,[["render",ze]]),Je={components:{MagnifyingGlassIcon:re},setup(){le({title:`${ae.name.toUpperCase()} - Visit Types`})},data(){return{header:"Visit Types",pages:[{name:"Home",link:"/home"},{name:"Lab Configuration",link:"#"}],addIcon:H,deleteIcon:z,viewIcon:ce,headers:[{text:"ID",value:"id",sortable:!0},{text:"NAME",value:"name",sortable:!0},{text:"DESCRIPTION",value:"description",sortable:!0},{text:"ACTIONS",value:"actions"}],visitTypes:new Array,loading:!1,cookie:E("token"),serverItemsLength:0,serverOptions:{page:1,rowsPerPage:10,sortBy:"name"},searchField:"name",search:"",searchValue:""}},created(){this.init()},methods:{async init(){this.loading=!0;const{page:a,rowsPerPage:e}=this.serverOptions,r={route:`${T.visitTypes}?page=${a}&per_page=${e}&search=${this.search}`,method:"GET",token:`${this.cookie}`};let{data:c,error:s,pending:l}=await D(r);this.loading=l,c.value&&(this.visitTypes=c.value.data,this.serverItemsLength=c.value.meta.total_count),s.value&&(console.log(s.value.data),w().$toast.error(`${q}`))},updateSearch(a){this.searchValue=a,this.search=a},updateVisitTypes(a){a&&this.init()}}},Qe={class:"py-5 px-5"},We={class:"flex items-center justify-between py-5"},et={class:"text-2xl font-semibold"},tt={class:"flex justify-end w-full px-2 py-2 mb-2"},ot={class:"py-2 flex items-center space-x-2"};function st(a,e,r,c,s,l){const f=Y,m=ge,y=ne,v=Pe,p=Ae,_=Ye,g=ie;return h(),b("div",Qe,[t(f,{pages:s.pages},null,8,["pages"]),o("div",We,[o("h3",et,I(s.header),1),("usePermissions"in a?a.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(m,{key:0,onUpdate:l.updateVisitTypes},null,8,["onUpdate"])):B("",!0)]),o("div",tt,[("usePermissions"in a?a.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(y,{key:0,search:s.search,"onUpdate:search":e[0]||(e[0]=u=>s.search=u),onUpdate:l.updateSearch},null,8,["search","onUpdate"])):B("",!0)]),("usePermissions"in a?a.usePermissions:j(N))().can.manage("lab_configurations")?(h(),A(g,{key:0,headers:s.headers,data:s.visitTypes,loading:s.loading,"search-field":s.searchField,"search-value":s.searchValue},{actions:i(({item:u})=>[o("div",ot,[t(v,{data:u},null,8,["data"]),t(p,{data:u,onUpdate:l.updateVisitTypes},null,8,["data","onUpdate"]),t(_,{data:u,onUpdate:l.updateVisitTypes},null,8,["data","onUpdate"])])]),_:1},8,["headers","data","loading","search-field","search-value"])):B("",!0)])}const kt=$(Je,[["render",st]]);export{kt as default};
