"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[3204],{1940:(e,t,l)=>{l.d(t,{Z:()=>i});l(8858),l(1318),l(3228);var n=l(4542),a=l(6188);class i{async writeLbl(e,t,l=`${Date.now()}.lbl`){const i=(0,n.KU)();try{const n=await i.getText(e,t),s=new Blob([null===n||void 0===n?void 0:n.data],{type:"text/plain"});e=URL.createObjectURL(s);const o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",l),o.click(),URL.revokeObjectURL(e),(0,a.x9)("Accession number printed!")}catch(s){console.error(s)}}}},1133:(e,t,l)=>{l.d(t,{z:()=>n});const n="DD/MM/YYYY"},3204:(e,t,l)=>{l.r(t),l.d(t,{default:()=>p});var n=l(6252),a=l(3577);function i(e,t,l,i,s,o){const u=(0,n.up)("ion-title"),d=(0,n.up)("ion-toolbar"),r=(0,n.up)("ion-header"),f=(0,n.up)("ion-label"),m=(0,n.up)("ion-item"),w=(0,n.up)("ion-card"),c=(0,n.up)("ion-col"),_=(0,n.up)("ion-list"),p=(0,n.up)("ion-row"),W=(0,n.up)("ion-grid"),h=(0,n.up)("ion-content"),k=(0,n.up)("ion-button"),y=(0,n.up)("ion-footer"),z=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Test Details")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{size:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Test Type")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.test_type_name),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Date Ordered")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.moment(e.details.created_date).format(e.format)),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Receipt Date")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(""!=e.receiptDate?e.moment(e.receiptDate).format(e.format):""),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Test Status")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.status),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Request Origin")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.request_origin),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Requesting Ward/Location")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.requesting_ward),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Requesting Physician")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.requested_by),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Registered By")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.requestedBy),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(c,{size:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Patient Details ")])),_:1})])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Patient Identifier")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var t;return[(0,n.Uk)((0,a.zw)(null===(t=e.details)||void 0===t?void 0:t.client.id),1)]})),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Patient Name")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(`${e.details.client.first_name} ${null!==e.details.client.middle_name?e.details.client.middle_name:""} ${e.details.client.last_name}`),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Age")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var t;return[(0,n.Uk)((0,a.zw)(e.moment().diff(null===(t=e.details)||void 0===t?void 0:t.client.date_of_birth,"years"))+" years ",1)]})),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Sex")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var t;return[(0,n.Uk)((0,a.zw)(null===(t=e.details)||void 0===t?void 0:t.client.sex),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(w,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Specimen Details ")])),_:1})])),_:1}),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Type")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.specimen_type),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Tracking Number")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.tracking_number),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Accession Number")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.accession_number),1)])),_:1})])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Status")])),_:1}),(0,n.Wm)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(e.details.order_status),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,{style:{padding:"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{size:"large",color:"success",slot:"start",onClick:e.goBack},{default:(0,n.w5)((()=>[(0,n.Uk)(" Back ")])),_:1},8,["onClick"]),(0,n.Wm)(k,{size:"large",slot:"end",onClick:e.navigateToPatient},{default:(0,n.w5)((()=>[(0,n.Uk)(" View Patient ")])),_:1},8,["onClick"]),(0,n.Wm)(k,{size:"large",slot:"end",onClick:e.printAccessNumber},{default:(0,n.w5)((()=>[(0,n.Uk)(" Print Accession Number ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}l(560);var s=l(951),o=l(4542),u=l(381),d=l.n(u),r=l(1940),f=l(3231),m=l(1133);const w=(0,n.aZ)({components:{IonPage:s._i,IonContent:s.W2,IonToolbar:s.sr,IonHeader:s.Gu,IonTitle:s.wd,IonFooter:s.fr,IonButton:s.YG,IonCol:s.wI,IonRow:s.Nd,IonGrid:s.jY,IonCard:s.PM,IonItem:s.Ie,IonLabel:s.Q$,IonList:s.q_},data(){return{details:{client:{first_name:"",middle_name:"",last_name:"",date_of_birth:"",sex:""}},requestedBy:"",receiptDate:"",moment:d(),format:m.z}},async mounted(){var e;const t=(0,o.KU)(),l=await t.getJson(`tests/${null===(e=this.$router.currentRoute.value.query.test_id)||void 0===e?void 0:e.toString()}`);null!==l&&void 0!==l&&l.ok?(this.details=null===l||void 0===l?void 0:l.data,this.details.status_trail.map((e=>{"pending"==e.status.name?this.requestedBy=`${e.initiator.first_name} ${e.initiator.last_name}`:"accepted"==e.status.name&&(this.receiptDate=e.created_date)})),this.details.order_status_trail.map((e=>{"specimen-accepted"==e.status.name&&(this.receiptDate=e.created_date)}))):console.log(null===l||void 0===l?void 0:l.error)},methods:{goBack(){f.Z.back()},navigateToPatient(){f.Z.push(`/patient-details/${this.details.client.id}`)},printAccessNumber(){const e=new r.Z,t=this.details.accession_number;e.writeLbl("printout/accession_number",{accession_number:t},`${t}.lbl`)}}});var c=l(3744);const _=(0,c.Z)(w,[["render",i]]),p=_},2148:(e,t,l)=>{var n=l(8702),a=l(2560);e.exports=function(e,t,l){return l.get&&n(l.get,t,{getter:!0}),l.set&&n(l.set,t,{setter:!0}),a.f(e,t,l)}},1500:e=>{var t=TypeError;e.exports=function(e,l){if(e<l)throw new t("Not enough arguments");return e}},8858:(e,t,l)=>{var n=l(1880),a=l(8844),i=l(4327),s=l(1500),o=URLSearchParams,u=o.prototype,d=a(u.append),r=a(u["delete"]),f=a(u.forEach),m=a([].push),w=new o("a=1&a=2&b=3");w["delete"]("a",1),w["delete"]("b",void 0),w+""!=="a=2"&&n(u,"delete",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return r(this,e);var n=[];f(this,(function(e,t){m(n,{key:t,value:e})})),s(t,1);var a,o=i(e),u=i(l),w=0,c=0,_=!1,p=n.length;while(w<p)a=n[w++],_||a.key===o?(_=!0,r(this,a.key)):c++;while(c<p)a=n[c++],a.key===o&&a.value===u||d(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},1318:(e,t,l)=>{var n=l(1880),a=l(8844),i=l(4327),s=l(1500),o=URLSearchParams,u=o.prototype,d=a(u.getAll),r=a(u.has),f=new o("a=1");!f.has("a",2)&&f.has("a",void 0)||n(u,"has",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return r(this,e);var n=d(this,e);s(t,1);var a=i(l),o=0;while(o<n.length)if(n[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},3228:(e,t,l)=>{var n=l(7697),a=l(8844),i=l(2148),s=URLSearchParams.prototype,o=a(s.forEach);n&&!("size"in s)&&i(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=3204.943df0fa.js.map