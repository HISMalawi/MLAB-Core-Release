{"version":3,"file":"js/3395.2d6749fe.js","mappings":"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","sources":["webpack://IBLISReception/./src/composables/testNamePreference.ts","webpack://IBLISReception/./src/views/RejectTest.vue?32fe","webpack://IBLISReception/./src/views/RejectTest.vue","webpack://IBLISReception/./src/views/RejectTest.vue?75aa"],"sourcesContent":["import { Client } from \"./client\";\nimport { ref } from \"vue\";\n\nconst globalPreference = ref<\"full_name\" | \"preferred_name\">(\"full_name\");\nlet hasInitialized = false;\n\nexport function useTestNamePreference() {\n  /**\n   * Get the user's test name display preference\n   * @returns \"full_name\" or \"preferred_name\"\n   */\n  const getPreference = (): string => {\n    if (hasInitialized) {\n      return globalPreference.value;\n    }\n\n    const client = Client();\n    const userData = client.token?.value?.authorization?.user;\n    if (userData && userData.preferences) {\n      const testNamePref = userData.preferences.find(\n        (p: any) => p.name === \"test_name_display\" && p.target === \"site\"\n      );\n      if (testNamePref) {\n        globalPreference.value = testNamePref.value;\n        hasInitialized = true;\n        return globalPreference.value;\n      }\n    }\n\n    globalPreference.value = \"full_name\";\n    hasInitialized = true;\n    return globalPreference.value;\n  };\n\n  /**\n   * Generate a preferred name for a test if one doesn't exist\n   * @param testTypeName The full test type name\n   * @returns The generated preferred name\n   */\n  const generatePreferredName = (testTypeName: string): string => {\n    if (!testTypeName) return \"\";\n\n    const words = testTypeName.split(' ');\n    if (words.length > 1) {\n      return words\n        .map((word: string) => word.charAt(0))\n        .join('')\n        .toUpperCase();\n    } else {\n      return testTypeName.substring(0, 4).toUpperCase();\n    }\n  };\n\n  /**\n   * Get the appropriate test name to display based on preferences\n   * @param fullName The full test type name\n   * @param preferredName The preferred name (if exists)\n   * @returns The name to display based on user preferences\n   */\n  const getDisplayName = (fullName: string, preferredName?: string): string => {\n    const preference = getPreference();\n    if (preference === \"full_name\") {\n      return fullName;\n    }\n    // If preferred_name is requested\n    if (preferredName) {\n      return preferredName;\n    }\n    // Generate preferred name if it doesn't exist\n    if (fullName) {\n      // return generatePreferredName(fullName);\n      return fullName\n    }\n    return fullName;\n  };\n\n  return {\n    getPreference,\n    generatePreferredName,\n    getDisplayName,\n    preference: globalPreference\n  };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createTextVNode as _createTextVNode, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, vShow as _vShow, createElementVNode as _createElementVNode, withDirectives as _withDirectives } from \"vue\"\n\nconst _hoisted_1 = { class: \"keyboard\" }\n\nimport { Client } from \"@/composables/client\";\nimport { useTestNamePreference } from \"@/composables/testNamePreference\";\nimport { computed, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { close } from \"ionicons/icons\";\nimport { alertConfirmation, toastSuccess } from \"@/utils/Alerts\";\nimport {\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonHeader,\n  IonContent,\n  IonToolbar,\n  IonTitle,\n  IonItem,\n  IonLabel,\n  IonFooter,\n  IonList,\n  IonPage,\n  IonSelect,\n  IonSelectOption,\n  IonInput,\n} from \"@ionic/vue\";\nimport SimpleKeyboard from \"@/components/Keyboard/SimpleKeyBoard.vue\";\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'RejectTest',\n  emits: [\"updated\"],\n  setup(__props, { emit: __emit }) {\n\nconst route = useRoute();\nconst router = useRouter();\nconst client = Client();\nconst { getDisplayName } = useTestNamePreference();\nconst details = ref<any>({});\nconst personTalkedTo = ref<string>(\"\");\nconst statusReasons = ref<Array<{ id: number; description: string }>>([]);\nconst selectedStatusReason = ref(\"\");\n\nconst testDisplayName = computed(() =>\n  getDisplayName(details.value?.test_type_name, details.value?.test_type_preferred_name)\n);\n\nconst getTest = async () => {\n  const res = await client.getJson(`/tests/${route.params.id}`);\n  details.value = res?.data;\n};\n\nconst handleDialog = () => {\n  router.back();\n};\n\nconst cancelReject = async () => {\n  const ok = await alertConfirmation(\"Are you sure you want to cancel?\");\n  if (ok) handleDialog();\n};\n\nconst emits = __emit;\n\nconst showKeyboard = ref<boolean>(false);\n\nconst enterInput = (value: string) => {\n  if (value) showKeyboard.value = true;\n};\n\nconst onChange = (input: string) => {\n  personTalkedTo.value = input;\n};\n\nconst onKeyPress = (input: string) => {\n  if (input == \"{enter}\") {\n    showKeyboard.value = false;\n  }\n};\n\nconst getStatusReasons = async () => {\n  const res = await client.getJson(\"status_reasons\");\n  statusReasons.value = res?.data;\n};\nconst isset = computed(\n  () => personTalkedTo.value && selectedStatusReason.value\n);\n\nconst submitForm = async () => {\n  const reasonId = statusReasons.value.filter(\n    (status) => status.description == selectedStatusReason.value\n  );\n  const res = await client.putJson(\n    `test_statuses/${route.params.id}/rejected?status_reason_id=${reasonId[0].id}&person_talked_to=${personTalkedTo.value}`,\n    {}\n  );\n  if (res?.data) {\n    toastSuccess(\"Test Rejected Successfully\");\n    router.push(\"/tests\");\n    emits(\"updated\", true);\n  }\n};\nonMounted(() => {\n  getTest();\n  getStatusReasons();\n});\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_unref(IonPage), null, {\n      default: _withCtx(() => [\n        _createVNode(_unref(IonHeader), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonToolbar), null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonTitle), { style: {\"font-size\":\"25px\",\"font-weight\":\"600\"} }, {\n                  default: _withCtx(() => _cache[3] || (_cache[3] = [\n                    _createTextVNode(\"Reject Test\")\n                  ])),\n                  _: 1\n                }),\n                _createVNode(_unref(IonButtons), { slot: \"end\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonButton), {\n                      strong: true,\n                      onClick: handleDialog\n                    }, {\n                      default: _withCtx(() => [\n                        _createVNode(_unref(IonIcon), {\n                          size: \"large\",\n                          icon: _unref(close)\n                        }, null, 8, [\"icon\"])\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(IonContent), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonList), null, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[4] || (_cache[4] = [\n                        _createTextVNode(\"Test Type\")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonLabel), {\n                      slot: \"end\",\n                      style: {\"font-size\":\"18px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(testDisplayName.value), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[5] || (_cache[5] = [\n                        _createTextVNode(\"Specimen\")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonLabel), {\n                      slot: \"end\",\n                      style: {\"font-size\":\"18px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(details.value?.specimen_type), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[6] || (_cache[6] = [\n                        _createTextVNode(\"Patient Name\")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonLabel), {\n                      slot: \"end\",\n                      style: {\"font-size\":\"18px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(details.value?.client ?\n                    `${details.value.client.first_name} ${details.value.client.middle_name ? details.value.client.middle_name : ''} ${details.value.client.last_name}` :\n                    ''), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[7] || (_cache[7] = [\n                        _createTextVNode(\"Accession Number\")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonLabel), {\n                      slot: \"end\",\n                      style: {\"font-size\":\"18px\"}\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(_toDisplayString(details.value?.accession_number), 1)\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[8] || (_cache[8] = [\n                        _createTextVNode(\"Person Talked To: \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonInput), {\n                      modelValue: personTalkedTo.value,\n                      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((personTalkedTo).value = $event)),\n                      required: \"\",\n                      placeholder: \"Enter full name\",\n                      onIonFocus: _cache[1] || (_cache[1] = ($event: any) => (enterInput('person'))),\n                      style: {\"font-size\":\"18px\"}\n                    }, null, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_unref(IonItem), null, {\n                  default: _withCtx(() => [\n                    _createVNode(_unref(IonLabel), { style: {\"font-size\":\"20px\",\"font-weight\":\"600\"} }, {\n                      default: _withCtx(() => _cache[9] || (_cache[9] = [\n                        _createTextVNode(\"Rejection Reason: \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_unref(IonSelect), {\n                      required: \"\",\n                      modelValue: selectedStatusReason.value,\n                      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((selectedStatusReason).value = $event))\n                    }, {\n                      default: _withCtx(() => [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(statusReasons.value, (reason) => {\n                          return (_openBlock(), _createBlock(_unref(IonSelectOption), {\n                            key: reason.description,\n                            value: reason.description,\n                            style: {\"font-size\":\"18px\"}\n                          }, {\n                            default: _withCtx(() => [\n                              _createTextVNode(_toDisplayString(reason.description), 1)\n                            ]),\n                            _: 2\n                          }, 1032, [\"value\"]))\n                        }), 128))\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }),\n            _withDirectives(_createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(SimpleKeyboard, {\n                onOnChange: onChange,\n                onOnKeyPress: onKeyPress,\n                input: personTalkedTo.value,\n                inputName: personTalkedTo.value\n              }, null, 8, [\"input\", \"inputName\"])\n            ], 512), [\n              [_vShow, showKeyboard.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createVNode(_unref(IonFooter), null, {\n          default: _withCtx(() => [\n            _createVNode(_unref(IonToolbar), {\n              color: \"light\",\n              style: {\"padding\":\"5px\"}\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_unref(IonButton), {\n                  slot: \"start\",\n                  size: \"large\",\n                  color: \"danger\",\n                  onClick: cancelReject\n                }, {\n                  default: _withCtx(() => _cache[10] || (_cache[10] = [\n                    _createTextVNode(\" Cancel \")\n                  ])),\n                  _: 1\n                }),\n                _createVNode(_unref(IonButton), {\n                  slot: \"end\",\n                  disabled: !isset.value,\n                  size: \"large\",\n                  color: \"success\",\n                  onClick: submitForm\n                }, {\n                  default: _withCtx(() => _cache[11] || (_cache[11] = [\n                    _createTextVNode(\" Reject \")\n                  ])),\n                  _: 1\n                }, 8, [\"disabled\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    })\n  ]))\n}\n}\n\n})","<template>\n  <div>\n    <ion-page>\n      <ion-header>\n        <ion-toolbar>\n          <ion-title style=\"font-size: 25px; font-weight: 600\"\n            >Reject Test</ion-title\n          >\n          <ion-buttons slot=\"end\">\n            <ion-button :strong=\"true\" @click=\"handleDialog\">\n              <ion-icon size=\"large\" :icon=\"close\"></ion-icon>\n            </ion-button>\n          </ion-buttons>\n        </ion-toolbar>\n      </ion-header>\n      <ion-content>\n        <ion-list>\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Test Type</ion-label\n            >\n            <ion-label slot=\"end\" style=\"font-size: 18px;\">{{ testDisplayName }}</ion-label>\n          </ion-item>\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Specimen</ion-label\n            >\n            <ion-label slot=\"end\" style=\"font-size: 18px;\">{{ details?.specimen_type }}</ion-label>\n          </ion-item>\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Patient Name</ion-label\n            >\n            <ion-label slot=\"end\" style=\"font-size: 18px;\">\n                {{ details?.client ?\n                    `${details.client.first_name} ${details.client.middle_name ? details.client.middle_name : ''} ${details.client.last_name}` :\n                    ''\n                }}\n              </ion-label>\n\n          </ion-item>\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Accession Number</ion-label\n            >\n            <ion-label slot=\"end\" style=\"font-size: 18px;\">{{ details?.accession_number }}</ion-label>\n          </ion-item>\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Person Talked To:\n            </ion-label>\n            <ion-input\n              v-model=\"personTalkedTo\"\n              required\n              placeholder=\"Enter full name\"\n              @ion-focus=\"enterInput('person')\"\n              style=\"font-size: 18px;\"\n            />\n          </ion-item>\n\n          <ion-item>\n            <ion-label style=\"font-size: 20px; font-weight: 600\"\n              >Rejection Reason:\n            </ion-label>\n            <ion-select required v-model=\"selectedStatusReason\">\n              <ion-select-option\n                v-for=\"reason in statusReasons\"\n                v-bind:key=\"reason.description\"\n                :value=\"reason.description\"\n                style=\"font-size: 18px;\"\n                >{{ reason.description }}</ion-select-option\n              ></ion-select\n            >\n          </ion-item>\n        </ion-list>\n        <div class=\"keyboard\" v-show=\"showKeyboard\">\n          <SimpleKeyboard\n            @onChange=\"onChange\"\n            @onKeyPress=\"onKeyPress\"\n            :input=\"personTalkedTo\"\n            :inputName=\"personTalkedTo\"\n          />\n        </div>\n      </ion-content>\n\n      <ion-footer>\n        <ion-toolbar color=\"light\" style=\"padding: 5px\">\n          <ion-button\n            slot=\"start\"\n            size=\"large\"\n            color=\"danger\"\n            @click=\"cancelReject\"\n          >\n            Cancel\n          </ion-button>\n          <ion-button\n            slot=\"end\"\n            :disabled=\"!isset\"\n            size=\"large\"\n            color=\"success\"\n            @click=\"submitForm\"\n          >\n            Reject\n          </ion-button>\n        </ion-toolbar></ion-footer\n      >\n    </ion-page>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { Client } from \"@/composables/client\";\nimport { useTestNamePreference } from \"@/composables/testNamePreference\";\nimport { computed, onMounted, ref } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { close } from \"ionicons/icons\";\nimport { alertConfirmation, toastSuccess } from \"@/utils/Alerts\";\nimport {\n  IonButtons,\n  IonButton,\n  IonIcon,\n  IonHeader,\n  IonContent,\n  IonToolbar,\n  IonTitle,\n  IonItem,\n  IonLabel,\n  IonFooter,\n  IonList,\n  IonPage,\n  IonSelect,\n  IonSelectOption,\n  IonInput,\n} from \"@ionic/vue\";\nimport SimpleKeyboard from \"@/components/Keyboard/SimpleKeyBoard.vue\";\n\nconst route = useRoute();\nconst router = useRouter();\nconst client = Client();\nconst { getDisplayName } = useTestNamePreference();\nconst details = ref<any>({});\nconst personTalkedTo = ref<string>(\"\");\nconst statusReasons = ref<Array<{ id: number; description: string }>>([]);\nconst selectedStatusReason = ref(\"\");\n\nconst testDisplayName = computed(() =>\n  getDisplayName(details.value?.test_type_name, details.value?.test_type_preferred_name)\n);\n\nconst getTest = async () => {\n  const res = await client.getJson(`/tests/${route.params.id}`);\n  details.value = res?.data;\n};\n\nconst handleDialog = () => {\n  router.back();\n};\n\nconst cancelReject = async () => {\n  const ok = await alertConfirmation(\"Are you sure you want to cancel?\");\n  if (ok) handleDialog();\n};\n\nconst emits = defineEmits([\"updated\"]);\n\nconst showKeyboard = ref<boolean>(false);\n\nconst enterInput = (value: string) => {\n  if (value) showKeyboard.value = true;\n};\n\nconst onChange = (input: string) => {\n  personTalkedTo.value = input;\n};\n\nconst onKeyPress = (input: string) => {\n  if (input == \"{enter}\") {\n    showKeyboard.value = false;\n  }\n};\n\nconst getStatusReasons = async () => {\n  const res = await client.getJson(\"status_reasons\");\n  statusReasons.value = res?.data;\n};\nconst isset = computed(\n  () => personTalkedTo.value && selectedStatusReason.value\n);\n\nconst submitForm = async () => {\n  const reasonId = statusReasons.value.filter(\n    (status) => status.description == selectedStatusReason.value\n  );\n  const res = await client.putJson(\n    `test_statuses/${route.params.id}/rejected?status_reason_id=${reasonId[0].id}&person_talked_to=${personTalkedTo.value}`,\n    {}\n  );\n  if (res?.data) {\n    toastSuccess(\"Test Rejected Successfully\");\n    router.push(\"/tests\");\n    emits(\"updated\", true);\n  }\n};\nonMounted(() => {\n  getTest();\n  getStatusReasons();\n});\n</script>\n\n<style scoped>\n.keyboard {\n  width: 100%;\n  bottom: 0;\n  position: absolute !important;\n  font-size: 30px;\n  text-transform: uppercase;\n  font-weight: 400;\n}\n</style>\n","import script from \"./RejectTest.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RejectTest.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RejectTest.vue?vue&type=style&index=0&id=607fefe9&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-607fefe9\"]])\n\nexport default __exports__"],"names":["globalPreference","ref","hasInitialized","useTestNamePreference","getPreference","_client$token","value","client","Client","userData","token","authorization","user","preferences","testNamePref","find","p","name","target","generatePreferredName","testTypeName","words","split","length","map","word","charAt","join","toUpperCase","substring","getDisplayName","fullName","preferredName","preference","_hoisted_1","class","_defineComponent","__name","emits","setup","__props","emit","__emit","route","useRoute","router","useRouter","details","personTalkedTo","statusReasons","selectedStatusReason","testDisplayName","computed","_details$value","_details$value2","test_type_name","test_type_preferred_name","getTest","async","res","getJson","params","id","data","handleDialog","back","cancelReject","ok","alertConfirmation","showKeyboard","enterInput","onChange","input","onKeyPress","getStatusReasons","isset","submitForm","reasonId","filter","status","description","putJson","toastSuccess","push","onMounted","_ctx","_cache","_openBlock","_createElementBlock","_createVNode","_unref","IonPage","default","_withCtx","IonHeader","IonToolbar","IonTitle","style","_createTextVNode","_","IonButtons","slot","IonButton","strong","onClick","IonIcon","size","icon","close","IonContent","IonList","IonItem","IonLabel","_toDisplayString","_details$value3","specimen_type","_details$value4","first_name","middle_name","last_name","_details$value5","accession_number","IonInput","modelValue","$event","required","placeholder","onIonFocus","IonSelect","_Fragment","_renderList","reason","_createBlock","IonSelectOption","key","_withDirectives","_createElementVNode","SimpleKeyboard","onOnChange","onOnKeyPress","inputName","_vShow","IonFooter","color","disabled","__exports__"],"sourceRoot":""}