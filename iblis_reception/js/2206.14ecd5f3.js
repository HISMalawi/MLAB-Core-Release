"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[2206],{31881:(e,l,t)=>{t.r(l),t.d(l,{default:()=>b});t(44114),t(98992),t(54520);var a=t(20641),u=t(50953),n=t(90033),s=t(53751),o=t(741),d=t(75220),i=t(35480),c=t(85901),f=t(73235),v=t(51572);const r={class:"keyboard"},_=(0,a.pM)({__name:"RejectTest",emits:["updated"],setup(e,{emit:l}){const t=(0,d.lq)(),_=(0,d.rd)(),p=(0,o.Kj)(),R=(0,u.KR)({}),b=(0,u.KR)(""),k=(0,u.KR)([]),F=(0,u.KR)(""),m=async()=>{const e=await p.getJson(`/tests/${t.params.id}`);R.value=null===e||void 0===e?void 0:e.data},y=()=>{_.back()},h=async()=>{const e=await(0,c.Cw)("Are you sure you want to cancel?");e&&y()},z=l,g=(0,u.KR)(!1),W=e=>{e&&(g.value=!0)},w=e=>{b.value=e},x=e=>{"{enter}"==e&&(g.value=!1)},C=async()=>{const e=await p.getJson("status_reasons");k.value=null===e||void 0===e?void 0:e.data},T=(0,a.EW)((()=>b.value&&F.value)),I=async()=>{const e=k.value.filter((e=>e.description==F.value)),l=await p.putJson(`test_statuses/${t.params.id}/rejected?status_reason_id=${e[0].id}&person_talked_to=${b.value}`,{});null!==l&&void 0!==l&&l.data&&((0,c.tP)("Test Rejected Successfully"),_.push("/tests"),z("updated",!0))};return(0,a.sV)((()=>{m(),C()})),(e,l)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)((0,u.R1)(f.AO),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.eU),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.ai),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.BC),{style:{"font-size":"25px","font-weight":"600"}},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("Reject Test")]))),_:1}),(0,a.bF)((0,u.R1)(f.QW),{slot:"end"},{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.Jm),{strong:!0,onClick:y},{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.iq),{size:"large",icon:(0,u.R1)(i.VNx)},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)((0,u.R1)(f.W9),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.nf),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Test Type")]))),_:1}),(0,a.bF)((0,u.R1)(f.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,n.v_)(null===(e=R.value)||void 0===e?void 0:e.test_type_name),1)]})),_:1})])),_:1}),(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Specimen")]))),_:1}),(0,a.bF)((0,u.R1)(f.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,n.v_)(null===(e=R.value)||void 0===e?void 0:e.specimen_type),1)]})),_:1})])),_:1}),(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Patient Name")]))),_:1}),(0,a.bF)((0,u.R1)(f.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,n.v_)(null!==(e=R.value)&&void 0!==e&&e.client?`${R.value.client.first_name} ${R.value.client.middle_name?R.value.client.middle_name:""} ${R.value.client.last_name}`:""),1)]})),_:1})])),_:1}),(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)("Accession Number")]))),_:1}),(0,a.bF)((0,u.R1)(f.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,n.v_)(null===(e=R.value)||void 0===e?void 0:e.accession_number),1)]})),_:1})])),_:1}),(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("Person Talked To: ")]))),_:1}),(0,a.bF)((0,u.R1)(f.$w),{modelValue:b.value,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),required:"",placeholder:"Enter full name",onIonFocus:l[1]||(l[1]=e=>W("person")),style:{"font-size":"18px"}},null,8,["modelValue"])])),_:1}),(0,a.bF)((0,u.R1)(f.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[9]||(l[9]=[(0,a.eW)("Rejection Reason: ")]))),_:1}),(0,a.bF)((0,u.R1)(f.Nm),{required:"",modelValue:F.value,"onUpdate:modelValue":l[2]||(l[2]=e=>F.value=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(k.value,(e=>((0,a.uX)(),(0,a.Wv)((0,u.R1)(f.Ip),{key:e.description,value:e.description,style:{"font-size":"18px"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,n.v_)(e.description),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.bo)((0,a.Lk)("div",r,[(0,a.bF)(v.A,{onOnChange:w,onOnKeyPress:x,input:b.value,inputName:b.value},null,8,["input","inputName"])],512),[[s.aG,g.value]])])),_:1}),(0,a.bF)((0,u.R1)(f.M0),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.ai),{color:"light",style:{padding:"5px"}},{default:(0,a.k6)((()=>[(0,a.bF)((0,u.R1)(f.Jm),{slot:"start",size:"large",color:"danger",onClick:h},{default:(0,a.k6)((()=>l[10]||(l[10]=[(0,a.eW)(" Cancel ")]))),_:1}),(0,a.bF)((0,u.R1)(f.Jm),{slot:"end",disabled:!T.value,size:"large",color:"success",onClick:I},{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)(" Reject ")]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})]))}});var p=t(66262);const R=(0,p.A)(_,[["__scopeId","data-v-5296c74b"]]),b=R}}]);
//# sourceMappingURL=2206.14ecd5f3.js.map