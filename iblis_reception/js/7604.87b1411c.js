"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[7604],{32336:(e,t,l)=>{l.d(t,{i:()=>o});l(98992),l(72577),l(81454);var n=l(741),a=l(50953);const s=(0,a.KR)("full_name");let i=!1;function o(){const e=()=>{var e;if(i)return s.value;const t=(0,n.Kj)(),l=null===(e=t.token)||void 0===e||null===(e=e.value)||void 0===e||null===(e=e.authorization)||void 0===e?void 0:e.user;if(l&&l.preferences){const e=l.preferences.find((e=>"test_name_display"===e.name&&"site"===e.target));if(e)return s.value=e.value,i=!0,s.value}return s.value="full_name",i=!0,s.value},t=e=>{if(!e)return"";const t=e.split(" ");return t.length>1?t.map((e=>e.charAt(0))).join("").toUpperCase():e.substring(0,4).toUpperCase()},l=(t,l)=>{const n=e();return"full_name"===n?t:l||(t||t)};return{getPreference:e,generatePreferredName:t,getDisplayName:l,preference:s}}},80027:(e,t,l)=>{l.d(t,{D:()=>n});const n="DD/MM/YYYY"},27604:(e,t,l)=>{l.r(t),l.d(t,{default:()=>m});var n=l(20641),a=l(90033);function s(e,t,l,s,i,o){const d=(0,n.g2)("ion-title"),u=(0,n.g2)("ion-toolbar"),r=(0,n.g2)("ion-header"),f=(0,n.g2)("ion-label"),_=(0,n.g2)("ion-item"),b=(0,n.g2)("ion-card"),c=(0,n.g2)("ion-col"),p=(0,n.g2)("ion-list"),k=(0,n.g2)("ion-row"),m=(0,n.g2)("ion-grid"),F=(0,n.g2)("ion-content"),g=(0,n.g2)("ion-button"),y=(0,n.g2)("ion-footer"),v=(0,n.g2)("ion-page");return(0,n.uX)(),(0,n.Wv)(v,null,{default:(0,n.k6)((()=>[(0,n.bF)(r,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Test Details")]))),_:1})])),_:1})])),_:1}),(0,n.bF)(F,null,{default:(0,n.k6)((()=>[(0,n.bF)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{size:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Test Type")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)("full_name"===e.testNameDisplayPreference?e.details.test_type_name:e.details.test_type_preferred_name),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Date Ordered")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.moment(e.details.created_date).format(e.format)),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Receipt Date")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(""!=e.receiptDate?e.moment(e.receiptDate).format(e.format):""),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Test Status")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.status),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("Request Origin")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.request_origin),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("Requesting Ward/Location")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.requesting_ward),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("Requesting Physician")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.requested_by),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("Registered By")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.requestedBy),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(c,{size:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{color:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)(" Patient Details ")]))),_:1})])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("Patient Identifier")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(null===(t=e.details)||void 0===t?void 0:t.client.id),1)]})),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[11]||(t[11]=[(0,n.eW)("Patient Name")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(`${e.details.client.first_name} ${null!==e.details.client.middle_name?e.details.client.middle_name:""} ${e.details.client.last_name}`),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[12]||(t[12]=[(0,n.eW)("Age")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(e.moment().diff(null===(t=e.details)||void 0===t?void 0:t.client.date_of_birth,"years"))+" years ",1)]})),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[13]||(t[13]=[(0,n.eW)("Sex")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(null===(t=e.details)||void 0===t?void 0:t.client.sex),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{color:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[14]||(t[14]=[(0,n.eW)(" Specimen Details ")]))),_:1})])),_:1}),(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[15]||(t[15]=[(0,n.eW)("Type")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.specimen_type),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)("Tracking Number")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.tracking_number),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)("Accession Number")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.accession_number),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[18]||(t[18]=[(0,n.eW)("Status")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.order_status),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(y,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{style:{padding:"10px"}},{default:(0,n.k6)((()=>[(0,n.bF)(g,{size:"large",color:"success",slot:"start",onClick:e.goBack},{default:(0,n.k6)((()=>t[19]||(t[19]=[(0,n.eW)(" Back ")]))),_:1},8,["onClick"]),(0,n.bF)(g,{size:"large",slot:"end",onClick:e.navigateToPatient},{default:(0,n.k6)((()=>t[20]||(t[20]=[(0,n.eW)(" View Patient ")]))),_:1},8,["onClick"]),(0,n.bF)(g,{size:"large",slot:"end",onClick:e.printAccessNumber},{default:(0,n.k6)((()=>t[21]||(t[21]=[(0,n.eW)(" Print Accession Number ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}l(44114),l(81454);var i=l(73235),o=l(741),d=l(95093),u=l.n(d),r=l(82077),f=l(46079),_=l(80027),b=l(32336);const c=(0,n.pM)({components:{IonPage:i.AO,IonContent:i.W9,IonToolbar:i.ai,IonHeader:i.eU,IonTitle:i.BC,IonFooter:i.M0,IonButton:i.Jm,IonCol:i.hU,IonRow:i.ln,IonGrid:i.lO,IonCard:i.b_,IonItem:i.uz,IonLabel:i.he,IonList:i.nf},data(){return{details:{client:{first_name:"",middle_name:"",last_name:"",date_of_birth:"",sex:""}},requestedBy:"",receiptDate:"",moment:u(),format:_.D,testNameDisplayPreference:"full_name"}},async mounted(){var e;const t=(0,o.Kj)(),{getPreference:l}=(0,b.i)();this.testNameDisplayPreference=l();const n=await t.getJson(`tests/${null===(e=this.$router.currentRoute.value.query.test_id)||void 0===e?void 0:e.toString()}`);if(null!==n&&void 0!==n&&n.ok){if(this.details=null===n||void 0===n?void 0:n.data,!this.details.test_type_preferred_name&&this.details.test_type_name){const e=this.details.test_type_name.split(" ");e.length>1?this.details.test_type_preferred_name=e.map((e=>e.charAt(0))).join("").toUpperCase():this.details.test_type_preferred_name=this.details.test_type_name.substring(0,4).toUpperCase()}this.details.status_trail.map((e=>{"pending"==e.status.name?this.requestedBy=`${e.initiator.first_name} ${e.initiator.last_name}`:"accepted"==e.status.name&&(this.receiptDate=e.created_date)})),this.details.order_status_trail.map((e=>{"specimen-accepted"==e.status.name&&(this.receiptDate=e.created_date)}))}else console.log(null===n||void 0===n?void 0:n.error)},methods:{goBack(){f.A.back()},navigateToPatient(){f.A.push(`/patient-details/${this.details.client.id}`)},printAccessNumber(){const e=new r.A,t=this.details.accession_number;e.writeLbl("printout/accession_number",{accession_number:t},`${t}.lbl`)}}});var p=l(66262);const k=(0,p.A)(c,[["render",s]]),m=k}}]);
//# sourceMappingURL=7604.87b1411c.js.map