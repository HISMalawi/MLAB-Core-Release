"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[582],{3220:(e,l,t)=>{t.r(l),t.d(l,{default:()=>U});t(560);var a=t(6252),n=t(2262),u=t(3577),s=t(9963),o=t(4542),i=t(2201),d=t(8903),m=t(6188),c=t(951),r=t(7854);const f={class:"keyboard"},w=(0,a.aZ)({__name:"RejectTest",emits:["updated"],setup(e,{emit:l}){const t=(0,i.yj)(),w=(0,i.tv)(),v=(0,o.KU)(),_=(0,n.iH)({}),U=(0,n.iH)(""),p=(0,n.iH)([]),S=(0,n.iH)(""),W=async()=>{const e=await v.getJson(`/tests/${t.params.id}`);_.value=null===e||void 0===e?void 0:e.data},y=()=>{w.back()},k=async()=>{const e=await(0,m.Y6)("Are you sure you want to cancel?");e&&y()},g=l,z=(0,n.iH)(!1),$=e=>{e&&(z.value=!0)},h=e=>{U.value=e},x=e=>{"{enter}"==e&&(z.value=!1)},b=async()=>{const e=await v.getJson("status_reasons");p.value=null===e||void 0===e?void 0:e.data},I=(0,a.Fl)((()=>U.value&&S.value)),Q=async()=>{const e=p.value.filter((e=>e.description==S.value)),l=await v.putJson(`test_statuses/${t.params.id}/rejected?status_reason_id=${e[0].id}&person_talked_to=${U.value}`,{});null!==l&&void 0!==l&&l.data&&((0,m.x9)("Test Rejected Successfully"),w.push("/tests"),g("updated",!0))};return(0,a.bv)((()=>{W(),b()})),(e,l)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)((0,n.SU)(c._i),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Gu),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.sr),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.wd),{style:{"font-size":"25px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Reject Test")])),_:1}),(0,a.Wm)((0,n.SU)(c.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.YG),{strong:!0,onClick:y},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.gu),{size:"large",icon:(0,n.SU)(d.xvD)},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.W2),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.q_),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Test Type")])),_:1}),(0,a.Wm)((0,n.SU)(c.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.w5)((()=>{var e;return[(0,a.Uk)((0,u.zw)(null===(e=_.value)||void 0===e?void 0:e.test_type_name),1)]})),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Specimen")])),_:1}),(0,a.Wm)((0,n.SU)(c.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.w5)((()=>{var e;return[(0,a.Uk)((0,u.zw)(null===(e=_.value)||void 0===e?void 0:e.specimen_type),1)]})),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Patient Name")])),_:1}),(0,a.Wm)((0,n.SU)(c.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.w5)((()=>{var e;return[(0,a.Uk)((0,u.zw)(null!==(e=_.value)&&void 0!==e&&e.client?`${_.value.client.first_name} ${_.value.client.middle_name?_.value.client.middle_name:""} ${_.value.client.last_name}`:""),1)]})),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Accession Number")])),_:1}),(0,a.Wm)((0,n.SU)(c.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.w5)((()=>{var e;return[(0,a.Uk)((0,u.zw)(null===(e=_.value)||void 0===e?void 0:e.accession_number),1)]})),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Person Talked To: ")])),_:1}),(0,a.Wm)((0,n.SU)(c.pK),{modelValue:U.value,"onUpdate:modelValue":l[0]||(l[0]=e=>U.value=e),required:"",placeholder:"Enter full name",onIonFocus:l[1]||(l[1]=e=>$("person")),style:{"font-size":"18px"}},null,8,["modelValue"])])),_:1}),(0,a.Wm)((0,n.SU)(c.Ie),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Rejection Reason: ")])),_:1}),(0,a.Wm)((0,n.SU)(c.t9),{required:"",modelValue:S.value,"onUpdate:modelValue":l[2]||(l[2]=e=>S.value=e)},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.value,(e=>((0,a.wg)(),(0,a.j4)((0,n.SU)(c.n0),{key:e.description,value:e.description,style:{"font-size":"18px"}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,u.zw)(e.description),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.wy)((0,a._)("div",f,[(0,a.Wm)(r.Z,{onOnChange:h,onOnKeyPress:x,input:U.value,inputName:U.value},null,8,["input","inputName"])],512),[[s.F8,z.value]])])),_:1}),(0,a.Wm)((0,n.SU)(c.fr),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.sr),{color:"light",style:{padding:"5px"}},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(c.YG),{slot:"start",size:"large",color:"danger",onClick:k},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancel ")])),_:1}),(0,a.Wm)((0,n.SU)(c.YG),{slot:"end",disabled:!I.value,size:"large",color:"success",onClick:Q},{default:(0,a.w5)((()=>[(0,a.Uk)(" Reject ")])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})]))}});var v=t(3744);const _=(0,v.Z)(w,[["__scopeId","data-v-5296c74b"]]),U=_}}]);
//# sourceMappingURL=582.94889a8e.js.map