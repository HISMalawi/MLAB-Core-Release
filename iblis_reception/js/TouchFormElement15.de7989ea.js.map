{"version":3,"file":"js/TouchFormElement15.de7989ea.js","mappings":"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","sources":["webpack://IBLISReception/./src/components/FormElements/HisMultipleSelect.vue?a42d","webpack://IBLISReception/./src/components/FormElements/HisMultipleSelect.vue?b55c","webpack://IBLISReception/./src/components/FormElements/HisMultipleSelect.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_his_text_input = _resolveComponent(\"his-text-input\")!\n  const _component_ion_icon = _resolveComponent(\"ion-icon\")!\n  const _component_ion_chip = _resolveComponent(\"ion-chip\")!\n  const _component_ion_checkbox = _resolveComponent(\"ion-checkbox\")!\n  const _component_ion_text = _resolveComponent(\"ion-text\")!\n  const _component_ion_label = _resolveComponent(\"ion-label\")!\n  const _component_ion_item = _resolveComponent(\"ion-item\")!\n  const _component_ion_list = _resolveComponent(\"ion-list\")!\n  const _component_view_port = _resolveComponent(\"view-port\")!\n  const _component_his_keyboard = _resolveComponent(\"his-keyboard\")!\n\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    _createVNode(_component_view_port, {\n      showFull: !_ctx.showKeyboard\n    }, {\n      default: _withCtx(() => [\n        (_ctx.showKeyboard)\n          ? (_openBlock(), _createBlock(_component_his_text_input, {\n              key: 0,\n              value: _ctx.filter,\n              onOnValue: _cache[0] || (_cache[0] = (value) => _ctx.onKbValue(value, _ctx.showKeyboard)),\n              disabled: false\n            }, null, 8, [\"value\"]))\n          : _createCommentVNode(\"\", true),\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.checkedItems, (item) => {\n          return (_openBlock(), _createElementBlock(\"span\", {\n            key: item.label\n          }, [\n            _createVNode(_component_ion_chip, {\n              class: \"his-md-text\",\n              color: \"primary\",\n              onClick: ($event: any) => (_ctx.uncheck(item.label))\n            }, {\n              default: _withCtx(() => [\n                _createTextVNode(_toDisplayString(item.label) + \" \", 1),\n                _createVNode(_component_ion_icon, { icon: _ctx.closeIcon }, null, 8, [\"icon\"])\n              ]),\n              _: 2\n            }, 1032, [\"onClick\"])\n          ]))\n        }), 128)),\n        _createVNode(_component_ion_list, { class: \"view-port-content\" }, {\n          default: _withCtx(() => [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.listValues, (entry) => {\n              return (_openBlock(), _createBlock(_component_ion_item, {\n                key: entry.label,\n                color: entry.isChecked ? 'lightblue':'',\n                lines: entry.isChecked ? 'none' : 'inset'\n              }, {\n                default: _withCtx(() => [\n                  _createVNode(_component_ion_checkbox, {\n                    slot: \"start\",\n                    checked: entry.isChecked,\n                    onIonChange: (e) => _ctx.onselect(e, entry),\n                    disabled: entry?.disabled\n                  }, null, 8, [\"checked\", \"onIonChange\", \"disabled\"]),\n                  _createVNode(_component_ion_label, null, {\n                    default: _withCtx(() => [\n                      _createVNode(_component_ion_text, { class: \"his-md-text\" }, {\n                        default: _withCtx(() => [\n                          _createTextVNode(_toDisplayString(entry.label), 1)\n                        ]),\n                        _: 2\n                      }, 1024),\n                      (_ctx.isDescription(entry.description, entry.isChecked))\n                        ? (_openBlock(), _createBlock(_component_ion_text, {\n                            key: 0,\n                            color: entry.description.color\n                          }, {\n                            default: _withCtx(() => [\n                              _createElementVNode(\"p\", null, [\n                                _createElementVNode(\"i\", null, _toDisplayString(entry.description.text), 1)\n                              ])\n                            ]),\n                            _: 2\n                          }, 1032, [\"color\"]))\n                        : _createCommentVNode(\"\", true)\n                    ]),\n                    _: 2\n                  }, 1024)\n                ]),\n                _: 2\n              }, 1032, [\"color\", \"lines\"]))\n            }), 128))\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"showFull\"]),\n    (_ctx.showKeyboard)\n      ? (_openBlock(), _createBlock(_component_his_keyboard, {\n          key: 0,\n          kbConfig: _ctx.keyboard,\n          onKeyPress: _ctx.keypress\n        }, null, 8, [\"kbConfig\", \"onKeyPress\"]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","\nimport { FooterBtnEvent, Option, OptionDescriptionInterface } from \"../Forms/FieldInterface\";\nimport { defineComponent } from \"vue\";\nimport SelectMixin from \"@/components/FormElements/SelectMixin.vue\"\nimport { isEmpty } from \"lodash\";\nimport {\n  IonCheckbox,\n  IonText,\n  IonChip,\n  IonItem,\n  IonList,\n  IonLabel,\n  IonIcon\n} from \"@ionic/vue\";\nimport {\n  close\n} from \"ionicons/icons\"\nimport handleVirtualInput from \"@/components/Keyboard/KbHandler\"\nimport Fuse from \"fuse.js\";\n\nexport default defineComponent({\n  components: {\n    IonCheckbox,\n    IonText,\n    IonChip,\n    IonItem,\n    IonList,\n    IonLabel,\n    IonIcon\n  },\n  data: () => ({\n    listData: [] as Option[],\n    filter: '' as string\n  }),\n  name: \"HisMultipleSelect\",\n  mixins: [SelectMixin],\n  methods: {\n    clearValue() {\n      this.listData.forEach((item) => item.isChecked = false)\n    },\n    async init() {\n      this.$emit('onFieldActivated', this)\n      // Optionally Prevent from rebuilding options everytime the component is activated\n      if (!isEmpty(this.listData) && this.config.buildOptionsOnce) return\n      this.listData = await this.options(this.fdata, this.getChecked(this.listData), this.cdata, this.listData)\n      this.$emit('onValue', this.getChecked(this.listData))\n    },\n    async onselect(event: any, entry: any) {\n      entry.isChecked = event.detail.checked\n      setTimeout(() => this.filter='', 30)\n      if (typeof entry?.other?.onEvent === 'function') {\n        await entry.other.onEvent(entry.isChecked)\n      }\n      if (this.onValue && entry.isChecked) {\n        const ok = await this.onValue(entry, this.fdata, this.cdata)\n        if (!ok) {\n          entry.isChecked = false\n          return\n        }\n      }\n      if (this.onValueUpdate) {\n        this.listData = await this.onValueUpdate([...this.listData], entry, this.fdata, this.cdata)\n      }\n      this.$emit('onValue', this.getChecked(this.listData))\n    },\n    onKbValue(text: any) {\n      this.filter = text\n    },\n    keypress(text: any){\n      this.filter = handleVirtualInput(text, this.filter)\n    },\n    uncheck(label: string) {\n      this.listData.forEach(option => {\n        if (option.label === label) option.isChecked = false\n        this.$emit('onValue', this.getChecked(this.listData))\n      })\n    },\n    getChecked(list: Array<Option>) {\n      const v: any = []\n      list.forEach((item: Option) => {\n        if(item.isChecked == true){\n          v.push(item)\n        }\n      })\n      return v\n    },\n    isDescription(description: OptionDescriptionInterface, isChecked=false) {\n      if (!description)\n        return false\n\n      if (description?.show) {\n          return (description.show === 'onChecked' && isChecked || description.show === 'always')\n      }\n      return true\n    },\n  },\n  computed: {\n    closeIcon: () => close,\n    listValues() {\n      if (this.filter) {\n        const fuse = new Fuse(this.listData, {\n\t\t\t\t\tthreshold: 0.3,\n\t\t\t\t\tkeys: ['label'],\n\t\t\t\t\tuseExtendedSearch: true\n\t\t\t\t})\n\t\t\t\treturn fuse.search(this.filter).map((i: any) => i.item)\n      }\n      return this.listData\n    },\n    checkedItems(): Array<Option> {\n      return this.getChecked(this.listData)\n    }\n  },\n  watch: {\n    footerButtonEvent: {\n      async handler(event: FooterBtnEvent) {\n        if (event && typeof event.onClickComponentEvents?.refreshOptions === 'function') {\n          this.listData = await event.onClickComponentEvents?.refreshOptions(\n            event, this.listData, this.fdata, this.cdata\n          )\n          this.$emit('onValue', this.getChecked(this.listData))\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n    this.init()\n  }\n});\n","import { render } from \"./HisMultipleSelect.vue?vue&type=template&id=463675f4&scoped=true&ts=true\"\nimport script from \"./HisMultipleSelect.vue?vue&type=script&lang=ts\"\nexport * from \"./HisMultipleSelect.vue?vue&type=script&lang=ts\"\n\nimport \"./HisMultipleSelect.vue?vue&type=style&index=0&id=463675f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-463675f4\"]])\n\nexport default __exports__"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_his_text_input","_resolveComponent","_component_ion_icon","_component_ion_chip","_component_ion_checkbox","_component_ion_text","_component_ion_label","_component_ion_item","_component_ion_list","_component_view_port","_component_his_keyboard","_openBlock","_createElementBlock","_Fragment","_createVNode","showFull","showKeyboard","default","_withCtx","_createBlock","key","value","filter","onOnValue","onKbValue","disabled","_createCommentVNode","_renderList","checkedItems","item","label","class","color","onClick","$event","uncheck","_createTextVNode","_toDisplayString","icon","closeIcon","_","listValues","entry","isChecked","lines","slot","checked","onIonChange","e","onselect","isDescription","description","_createElementVNode","text","kbConfig","keyboard","onKeyPress","keypress","defineComponent","components","IonCheckbox","IonText","IonChip","IonItem","IonList","IonLabel","IonIcon","data","listData","name","mixins","SelectMixin","methods","clearValue","this","forEach","init","$emit","isEmpty","config","buildOptionsOnce","options","fdata","getChecked","cdata","event","_entry$other","detail","setTimeout","other","onEvent","onValue","ok","onValueUpdate","handleVirtualInput","option","list","v","push","show","computed","close","fuse","Fuse","threshold","keys","useExtendedSearch","search","map","i","watch","footerButtonEvent","handler","_event$onClickCompone","_event$onClickCompone2","onClickComponentEvents","refreshOptions","deep","immediate","mounted","activated","__exports__"],"sourceRoot":""}