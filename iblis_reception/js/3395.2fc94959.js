"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[3395],{32336:(e,l,t)=>{t.d(l,{i:()=>o});t(98992),t(72577),t(81454);var a=t(741),n=t(50953);const u=(0,n.KR)("full_name");let s=!1;function o(){const e=()=>{var e;if(s)return u.value;const l=(0,a.Kj)(),t=null===(e=l.token)||void 0===e||null===(e=e.value)||void 0===e||null===(e=e.authorization)||void 0===e?void 0:e.user;if(t&&t.preferences){const e=t.preferences.find((e=>"test_name_display"===e.name&&"site"===e.target));if(e)return u.value=e.value,s=!0,u.value}return u.value="full_name",s=!0,u.value},l=e=>{if(!e)return"";const l=e.split(" ");return l.length>1?l.map((e=>e.charAt(0))).join("").toUpperCase():e.substring(0,4).toUpperCase()},t=(l,t)=>{const a=e();return"full_name"===a?l:t||(l||l)};return{getPreference:e,generatePreferredName:l,getDisplayName:t,preference:u}}},70136:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});t(44114),t(98992),t(54520);var a=t(20641),n=t(50953),u=t(90033),s=t(53751),o=t(741),i=t(32336),d=t(75220),r=t(35480),f=t(85901),v=t(73235),c=t(51572);const p={class:"keyboard"},_=(0,a.pM)({__name:"RejectTest",emits:["updated"],setup(e,{emit:l}){const t=(0,d.lq)(),_=(0,d.rd)(),R=(0,o.Kj)(),{getDisplayName:b}=(0,i.i)(),k=(0,n.KR)({}),m=(0,n.KR)(""),F=(0,n.KR)([]),y=(0,n.KR)(""),h=(0,a.EW)((()=>{var e,l;return b(null===(e=k.value)||void 0===e?void 0:e.test_type_name,null===(l=k.value)||void 0===l?void 0:l.test_type_preferred_name)})),g=async()=>{const e=await R.getJson(`/tests/${t.params.id}`);k.value=null===e||void 0===e?void 0:e.data},z=()=>{_.back()},W=async()=>{const e=await(0,f.Cw)("Are you sure you want to cancel?");e&&z()},w=l,x=(0,n.KR)(!1),C=e=>{e&&(x.value=!0)},K=e=>{m.value=e},j=e=>{"{enter}"==e&&(x.value=!1)},N=async()=>{const e=await R.getJson("status_reasons");F.value=null===e||void 0===e?void 0:e.data},T=(0,a.EW)((()=>m.value&&y.value)),I=async()=>{const e=F.value.filter((e=>e.description==y.value)),l=await R.putJson(`test_statuses/${t.params.id}/rejected?status_reason_id=${e[0].id}&person_talked_to=${m.value}`,{});null!==l&&void 0!==l&&l.data&&((0,f.tP)("Test Rejected Successfully"),_.push("/tests"),w("updated",!0))};return(0,a.sV)((()=>{g(),N()})),(e,l)=>((0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)((0,n.R1)(v.AO),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.eU),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.ai),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.BC),{style:{"font-size":"25px","font-weight":"600"}},{default:(0,a.k6)((()=>l[3]||(l[3]=[(0,a.eW)("Reject Test")]))),_:1}),(0,a.bF)((0,n.R1)(v.QW),{slot:"end"},{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.Jm),{strong:!0,onClick:z},{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.iq),{size:"large",icon:(0,n.R1)(r.VNx)},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)((0,n.R1)(v.W9),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.nf),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[4]||(l[4]=[(0,a.eW)("Test Type")]))),_:1}),(0,a.bF)((0,n.R1)(v.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(h.value),1)])),_:1})])),_:1}),(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[5]||(l[5]=[(0,a.eW)("Specimen")]))),_:1}),(0,a.bF)((0,n.R1)(v.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,u.v_)(null===(e=k.value)||void 0===e?void 0:e.specimen_type),1)]})),_:1})])),_:1}),(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[6]||(l[6]=[(0,a.eW)("Patient Name")]))),_:1}),(0,a.bF)((0,n.R1)(v.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,u.v_)(null!==(e=k.value)&&void 0!==e&&e.client?`${k.value.client.first_name} ${k.value.client.middle_name?k.value.client.middle_name:""} ${k.value.client.last_name}`:""),1)]})),_:1})])),_:1}),(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[7]||(l[7]=[(0,a.eW)("Accession Number")]))),_:1}),(0,a.bF)((0,n.R1)(v.he),{slot:"end",style:{"font-size":"18px"}},{default:(0,a.k6)((()=>{var e;return[(0,a.eW)((0,u.v_)(null===(e=k.value)||void 0===e?void 0:e.accession_number),1)]})),_:1})])),_:1}),(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[8]||(l[8]=[(0,a.eW)("Person Talked To: ")]))),_:1}),(0,a.bF)((0,n.R1)(v.$w),{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),required:"",placeholder:"Enter full name",onIonFocus:l[1]||(l[1]=e=>C("person")),style:{"font-size":"18px"}},null,8,["modelValue"])])),_:1}),(0,a.bF)((0,n.R1)(v.uz),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.he),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,a.k6)((()=>l[9]||(l[9]=[(0,a.eW)("Rejection Reason: ")]))),_:1}),(0,a.bF)((0,n.R1)(v.Nm),{required:"",modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value=e)},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.value,(e=>((0,a.uX)(),(0,a.Wv)((0,n.R1)(v.Ip),{key:e.description,value:e.description,style:{"font-size":"18px"}},{default:(0,a.k6)((()=>[(0,a.eW)((0,u.v_)(e.description),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,a.bo)((0,a.Lk)("div",p,[(0,a.bF)(c.A,{onOnChange:K,onOnKeyPress:j,input:m.value,inputName:m.value},null,8,["input","inputName"])],512),[[s.aG,x.value]])])),_:1}),(0,a.bF)((0,n.R1)(v.M0),null,{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.ai),{color:"light",style:{padding:"5px"}},{default:(0,a.k6)((()=>[(0,a.bF)((0,n.R1)(v.Jm),{slot:"start",size:"large",color:"danger",onClick:W},{default:(0,a.k6)((()=>l[10]||(l[10]=[(0,a.eW)(" Cancel ")]))),_:1}),(0,a.bF)((0,n.R1)(v.Jm),{slot:"end",disabled:!T.value,size:"large",color:"success",onClick:I},{default:(0,a.k6)((()=>l[11]||(l[11]=[(0,a.eW)(" Reject ")]))),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})]))}});var R=t(66262);const b=(0,R.A)(_,[["__scopeId","data-v-607fefe9"]]),k=b}}]);
//# sourceMappingURL=3395.2fc94959.js.map