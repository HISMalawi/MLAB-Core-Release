(()=>{var e={19246:(e,t,n)=>{var o={"./":[44222],"./animation-6a0c5338":[97366],"./animation-6a0c5338.js":[97366],"./app-globals-318eef52":[96698,6698],"./app-globals-318eef52.js":[96698,6698],"./button-active-414be235":[8798,8798],"./button-active-414be235.js":[8798,8798],"./capacitor-59395cbd":[58591,8591],"./capacitor-59395cbd.js":[58591,8591],"./compare-with-utils-a96ff2ea":[85451,5451],"./compare-with-utils-a96ff2ea.js":[85451,5451],"./config-49c88215":[99619],"./config-49c88215.js":[99619],"./cubic-bezier-fe2083dc":[81388],"./cubic-bezier-fe2083dc.js":[81388],"./data-bb424ba8":[3016,3016],"./data-bb424ba8.js":[3016,3016],"./dir-babeabeb":[78186,8186],"./dir-babeabeb.js":[78186,8186],"./focus-visible-dd40d69f":[9187,9187],"./focus-visible-dd40d69f.js":[9187,9187],"./form-controller-21dd62b1":[42072,2072],"./form-controller-21dd62b1.js":[42072,2072],"./framework-delegate-ed4ba327":[85185],"./framework-delegate-ed4ba327.js":[85185],"./gesture-controller-1bf57181":[41018],"./gesture-controller-1bf57181.js":[41018],"./haptic-554688a5":[40282,282],"./haptic-554688a5.js":[40282,282],"./hardware-back-button-6107a37c":[9330],"./hardware-back-button-6107a37c.js":[9330],"./helpers-be245865":[99267],"./helpers-be245865.js":[99267],"./index":[44222],"./index-020f5464":[51332,1332],"./index-020f5464.js":[51332,1332],"./index-2cf77112":[88184],"./index-2cf77112.js":[88184],"./index-6e05b96e":[92077],"./index-6e05b96e.js":[92077],"./index-9b0d46f4":[68732],"./index-9b0d46f4.js":[68732],"./index-a1a47f01":[84610],"./index-a1a47f01.js":[84610],"./index-a5d50daf":[96109],"./index-a5d50daf.js":[96109],"./index-f3946ac1":[62040,2040],"./index-f3946ac1.js":[62040,2040],"./index-f7dc70ba":[62127,2127],"./index-f7dc70ba.js":[62127,2127],"./index-fae1515c":[52858],"./index-fae1515c.js":[52858],"./index.js":[44222],"./input-shims-a52daa3a":[75504,5504],"./input-shims-a52daa3a.js":[75504,5504],"./input.utils-a445f677":[99002,9002],"./input.utils-a445f677.js":[99002,9002],"./ion-accordion_2.entry":[24404,4404],"./ion-accordion_2.entry.js":[24404,4404],"./ion-action-sheet.entry":[40007,7],"./ion-action-sheet.entry.js":[40007,7],"./ion-alert.entry":[72517,2517],"./ion-alert.entry.js":[72517,2517],"./ion-app_8.entry":[60419,419],"./ion-app_8.entry.js":[60419,419],"./ion-avatar_3.entry":[55508,5508],"./ion-avatar_3.entry.js":[55508,5508],"./ion-back-button.entry":[28205,8205],"./ion-back-button.entry.js":[28205,8205],"./ion-backdrop.entry":[3389,3389],"./ion-backdrop.entry.js":[3389,3389],"./ion-breadcrumb_2.entry":[47819,7819],"./ion-breadcrumb_2.entry.js":[47819,7819],"./ion-button_2.entry":[26166,6166],"./ion-button_2.entry.js":[26166,6166],"./ion-card_5.entry":[10301,301],"./ion-card_5.entry.js":[10301,301],"./ion-checkbox.entry":[50462,462],"./ion-checkbox.entry.js":[50462,462],"./ion-chip.entry":[45325,5325],"./ion-chip.entry.js":[45325,5325],"./ion-col_3.entry":[77927,7927],"./ion-col_3.entry.js":[77927,7927],"./ion-datetime-button.entry":[92923,2923],"./ion-datetime-button.entry.js":[92923,2923],"./ion-datetime_3.entry":[59136,9136],"./ion-datetime_3.entry.js":[59136,9136],"./ion-fab_3.entry":[89632,9632],"./ion-fab_3.entry.js":[89632,9632],"./ion-img.entry":[71776,1776],"./ion-img.entry.js":[71776,1776],"./ion-infinite-scroll_2.entry":[40532,532],"./ion-infinite-scroll_2.entry.js":[40532,532],"./ion-input.entry":[46208,3827],"./ion-input.entry.js":[46208,3827],"./ion-item-option_3.entry":[52358,2358],"./ion-item-option_3.entry.js":[52358,2358],"./ion-item_8.entry":[99835,9835],"./ion-item_8.entry.js":[99835,9835],"./ion-loading.entry":[78211,8211],"./ion-loading.entry.js":[78211,8211],"./ion-menu_3.entry":[74318,4318],"./ion-menu_3.entry.js":[74318,4318],"./ion-modal.entry":[69898,9898],"./ion-modal.entry.js":[69898,9898],"./ion-nav_2.entry":[84319,4319],"./ion-nav_2.entry.js":[84319,4319],"./ion-picker-column-internal.entry":[58288,8288],"./ion-picker-column-internal.entry.js":[58288,8288],"./ion-picker-internal.entry":[33323,3323],"./ion-picker-internal.entry.js":[33323,3323],"./ion-popover.entry":[99106,9106],"./ion-popover.entry.js":[99106,9106],"./ion-progress-bar.entry":[75100,5100],"./ion-progress-bar.entry.js":[75100,5100],"./ion-radio_2.entry":[40141,141],"./ion-radio_2.entry.js":[40141,141],"./ion-range.entry":[88254,8254],"./ion-range.entry.js":[88254,8254],"./ion-refresher_2.entry":[64654,4654],"./ion-refresher_2.entry.js":[64654,4654],"./ion-reorder_2.entry":[55053,5053],"./ion-reorder_2.entry.js":[55053,5053],"./ion-ripple-effect.entry":[83015,3015],"./ion-ripple-effect.entry.js":[83015,3015],"./ion-route_4.entry":[58573,8573],"./ion-route_4.entry.js":[58573,8573],"./ion-searchbar.entry":[4802,4802],"./ion-searchbar.entry.js":[4802,4802],"./ion-segment_2.entry":[81495,1495],"./ion-segment_2.entry.js":[81495,1495],"./ion-select_3.entry":[51689,1689],"./ion-select_3.entry.js":[51689,1689],"./ion-spinner.entry":[4818,4818],"./ion-spinner.entry.js":[4818,4818],"./ion-split-pane.entry":[50034,34],"./ion-split-pane.entry.js":[50034,34],"./ion-tab-bar_2.entry":[15677,5677],"./ion-tab-bar_2.entry.js":[15677,5677],"./ion-tab_2.entry":[24533,4533],"./ion-tab_2.entry.js":[24533,4533],"./ion-text.entry":[42560,2560],"./ion-text.entry.js":[42560,2560],"./ion-textarea.entry":[55381,5381],"./ion-textarea.entry.js":[55381,5381],"./ion-toast.entry":[34316,4316],"./ion-toast.entry.js":[34316,4316],"./ion-toggle.entry":[86367,6367],"./ion-toggle.entry.js":[86367,6367],"./ionic":[96540,6540],"./ionic-global-94f25d1b":[37812],"./ionic-global-94f25d1b.js":[37812],"./ionic.js":[96540,6540],"./ios.transition-a50a9a55":[73506],"./ios.transition-a50a9a55.js":[73506],"./keyboard-52278bd7":[87685,7685],"./keyboard-52278bd7.js":[87685,7685],"./keyboard-73175e24":[872,872],"./keyboard-73175e24.js":[872,872],"./keyboard-controller-ec5c2bfa":[63854,3854],"./keyboard-controller-ec5c2bfa.js":[63854,3854],"./loader":[22011,2011],"./loader.js":[22011,2011],"./lock-controller-316928be":[40859,859],"./lock-controller-316928be.js":[40859,859],"./md.transition-0da92976":[62795],"./md.transition-0da92976.js":[62795],"./notch-controller-6bd3e0f9":[75211,5211],"./notch-controller-6bd3e0f9.js":[75211,5211],"./overlays-b874c3c3":[21175],"./overlays-b874c3c3.js":[21175],"./spinner-configs-964f7cf3":[86242,6242],"./spinner-configs-964f7cf3.js":[86242,6242],"./status-tap-dfea3607":[1099,3480],"./status-tap-dfea3607.js":[1099,3480],"./swipe-back-37a22d34":[4047,6428],"./swipe-back-37a22d34.js":[4047,6428],"./theme-01f3f29c":[68692],"./theme-01f3f29c.js":[68692],"./watch-options-c2911ace":[51322,1322],"./watch-options-c2911ace.js":[51322,1322]};function i(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(o),i.id=19246,e.exports=i},54140:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=54140,e.exports=t},77270:(e,t,n)=>{"use strict";var o;n.d(t,{N:()=>i,P:()=>o}),function(e){e["TT_TIME"]="HisTime",e["TT_MULTI_SELECT_GRID"]="HisMultiSelectGrid",e["TT_AGE_INPUT"]="HisAgeInput",e["TT_GROUP_SELECTOR"]="HisGroupSelector",e["TT_DATA_TABLE"]="HisDataTable",e["TT_GRID_SELECTOR"]="HisGridSelector",e["TT_NOTE"]="HisNote",e["TT_BARCODE"]="HisBarcodeInput",e["TT_MONTHLY_DAYS"]="HisMonthlyDays",e["TT_TEXT"]="HisTextInput",e["TT_NUMBER"]="HisNumberInput",e["TT_DATETIME"]="datetime",e["TT_SELECT"]="HisSelect",e["TT_MULTIPLE_SELECT"]="HisMultipleSelect",e["TT_NEXT_VISIT_INTERVAL_SELECTION"]="HisNextVisitInterval",e["TT_YES_NO"]="YesNoSelect",e["TT_MULTIPLE_YES_NO"]="MultiYesNoSelect",e["TT_SUMMARY"]="HisSummary",e["TT_DATE_PICKER"]="HisDatePicker",e["TT_CARD_SELECTOR"]="HisCardSelector",e["TT_FULL_DATE"]="HisDateInput",e["TT_IP_ADDRESS"]="HisIPAddress",e["TT_TEXT_BANNER"]="HisTextBanner",e["TT_INFINITE_SCROLL_MULTIPLE_SELECT"]="HisInfiniteScrollMultipleSelect",e["TT_PERSON_RESULT_VIEW"]="PersonSearchView"}(o||(o={}));const i=[o.TT_TIME,o.TT_PERSON_RESULT_VIEW,o.TT_MULTI_SELECT_GRID,o.TT_AGE_INPUT,o.TT_BARCODE,o.TT_NOTE,o.TT_SELECT,o.TT_CARD_SELECTOR,o.TT_MULTIPLE_SELECT,o.TT_TEXT,o.TT_NUMBER,o.TT_MONTHLY_DAYS,o.TT_NEXT_VISIT_INTERVAL_SELECTION,o.TT_YES_NO,o.TT_MULTIPLE_YES_NO,o.TT_SUMMARY,o.TT_DATE_PICKER,o.TT_FULL_DATE,o.TT_IP_ADDRESS,o.TT_TEXT_BANNER,o.TT_DATA_TABLE,o.TT_GROUP_SELECTOR,o.TT_GRID_SELECTOR,o.TT_INFINITE_SCROLL_MULTIPLE_SELECT]},1590:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});n(27495),n(98992),n(54520);var o=n(2543);function i(e){try{for(const t in e){const n=e[t]();if(n)return n}}catch(t){return[t]}}function r(e){return(0,o.isEmpty)(e)?["Value is required"]:null}function a(e){const t=/^(\+?265|0)(((8[89]|9[89])\d{7})|(1\d{6})|(2\d{8})|(31\d{8}))$/;return e&&e.value.match(t)?null:["Not a valid phone number"]}function l(e){const t=/^(?=[a-zA-Z0-9]*$)(?=\d+[a-zA-Z]|[a-zA-Z]+\d)([a-zA-Z\d]){8}$/;return(0,o.isEmpty)(e)||!e.value.toString().match(t)?["Not a valid Malawi National ID number"]:null}function s(e){const t=/\b(?:(?:2(?:[0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9])\.){3}(?:(?:2([0-4][0-9]|5[0-5])|[0-1]?[0-9]?[0-9]))\b/;return e&&e.value.match(t)?null:["Not a valid IP address"]}function c(e){const t=/^(?=.{2,100}$)[a-z!A-Z]+(?:['_.\-!\][a-z]+[a-z!A-Z])*$/;return e&&e.label.match(t)?null:["Invalid name Input"]}function u(e){return isNaN(parseInt(e.value))?["Value must be a number"]:null}function d(e,t,n){const o=e?e.label.length:0;return o>=t&&o<=n?null:[`Value length not within range of ${t} - ${n}`]}function h(e,t,n){const o=parseInt(e.label);return o>=t&&o<=n?null:[`${o} not within range of ${t} - ${n}`]}function m(e){const t=e.filter((e=>{const t=e.value||e.other.value;return"No"===t}));return t.length==e.length?["All values can not be no"]:null}function f(e){const t=["all must be selected"];if(!e)return t;const n=e.filter((e=>""===e.value));return n.length>0?t:null}function p(e,t){return e===t?["Values can not be the same"]:null}const b={validateSeries:i,required:r,isMWPhoneNumber:a,isName:c,isNumber:u,hasLengthRangeOf:d,rangeOf:h,neitherOr:m,anyEmpty:f,notTheSame:p,isIPAddress:s,isMWNationalID:l}},21317:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(27495);function o(e,t,n){let o=t;if(e.match(/enter/i))return`${o}\r\n`;if(e.match(/clear/i))return"";if(o=e.match(/delete|del/i)?o.match(/unknown/i)||o.match(/n\/a/i)?"":o.substring(0,o.length-1):e.match(/space/i)?`${t} `:e.match(/unknown/i)?"Unknown":e.match(/n\/a/i)?"N/A":o.match(/unknown/i)||o.match(/n\/a/i)?e:`${t}${e}`,"string"===typeof o&&o)switch(n){case"lowercase":o=o.toLowerCase();break;case"uppercase":o=o.toUpperCase();break;default:o=o.charAt(0).toUpperCase()+o.slice(1);break}return o}},52110:(e,t,n)=>{"use strict";n.d(t,{Am:()=>i,ZY:()=>l,aD:()=>r,lJ:()=>s,nB:()=>c,pZ:()=>o,uY:()=>a});const o=[["1","2","3"],["4","5","6"],["7","8","9"],[".","0","Del"],["","Done",""]],i=[["1","2","3","+","-","/","*"],["4","5","6","%","=","<",">","Qwerty"],["7","8","9",".",","],["","0",""]],r=[["1","2","3"],["4","5","6"],["7","8","9"],["","0",""]],a=[["1","2","3","4","5","6","7"],["8","9","10","11","12","13","14"],["15","16","17","18","19","20","21"],["22","23","24","25","26","27","28"],["29","30","31"]],l=[["a","b","c","d","e","f","g","h","."],["i","j","k","l","m","n","o","p","q"],["r","s","t","u","v","w","x","y","z"]],s=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l","'"],["z","x","c","v","b","n","m",",",".","A-Z"]],c=[["1","2","3","4","5","6","7","8","9","0","Del"],["q","w","e","r","t","y","u","i","o","p","Clear"],["a","s","d","f","g","h","j","k","l",".","Caps"],["z","x","c","v","b","n","m","<",">","/","Enter"]]},741:(e,t,n)=>{"use strict";n.d(t,{Kj:()=>k,MZ:()=>g});n(74423),n(44114),n(27495),n(81454);var o=n(50953),i=n(20641),r=n(46079);function a(e,t){"object"===typeof t?localStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,t)}function l(e){return e in localStorage}function s(e){const t=localStorage.getItem(e);try{if(t)return JSON.parse(t)}catch(n){return t}}function c(e){localStorage.removeItem(e)}const u={set:a,get:s,del:c,has:l};var d=n(5947),h=n.n(d),m=n(85901);const f=(0,o.KR)({}),p=(0,o.KR)(""),b=(0,o.KR)(""),v=(0,o.KR)(!0),y=(0,o.KR)(!1),_=6666;let F=null;var g,T;function k(e="/api/v1/"){const t=async(t,o)=>{var i;const r={Authorization:`${null===(i=f.value)||void 0===i||null===(i=i.authorization)||void 0===i?void 0:i.token}`,"Content-Type":"application/json"};if(!b.value){const e=await fetch("/config.json");if(e.ok){const t=await e.json();n(t)&&(b.value=t.host)}}const a=`${b.value}${e}${t}`;return fetch(a,{...o,headers:r,mode:"cors"})},n=e=>"object"===typeof e&&null!=e,o=e=>/NetworkError|Failed to fetch/i.test(e),a=async()=>{try{const e=await fetch("https://dns.google.com/resolve?name=example.com");return e.ok}catch(e){return!1}},l=async e=>{try{const t=await e;if([200,201].includes((null===t||void 0===t?void 0:t.status)||0)){const e=await(null===t||void 0===t?void 0:t.json());return n(e)?{ok:!0,data:e}:{ok:!0}}if(400===t.status){const e=await t.json();return n(e)&&(e.errors||e.message)?{ok:!1,error:e.errors||e.message}:{ok:!1,error:g.REQUEST_FAILED}}if(401===t.status)return R(),{ok:!1,error:g.AUTHENTICATION_ERROR};if(422===t.status)return{ok:!1,error:g.ENTITY_ERROR};if(404===t.status)return{ok:!1,error:g.NOT_FOUND};if(500===t.status)return{ok:!1,error:g.SERVER_ERROR}}catch(t){return o(`${t}`)?((0,m.L_)("Network Error has occurred",5e3),v.value=!1,{ok:!1,error:g.NETWORK_ERROR}):{ok:!1,error:g.GENERAL_ERROR}}v.value=!0},s=async e=>{try{const t=await e;if([200,201,304].includes((null===t||void 0===t?void 0:t.status)||0)){const e=await(null===t||void 0===t?void 0:t.text());return e?{ok:!0,data:e}:{ok:!0}}if(400===t.status){const e=await t.text();return e?{ok:!1,error:e}:{ok:!1,error:g.REQUEST_FAILED}}if(401===t.status)return R(),{ok:!1,error:g.AUTHENTICATION_ERROR};if(422===t.status)return{ok:!1,error:g.ENTITY_ERROR};if(404===t.status)return{ok:!1,error:g.NOT_FOUND};if(500===t.status)return{ok:!1,error:g.SERVER_ERROR}}catch(t){return o(`${t}`)?((0,m.L_)("Network Error has occurred",5e3),v.value=!1,{ok:!1,error:g.NETWORK_ERROR}):{ok:!1,error:g.GENERAL_ERROR}}v.value=!0},c=async(e,n={})=>{const o=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&");let i=e;o&&(i+=`?${o}`),h().start();const r=await l(t(i,{method:"GET"}));return h().done(),r},d=async(e,n={})=>{const o=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&");let i=e;o&&(i+=`?${o}`),h().start();const r=await s(t(i,{method:"GET"}));return h().done(),r},k=async(e,n)=>{h().start();const o=await l(t(e,{method:"PUT",body:JSON.stringify(n)}));return h().done(),o},E=async(e,n)=>{h().start();const o=await l(t(e,{method:"POST",body:JSON.stringify(n)}));return h().done(),o},C=async e=>{const t=await E("auth/login",e);return null!==t&&void 0!==t&&t.ok?(I(t.data),!0):(null===t||void 0===t?void 0:t.error)===g.AUTHENTICATION_ERROR&&(R(),(0,m._O)("Unable to login, verify your username and password"),!1)},I=e=>{var t;e?(u.set(T.AuthToken,e),f.value=e,y.value=!0,(0,m.tP)(`Welcome ${(null===(t=f.value)||void 0===t||null===(t=t.authorization)||void 0===t||null===(t=t.user)||void 0===t?void 0:t.username)||"User"}`)):(f.value={},y.value=!1)},A=e=>!!e&&(u.set(T.Location,e),p.value=e,!0),R=()=>{f.value={},y.value=!1,u.del(T.AuthToken),r.A.push("/login")},O=()=>{const e=u.get(T.Location);return e},S=()=>{(0,m.Cw)("Are you sure you want to logout?").then((e=>e&&R()))},N=()=>t("auth/login",{method:"POST"}).then((e=>v.value=[401,200,201].includes(null===e||void 0===e?void 0:e.status)));if((0,i.wB)(v,(e=>{e?((0,m.tP)("Now back online"),F&&(clearInterval(F),F=null)):F||(F=setInterval((()=>N()),_))})),!Object.keys(f.value).length){const e=u.get(T.AuthToken);e&&I(e)}return b.value||fetch("/config.json").then((e=>{if(!e)return(0,m.L_)(g.CONFIGURATION_ERROR);e.json().then((e=>{n(e)&&(b.value=e.host)}))})).catch((e=>{(0,m.L_)(g.CONFIGURATION_ERROR),console.error(e)})),{token:f,location:p,getLocation:O,isOnline:v,hasSession:y,putJson:k,signout:S,getJson:c,getText:d,postJson:E,hasInternet:a,authenticate:C,updateLocation:A}}(function(e){e["CONFIGURATION_ERROR"]="Unable to resolve configuration",e["ENTITY_ERROR"]="Entity Error",e["NOT_FOUND"]="Request not found",e["REQUEST_FAILED"]="Request Failed",e["NETWORK_ERROR"]="Network Error",e["SERVER_ERROR"]="Server Error",e["GENERAL_ERROR"]="General Error",e["AUTHENTICATION_ERROR"]="Authentication Error"})(g||(g={})),function(e){e["AuthToken"]="auth_token",e["Location"]="selected_location"}(T||(T={}))},94355:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(44114);var o=n(46079),i=n(85901),r=n(50953),a=n(741);const l=(0,r.KR)({});function s(e){(0,a.Kj)().getJson("orders/search_by_accession_or_tracking_number",{accession_number:e}).then((t=>{t.ok?(l.value=t.data,o.A.push("/order/view/"+e)):(0,i._O)(t.error)})).catch((e=>{(0,i.L_)(a.MZ.GENERAL_ERROR),console.error(e)}))}function c(){return{searchResult:l,searchbyID:s}}},97496:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>m,ui:()=>l});n(27495);var o,i,r,a,l,s=n(37736),c=n(2543),u=n(50953),d=n(20641);(function(e){e["ACTIVE_PLOFILE"]="active_profile",e["PLATFORM_PROFILES"]="platformProfiles"})(o||(o={})),function(e){e["WEB"]="WEB",e["FILE_SYSTEM"]="FILE_SYSTEM"}(i||(i={})),function(e){e["BARCODE_SCANNER"]="BARCODE_SCANNER",e["CAMERA_SCANNER"]="CAMERA_SCANNER"}(r||(r={})),function(e){e["WEB"]="WEB",e["BLUETOOTH"]="BLUETOOTH"}(a||(a={})),function(e){e["HIS_KEYBOARD_ONLY"]="HIS_KEYBOARD_ONLY",e["NATIVE_AND_HIS_KEYBOARD"]="NATIVE_AND_HIS_KEYBOARD"}(l||(l={}));const h={Desktop:{profileName:"Desktop",fileExport:i.WEB,scanner:r.BARCODE_SCANNER,printer:a.WEB,keyboard:l.NATIVE_AND_HIS_KEYBOARD},Mobile:{profileName:"Mobile",fileExport:i.FILE_SYSTEM,scanner:r.CAMERA_SCANNER,printer:a.BLUETOOTH,keyboard:l.HIS_KEYBOARD_ONLY}};function m(){const e=(0,u.KR)(h["Desktop"]),t=(0,u.KR)({}),n=localStorage.getItem(o.ACTIVE_PLOFILE),i=localStorage.getItem(o.PLATFORM_PROFILES);return t.value="string"===typeof i?JSON.parse(i):h,"string"===typeof n&&`${n}`.match(/\{.*\}/)?e.value=JSON.parse(n):(0,c.isEmpty)(t.value)||((0,s.a)("mobile")&&"Mobile"in t.value?e.value=t.value["Mobile"]:(0,s.a)("desktop")&&"Desktop"in t.value&&(e.value=t.value["Desktop"])),(0,d.wB)((()=>e.value),(e=>{localStorage.setItem(o.ACTIVE_PLOFILE,JSON.stringify(e))})),{activePlatformProfile:e,platformProfiles:t}}},78767:(e,t,n)=>{"use strict";var o=n(53751),i=n(20641),r=n(50953),a=n(73235);const l=(0,i.pM)({__name:"App",setup(e){return(e,t)=>((0,i.uX)(),(0,i.Wv)((0,r.R1)(a.U1),null,{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.Wv)((0,r.R1)(a.Rg),{key:e.$route.fullPath}))])),_:1}))}}),s=l,c=s;var u=n(46079);n(69326),n(10202),n(21152),n(59256),n(39400),n(22595),n(47706),n(70862),n(25626),n(32705);const d=(0,o.Ef)(c).use(a.hx).use(u.A);u.A.isReady().then((()=>{d.mount("#app")}))},46079:(e,t,n)=>{"use strict";n.d(t,{A:()=>F});var o=n(92875),i=(n(74423),n(44114),n(27495),n(98992),n(54520),n(81454),n(20641)),r=n(50953),a=n(90033),l=n(73235),s=n(35480),c=n(741),u=n(58247),d=n(94355),h=n(95357),m=n(85901),f=n(82077);const p=(0,i.pM)({__name:"HomePage",setup(e){var t;const{signout:n,token:o,getLocation:p}=(0,c.Kj)(),b=(0,r.KR)(),v=null===(t=o.value)||void 0===t||null===(t=t.authorization)||void 0===t?void 0:t.user,y=(0,r.KR)(!1),_=()=>{y.value=!0,(0,h.q)(y.value,b.value)},g=(0,i.EW)((()=>`${(null===v||void 0===v?void 0:v.first_name)||""} ${(null===v||void 0===v?void 0:v.last_name)||""}`)),T=(0,i.EW)((()=>`${((null===v||void 0===v?void 0:v.departments)||[]).map((e=>e.name)).splice(0,3).join(", ")}...`)),k=e=>{const t=/^(x|l).*\d/;return t.test(e.toLowerCase())},E=e=>e.includes("^"),C=async e=>{const t=(0,c.Kj)(),n=await t.getJson("global"),o=null===n||void 0===n?void 0:n.data.code,i=`${o}${e}`;(0,d.A)().searchbyID(i)},I=async e=>{var t;const n=new f.A,o=(0,c.Kj)(),{getLocation:i,token:r}=(0,c.Kj)(),a=null===(t=r.value)||void 0===t||null===(t=t.authorization)||void 0===t?void 0:t.user,l=a.lab_locations.filter((e=>e.name==i())),s=await o.postJson("orders",{oerr:!0,segments:e,lab_location:l[0].id}).then((e=>{b.value=e.data;const t=e.data.accession_number;if(!e.ok)return(0,m._O)(e.error);const o={accession_number:t,oerr:!0};n.writeLbl("printout/accession_number",o,`${t}.lbl`),y.value=!0;try{F.push("/tests")}catch(i){console.log(i)}(0,m.tP)("Order as been created!"),_()})).catch((()=>(0,m.L_)(c.MZ.GENERAL_ERROR)));s&&F.push("/tests")},A=async e=>{E(e)?I(e):k(e)&&(k(e)?F.push(`/nlims-order?tracking-number=${e}`):C(e))};return(e,t)=>((0,i.uX)(),(0,i.Wv)((0,r.R1)(l.AO),null,{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.eU),{translucent:!0},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.ai),{style:{padding:"10px"}},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.KW),{slot:"start",style:{height:"60px"},src:"assets/Malawi-Coat_of_arms_of_arms.png"}),(0,i.bF)((0,r.R1)(l.BC),{style:{"text-transform":"uppercase"},class:"his-lg-text"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.eW)("IBLIS Reception")]))),_:1})])),_:1})])),_:1}),(0,i.bF)((0,r.R1)(l.W9),{fullscreen:!0},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.b_),{style:{margin:"10px"}},{default:(0,i.k6)((()=>[(0,i.bF)(u.A,{placeholder:"Scan Accession Number",onOnScan:A})])),_:1}),(0,i.bF)((0,r.R1)(l.b_),{cstyle:"margin:10px auto;margin-top: 3%;width:90%"},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.nf),null,{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.uz),{lines:"none",class:"ion-padding his-lg-text"},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.iq),{icon:(0,r.R1)(s.MVM),size:"large",color:"black",slot:"start"},null,8,["icon"]),(0,i.bF)((0,r.R1)(l.he),null,{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.eW)("Full name")]))),_:1}),(0,i.bF)((0,r.R1)(l.he),{slot:"end"},{default:(0,i.k6)((()=>[(0,i.Lk)("b",null,(0,a.v_)(g.value),1)])),_:1})])),_:1}),(0,i.bF)((0,r.R1)(l.uz),{lines:"none",class:"ion-padding his-lg-text"},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.iq),{icon:(0,r.R1)(s.iRW),size:"large",color:"black",slot:"start"},null,8,["icon"]),(0,i.bF)((0,r.R1)(l.he),null,{default:(0,i.k6)((()=>t[4]||(t[4]=[(0,i.eW)("Location")]))),_:1}),(0,i.bF)((0,r.R1)(l.he),{slot:"end"},{default:(0,i.k6)((()=>[(0,i.Lk)("b",null,(0,a.v_)((0,r.R1)(p)()),1)])),_:1})])),_:1}),(0,i.bF)((0,r.R1)(l.uz),{lines:"none",class:"ion-padding his-lg-text"},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.iq),{icon:(0,r.R1)(s.j8F),size:"large",color:"black",slot:"start"},null,8,["icon"]),(0,i.bF)((0,r.R1)(l.he),null,{default:(0,i.k6)((()=>t[5]||(t[5]=[(0,i.eW)("Department")]))),_:1}),(0,i.bF)((0,r.R1)(l.he),{slot:"end"},{default:(0,i.k6)((()=>[(0,i.Lk)("b",null,(0,a.v_)(T.value),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.bF)((0,r.R1)(l.M0),null,{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.ai),{color:"light",style:{padding:"10px"}},{default:(0,i.k6)((()=>[(0,i.bF)((0,r.R1)(l.Jm),{onClick:(0,r.R1)(n),size:"large",color:"danger"},{default:(0,i.k6)((()=>t[6]||(t[6]=[(0,i.eW)(" Logout ")]))),_:1},8,["onClick"]),(0,i.bF)((0,r.R1)(l.Jm),{onClick:t[0]||(t[0]=()=>(0,r.R1)(F).push("/tests")),slot:"end",size:"large"},{default:(0,i.k6)((()=>t[7]||(t[7]=[(0,i.eW)(" Tests ")]))),_:1}),(0,i.bF)((0,r.R1)(l.Jm),{onClick:t[1]||(t[1]=e=>(0,r.R1)(F).push("/find")),slot:"end",size:"large",color:"success"},{default:(0,i.k6)((()=>t[8]||(t[8]=[(0,i.eW)(" Find/Register ")]))),_:1})])),_:1})])),_:1}),t[9]||(t[9]=(0,i.Lk)("div",{id:"rootContainer"},null,-1))])),_:1}))}}),b=p,v=b,y=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:v,meta:{requiresAuthentication:!0}},{path:"/tests",component:()=>Promise.all([n.e(5093),n.e(7120),n.e(6210)]).then(n.bind(n,86210)),meta:{requiresAuthentication:!0}},{path:"/nlims-order",component:()=>Promise.all([n.e(5093),n.e(9545)]).then(n.bind(n,49545)),meta:{requiresAuthentication:!0}},{path:"/patient-details/:id",component:()=>Promise.all([n.e(5093),n.e(5357)]).then(n.bind(n,55357)),meta:{requiresAuthentication:!0}},{path:"/test/details",component:()=>Promise.all([n.e(5093),n.e(5647)]).then(n.bind(n,25647)),meta:{requiresAuthentication:!0}},{path:"/test/reject/:id",component:()=>Promise.all([n.e(1572),n.e(2206)]).then(n.bind(n,31881)),meta:{requiresAuthentication:!0}},{path:"/order/view/:identifier",component:()=>n.e(415).then(n.bind(n,80415)),meta:{requiresAuthentication:!0}},{path:"/order/reject/:identifier",component:()=>Promise.all([n.e(1572),n.e(4295)]).then(n.bind(n,14916)),meta:{requiresAuthentication:!0}},{path:"/find",component:()=>Promise.all([n.e(9838),n.e(8377)]).then(n.bind(n,38377)),meta:{requiresAuthentication:!0}},{path:"/edit-client/:client_id",component:()=>Promise.all([n.e(9838),n.e(1842)]).then(n.bind(n,91842)),meta:{requiresAuthentication:!0}},{path:"/order/:client_id",component:()=>n.e(9938).then(n.bind(n,59938)),meta:{requiresAuthentication:!0}},{path:"/login",component:()=>Promise.all([n.e(1572),n.e(129)]).then(n.bind(n,5490)),meta:{requiresAuthentication:!1}},{path:"/locations",component:()=>n.e(4117).then(n.bind(n,74117)),meta:{requiresAuthentication:!0}}],_=(0,o.aE)({history:(0,o.LA)("/"),routes:y});_.beforeEach(((e,t,n)=>null!==e&&void 0!==e&&e.meta?"boolean"===typeof e.meta.requiresAuthentication&&e.meta.requiresAuthentication&&!(0,c.Kj)().hasSession.value?n("/login"):void n():n()));const F=_},82077:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(14603),n(47566),n(98721);var o=n(741),i=n(85901);class r{async writeLbl(e,t,n=`${Date.now()}.lbl`){const r=(0,o.Kj)();try{const o=await r.getText(e,t),a=new Blob([null===o||void 0===o?void 0:o.data],{type:"text/plain"});e=URL.createObjectURL(a);const l=document.createElement("a");l.setAttribute("href",e),l.setAttribute("download",n),l.click(),URL.revokeObjectURL(e),(0,i.tP)("Accession number printed!")}catch(a){console.error(a)}}}},85901:(e,t,n)=>{"use strict";n.d(t,{Cw:()=>_,L_:()=>v,tP:()=>b,_O:()=>p});var o=n(73235),i=n(20641),r=n(53751),a=n(90033);const l={class:"vertically-align ion-padding-horizontal"};function s(e,t,n,o,s,c){const u=(0,i.g2)("action-header"),d=(0,i.g2)("ion-content"),h=(0,i.g2)("action-footer");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bo)((0,i.bF)(u,{title:e.title,subtitle:e.subtitle,color:e.color},null,8,["title","subtitle","color"]),[[r.aG,e.title||e.subtitle]]),(0,i.bF)(d,{style:{"text-align":"center"}},{default:(0,i.k6)((()=>[(0,i.Lk)("h2",l,(0,a.v_)(e.body),1)])),_:1}),(0,i.bF)(h,{buttons:e.actionButtons},null,8,["buttons"])],64)}var c=n(45763);const u=(0,i.pM)({mixins:[c.A],props:{body:{type:String,require:!0}}});var d=n(66262);const h=(0,d.A)(u,[["render",s]]),m=h;async function f(e,t="primary",n=2e3){const i=await o.eE.create({message:e,position:"top",animated:!0,duration:n,color:t,cssClass:"his-md-text",keyboardClose:!0});return i.present()}function p(e,t=2e3){return f(e,"warning",t)}function b(e,t=1e3){return f(e,"success",t)}function v(e,t=2e3){return f(e,"danger",t)}function y(e,t="",n=[]){return o.OZ.create({component:m,backdropDismiss:!1,cssClass:"small-modal custom-modal-backdrop",componentProps:{subtitle:t,body:e,actionButtons:n}})}async function _(e,t={}){const n=await y(e,t.header||"Confirmation",[{name:t.cancelBtnLabel||"No",size:"large",slot:"start",color:"danger",visible:!0,role:"Cancel",onClick:({role:e})=>o.OZ.dismiss(e)},{name:t.confirmBtnLabel||"Yes",size:"large",slot:"end",color:"success",visible:!0,role:"Confirm",onClick:({role:e})=>o.OZ.dismiss(e)}]);n.present();const{data:i}=await n.onDidDismiss();return"Confirm"===i}},95357:(e,t,n)=>{"use strict";n.d(t,{q:()=>g});var o=n(20641),i=n(90033);function r(e,t,n,r,a,l){const s=(0,o.g2)("ion-title"),c=(0,o.g2)("IonIcon"),u=(0,o.g2)("ion-button"),d=(0,o.g2)("ion-buttons"),h=(0,o.g2)("ion-toolbar"),m=(0,o.g2)("ion-header"),f=(0,o.g2)("ion-label"),p=(0,o.g2)("ion-item"),b=(0,o.g2)("ion-list"),v=(0,o.g2)("ion-content"),y=(0,o.g2)("ion-footer"),_=(0,o.g2)("ion-modal"),F=(0,o.g2)("ion-page");return(0,o.uX)(),(0,o.Wv)(F,null,{default:(0,o.k6)((()=>[(0,o.bF)(v,{class:"ion-padding"},{default:(0,o.k6)((()=>[(0,o.bF)(_,{"is-open":e.open},{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(s,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Patient order")]))),_:1}),(0,o.bF)(d,{slot:"end"},{default:(0,o.k6)((()=>[(0,o.bF)(u,{strong:!0,onClick:t[0]||(t[0]=t=>e.handleDialog())},{default:(0,o.k6)((()=>[(0,o.bF)(c,{size:"large",icon:e.close},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(b,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("Tracking Number")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t;return[(0,o.eW)((0,i.v_)(null===(t=e.order)||void 0===t?void 0:t.tracking_number),1)]})),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("Accession Number")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t;return[(0,o.eW)((0,i.v_)(null===(t=e.order)||void 0===t?void 0:t.accession_number),1)]})),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("Patient Name")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t,n,r,a;return[(0,o.eW)((0,i.v_)(`${null===(t=e.order)||void 0===t?void 0:t.client.first_name} ${null!=(null===(n=e.order)||void 0===n?void 0:n.client.middle_name)?null===(r=e.order)||void 0===r?void 0:r.client.middle_name:""} ${null===(a=e.order)||void 0===a?void 0:a.client.last_name}`),1)]})),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("Specimen Type")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t;return[(0,o.eW)((0,i.v_)(null===(t=e.order)||void 0===t?void 0:t.specimen),1)]})),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("Test(s) Ordered")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t;return[(0,o.eW)((0,i.v_)(e.extractedTests(null===(t=e.order)||void 0===t?void 0:t.tests)),1)]})),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,{style:{"font-size":"18px","font-weight":"600"}},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("Specimen Status")]))),_:1}),(0,o.bF)(f,{slot:"end"},{default:(0,o.k6)((()=>{var t,n;return[(0,o.eW)((0,i.v_)("specimen-not-collected"==(null===(t=e.order)||void 0===t?void 0:t.order_status)?"Specimen not collected":null===(n=e.order)||void 0===n?void 0:n.order_status),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,o.bF)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{color:"light",style:{padding:"5px"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{onClick:t[1]||(t[1]=t=>e.changeSpecimenStatus("accepted")),slot:"end",size:"large",color:"success"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)(" Accept ")]))),_:1}),(0,o.bF)(u,{onClick:e.rejectOrder,slot:"end",size:"large",color:"danger"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)(" Reject ")]))),_:1},8,["onClick"]),(0,o.bF)(u,{onClick:e.addTest,slot:"end",size:"large",color:"primary"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)(" Add Test ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["is-open"])])),_:1})])),_:1})}n(44114),n(81454);var a=n(741),l=n(46079),s=n(85901),c=n(27311),u=n(73235),d=n(35480),h=n(77270),m=n(1590),f=n(94355);const p=(0,o.pM)({components:{IonPage:u.AO,IonButtons:u.QW,IonButton:u.Jm,IonIcon:u.iq,IonModal:u.Sb,IonHeader:u.eU,IonContent:u.W9,IonToolbar:u.ai,IonTitle:u.BC,IonFooter:u.M0,IonItem:u.uz,IonLabel:u.he,IonList:u.nf},data(){return{open:!0,close:d.VNx,details:{client:{date_of_birth:"",first_name:"",id:"",last_name:"",middle_name:"",sex:""}}}},props:{order:{required:!0,type:Object},show:{required:!0,default:!1,type:Boolean}},async created(){const e=(0,a.Kj)(),t=await e.getJson(`tests/${this.order.tests[0].id}`);null!==t&&void 0!==t&&t.ok&&(this.details=null===t||void 0===t?void 0:t.data)},methods:{extractedTests(e){return e.map((e=>e.test_type_name)).join(", ")},handleDialog(){this.open=!1},async changeSpecimenStatus(e){const t=(0,a.Kj)(),n=await t.putJson(`order_statuses/${e}`,{order_id:this.details.order_id});null!==n&&void 0!==n&&n.ok&&((0,s.tP)(`Specimen ${e} successfully!`),this.open=!1,l.A.push("/tests"))},async rejectOrder(){this.open=!1,l.A.push(`order/reject/${this.order.id}`)},loadOrder(){(0,f.A)().searchbyID(this.details.accession_number)},async addTest(){this.handleDialog();const e=(0,a.Kj)();(0,c.u0)([{id:"test_types",helpText:"Select test types",type:h.P.TT_MULTIPLE_SELECT,config:{showKeyboard:!0},computedValue:(e,t)=>({order_id:this.details.order_id,tests:e.map((e=>({specimen:e.value,test_type:e.label})))}),options:async()=>{const t=await e.getJson("specimen/test_types",{specimen_id:this.details.specimen_id});return console.log(t),null!==t&&void 0!==t&&t.ok?t.data.map((e=>({label:e,value:this.details.specimen_id}))):[]},validation:e=>m.A.required(e)}],(async(t,n)=>{const o=await e.postJson("orders/add_test_to_order",n.test_types);if(null===o||void 0===o||!o.ok)return(0,s._O)(null===o||void 0===o?void 0:o.error);u.OZ.getTop().then((e=>e&&u.OZ.dismiss())),this.loadOrder()}),null)}}});var b=n(66262);const v=(0,b.A)(p,[["render",r]]),y=v;var _=n(53751);let F;function g(e,t){const n=document.getElementById("rootContainer");F&&F.unmount(),F=(0,_.Ef)(y,{show:e,order:t}),F.mount(n,!1)}},27311:(e,t,n)=>{"use strict";n.d(t,{u0:()=>b,Ay:()=>y,Qf:()=>v});var o=n(73235),i=n(20641),r=n(90033);function a(e,t,n,o,a,l){const s=(0,i.g2)("ion-title"),c=(0,i.g2)("ion-toolbar"),u=(0,i.g2)("ion-header"),d=(0,i.g2)("ion-content"),h=(0,i.g2)("ion-button"),m=(0,i.g2)("ion-footer"),f=(0,i.g2)("ion-page");return(0,i.uX)(),(0,i.Wv)(f,null,{default:(0,i.k6)((()=>[(0,i.bF)(u,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,null,{default:(0,i.k6)((()=>[(0,i.bF)(s,{class:"his-lg-text ion-text-center"},{default:(0,i.k6)((()=>[(0,i.eW)((0,r.v_)(e.currentField.helpText),1)])),_:1})])),_:1})])),_:1}),(0,i.bF)(d,null,{default:(0,i.k6)((()=>[((0,i.uX)(),(0,i.Wv)(i.PR,null,[((0,i.uX)(),(0,i.Wv)((0,i.$y)(e.currentField.type),{key:e.currentField.id,currentFieldig:e.currentField.currentFieldig,options:e.currentField.options,preset:e.currentField.preset,clear:e.valueClearIndex,fdata:e.formData,config:e.currentField.config,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,onOnValue:e.onFieldValue},null,40,["currentFieldig","options","preset","clear","fdata","config","cdata","activationState","onValue","defaultValue","onValueUpdate","onOnValue"]))],1024))])),_:1}),(0,i.bF)(m,null,{default:(0,i.k6)((()=>[(0,i.bF)(c,{color:"light"},{default:(0,i.k6)((()=>[(0,i.bF)(h,{disabled:e.disableBtn,onClick:e.onClose,slot:"start",color:"danger",size:"large"},{default:(0,i.k6)((()=>t[0]||(t[0]=[(0,i.eW)(" Close ")]))),_:1},8,["disabled","onClick"]),(0,i.bF)(h,{disabled:e.disableBtn,onClick:e.onClear,slot:"end",color:"warning",size:"large"},{default:(0,i.k6)((()=>t[1]||(t[1]=[(0,i.eW)(" Clear ")]))),_:1},8,["disabled","onClick"]),(0,i.bF)(h,{disabled:e.disableBtn,onClick:e.onDone,slot:"end",color:"success",size:"large"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.eW)(" Done ")]))),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1})}n(98992),n(3949);var l=n(85901),s=n(77270);function c(){const e={};return s.N.forEach((t=>{e[t]=(0,i.$V)((()=>n(33274)(`./${t}.vue`)))})),e}const u=(0,i.pM)({name:"SingleFieldTouchForm",components:{IonPage:o.AO,IonContent:o.W9,IonFooter:o.M0,IonToolbar:o.ai,IonButton:o.Jm,IonHeader:o.eU,IonTitle:o.BC,...c()},props:{dismissType:{type:String},onFinish:{type:Function,required:!0},currentField:{type:Object,required:!0}},data:()=>({valueClearIndex:0,formData:{},computedFormData:{},state:"",value:null,disableBtn:!1}),methods:{onClose(){"modal"===this.dismissType?o.OZ.dismiss():this.$router.back()},onClear(){this.valueClearIndex+=1,this.value=null},onFieldValue(e){this.value=e},onDone(){if(this.disableBtn=!0,this.currentField.validation){const e=this.currentField.validation(this.value);if(this.disableBtn=!1,e)return(0,l._O)(e.join(", "),6e4)}try{this.onFinish(this.value)}catch(e){(0,l.L_)(`${e}`),console.error(e)}this.onClose(),this.disableBtn=!1}}});var d=n(66262);const h=(0,d.A)(u,[["render",a]]),m=h;var f=n(25486),p=n(6336);async function b(e,t,n){(await o.OZ.create({component:f.A,backdropDismiss:!1,cssClass:"full-modal",componentProps:{onFinish:t,fields:e,skipSummary:!0,disableAutoModalDismiss:!0,cancelAction:()=>{"function"===typeof n&&n(),o.OZ.dismiss()}}})).present()}async function v(e,t={}){const n="boolean"!==typeof(null===t||void 0===t?void 0:t.strictNumbers)||(null===t||void 0===t?void 0:t.strictNumbers),i=await o.OZ.create({component:p.A,backdropDismiss:!1,cssClass:"keypad-modal custom-modal-backdrop",componentProps:{title:(null===t||void 0===t?void 0:t.title)||"",preset:(null===t||void 0===t?void 0:t.preset)||"",toggleButton:null===t||void 0===t?void 0:t.toggleButton,strictNumbers:n,customKeyboard:null===t||void 0===t?void 0:t.customKeyboard,noFloat:"boolean"===typeof(null===t||void 0===t?void 0:t.noFloat)&&t.noFloat,onKeyPress(t,o){e(n?parseInt(t):t,o)}}});i.present()}async function y(e,t){(await o.OZ.create({component:m,backdropDismiss:!1,cssClass:"full-modal",componentProps:{dismissType:"modal",currentField:e,onFinish:t}})).present()}},87063:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(44114),n(72712),n(98992),n(8872);function o(e,t=2){return e.reduce(((n,o,i)=>(i%t===0&&n.push(e.slice(i,i+t)),n)),[])}function i(e,t){return Object.keys(e).sort(((e,n)=>t(e,n))).reduce(((t,n)=>(t[n]=e[n],t)),{})}const r={convertArrayToTurples:o,orderObj:i}},58247:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(20641),i=n(90033),r=n(53751);const a=["placeholder"];function l(e,t,n,l,s,c){const u=(0,o.g2)("ion-col"),d=(0,o.g2)("ion-row"),h=(0,o.g2)("ion-grid");return(0,o.uX)(),(0,o.Wv)(h,null,{default:(0,o.k6)((()=>[(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{size:e.iconSize,onClick:e.useCameraScanner,style:{"max-height":"100px"}},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("img",{id:"barcode-img",class:"clickable",src:"/assets/barcode.svg"},null,-1)]))),_:1},8,["size","onClick"]),(0,o.bF)(u,{size:e.inputSize},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.Lk)("input",{id:"barcode-inputbox",placeholder:e.placeholder,"onUpdate:modelValue":t[0]||(t[0]=t=>e.typedBarcode=t),autofocus:!0,style:(0,i.Tr)({fontSize:e.fontSize,textShadow:"wrap"})},null,12,a),[[r.Jo,e.typedBarcode]])])),_:1},8,["size"])])),_:1})])),_:1})}n(27495),n(25440);var s=n(50953),c=n(73235),u=n(97496),d=(n(74423),n(44114),n(79978),n(4244)),h=n.n(d);function m(){const e=(0,s.KR)(""),t=(0,s.KR)([]);return(0,o.sV)((()=>{h().attachTo(document,{reactToPaste:!0,minLength:1,onScan:function(n){t.value.length?t.value.includes("$")&&(e.value=t.value.join("").replaceAll(/\$/gi,""),t.value=[]):e.value=n.replaceAll(/\$/gi,"")},onScanError(e){console.log("onScanError: "+JSON.stringify(e))},onKeyDetect(e,n){`${n.key}`.match(/backspace/i)&&t.value.length?t.value.pop():(`${n.key}`.match(/enter/i)&&t.value.push("$"),1===(n.key||[]).length&&t.value.push(n.key))}})})),(0,o.xo)((()=>{h().detachFrom(document)})),e}var f=n(18214);const p=(0,o.pM)({name:"BarcodeInput",components:{IonRow:c.ln,IonCol:c.hU,IonGrid:c.lO},props:{clearValue:String,virtualText:String,placeholder:{type:String,default:"Scan barcode or QR code"},size:{type:String,default:"large"}},emits:["onScan","onValue"],setup(e,{emit:t}){const{activePlatformProfile:n}=(0,u.Ay)(),i=m(),r=(0,s.KR)(""),a=()=>{try{f.v.scan().then((e=>{i.value=e.text}))}catch(e){console.log(e)}};return(0,o.wB)((()=>e.clearValue),(()=>r.value="")),(0,o.wB)((()=>e.virtualText),(e=>r.value=e||"")),(0,o.wB)(i,(e=>{if(r.value&&!r.value.match(/.+\$$/i))return;const n=r.value?r.value.replace(/\$/gi,""):e;t("onScan",n),t("onValue",n),r.value=""})),{typedBarcode:r,KeyboardType:u.ui,activePlatformProfile:n,iconSize:(0,o.EW)((()=>"small"===e.size?3:2)),inputSize:(0,o.EW)((()=>"small"===e.size?9:10)),fontSize:(0,o.EW)((()=>"small"===e.size?"15px":"42px")),useCameraScanner:a}}});var b=n(66262);const v=(0,b.A)(p,[["render",l],["__scopeId","data-v-6c229bc7"]]),y=v},38553:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(20641),i=n(90033);function r(e,t,n,r,a,l){return(0,o.uX)(),(0,o.CE)("div",{id:"view-port",class:(0,i.C4)(e.showFull?"":"half")},[(0,o.RG)(e.$slots,"default",{},void 0,!0)],2)}const a=(0,o.pM)({name:"ViewPort",props:{showFull:{type:Boolean,default:()=>!0}}});var l=n(66262);const s=(0,l.A)(a,[["render",r],["__scopeId","data-v-7c293cad"]]),c=s},45763:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var o=n(20641),i=n(90033);const r={key:0};function a(e,t,n,a,l,s){const c=(0,o.g2)("ion-title"),u=(0,o.g2)("ion-toolbar"),d=(0,o.g2)("ion-header");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"ion-text-center"},{default:(0,o.k6)((()=>[(0,o.Lk)("span",{class:(0,i.C4)(["his-lg-text",e.color])},(0,i.v_)(e.title),3),e.subtitle?((0,o.uX)(),(0,o.CE)("h1",r,(0,i.v_)(e.subtitle),1)):(0,o.Q3)("",!0)])),_:1})])),_:1})])),_:1})}var l=n(73235);const s=(0,o.pM)({components:{IonToolbar:l.ai,IonTitle:l.BC,IonHeader:l.eU},props:{title:{type:String,required:!0},subtitle:{type:String},color:{type:String}}});var c=n(66262);const u=(0,c.A)(s,[["render",a],["__scopeId","data-v-069a3628"]]),d=u,h={style:{padding:"10px"}};function m(e,t,n,i,r,a){const l=(0,o.g2)("dynamic-nav");return(0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(l,{color:"light",btns:e.btns},null,8,["btns"])])}n(81454);var f=n(53751);function p(e,t,n,r,a,l){const s=(0,o.g2)("ion-button"),c=(0,o.g2)("ion-toolbar"),u=(0,o.g2)("ion-footer");return(0,o.uX)(),(0,o.Wv)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{color:e.color},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.footerBtns,((e,t)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(s,{key:t,slot:e.slot,onClick:t=>e.onClick(e),color:e.color,class:(0,i.C4)(e.styleClass),size:e.size},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.name),1)])),_:2},1032,["slot","onClick","color","class","size"])),[[f.aG,e.visible]]))),128))])),_:1},8,["color"])])),_:1})}const b=(0,o.pM)({name:"HisNavFooter",data:()=>({footerBtns:[]}),created(){this.$emit("onFooterInstance",this)},props:{color:{type:String,default:"dark"},state:{type:Object},btns:{type:Object,required:!0}},components:{IonButton:l.Jm,IonFooter:l.M0,IonToolbar:l.ai},watch:{state:{handler(e){e&&(this.footerBtns=this.footerBtns.map((t=>(t.visibleOnStateChange&&(t.visible=t.visibleOnStateChange(e)),t))))},deep:!0,immediate:!0},btns:{handler(e){e&&(this.footerBtns=[...e])},deep:!0,immediate:!0}}}),v=(0,c.A)(b,[["render",p]]),y=v,_=(0,o.pM)({components:{DynamicNav:y},props:{buttons:{type:Object}},computed:{btns(){return(this.buttons||[]).map((e=>(e.size="large",e.color=e.color||"primary",e.visible=!0,e.styleClass="full-width-ion-btn",e.onClick||(e.onClick=async()=>{await l.OZ.dismiss({action:e.name})}),e)))}}}),F=(0,c.A)(_,[["render",m]]),g=F,T=(0,o.pM)({components:{ActionHeader:d,ActionFooter:g},props:{title:{type:String,required:!0},subtitle:{type:String},actionButtons:{type:Object,required:!0},color:{type:String}}}),k=T,E=k},25486:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var o=n(20641),i=n(90033),r=n(53751);function a(e,t,n,a,l,s){const c=(0,o.g2)("ion-title"),u=(0,o.g2)("ion-col"),d=(0,o.g2)("info-card"),h=(0,o.g2)("ion-row"),m=(0,o.g2)("ion-toolbar"),f=(0,o.g2)("ion-header"),p=(0,o.g2)("ion-content"),b=(0,o.g2)("ion-button"),v=(0,o.g2)("ion-footer"),y=(0,o.g2)("ion-page");return(0,o.uX)(),(0,o.Wv)(y,null,{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,null,{default:(0,o.k6)((()=>{var t;return[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.bF)(c,{class:"his-lg-text"},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.helpText),1)])),_:1})])),_:1}),null!==(t=e.currentField)&&void 0!==t&&null!==(t=t.config)&&void 0!==t&&t.toolbarInfo?((0,o.uX)(),(0,o.Wv)(u,{key:0},{default:(0,o.k6)((()=>{var t;return[(0,o.bF)(d,{style:{height:"100%"},items:null===(t=e.currentField)||void 0===t||null===(t=t.config)||void 0===t?void 0:t.toolbarInfo},null,8,["items"])]})),_:1})):(0,o.Q3)("",!0)]})),_:1})])),_:1})])),_:1}),(0,o.bF)(p,null,{default:(0,o.k6)((()=>[((0,o.uX)(),(0,o.Wv)(o.PR,null,[((0,o.uX)(),(0,o.Wv)((0,o.$y)(e.currentField.type),{key:e.currentField.id,config:e.currentField.config,options:e.currentField.options,preset:e.currentField.preset,clear:e.valueClearIndex,fdata:e.formData,cdata:e.computedFormData,activationState:e.state,onValue:e.currentField.onValue,defaultValue:e.currentField.defaultValue,onValueUpdate:e.currentField.onValueUpdate,footerButtonEvent:e.ftBtnEvent,onOnValue:e.onFieldValue,onOnFieldActivated:e.onFieldActivated},null,40,["config","options","preset","clear","fdata","cdata","activationState","onValue","defaultValue","onValueUpdate","footerButtonEvent","onOnValue","onOnFieldActivated"]))],1024))])),_:1}),(0,o.bF)(v,null,{default:(0,o.k6)((()=>[(0,o.bF)(m,{color:"light"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.footerBtns,((t,n)=>(0,o.bo)(((0,o.uX)(),(0,o.Wv)(b,{key:n,slot:t.slot||"start",class:(0,i.C4)(t.styleClass),onClick:n=>e.onFtButtonClicked(t),color:t.color||"primary",size:t.size||"large",disabled:e.onDisabledBtnState(t,"disabled",!1)},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(t.name),1)])),_:2},1032,["slot","class","onClick","color","size","disabled"])),[[r.aG,e.onVisibleBtnState(t,"visible")]]))),128))])),_:1})])),_:1})])),_:1})}n(74423),n(44114),n(98992),n(54520),n(3949);var l=n(77270),s=n(2543),c=n(73235),u=n(85901);function d(e,t,n,r,a,l){const s=(0,o.g2)("ion-col"),c=(0,o.g2)("ion-row"),u=(0,o.g2)("ion-grid"),d=(0,o.g2)("tool-bar-medium-card");return(0,o.uX)(),(0,o.Wv)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.rowItems,((e,t)=>((0,o.uX)(),(0,o.Wv)(c,{key:t},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e,((e,t)=>((0,o.uX)(),(0,o.Wv)(s,{class:"col his-sm-text",key:t},{default:(0,o.k6)((()=>[(0,o.Lk)("b",null,(0,i.v_)(e.label)+":",1),(0,o.eW)(" "+(0,i.v_)(e.value),1)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1})])),_:1})}const h={class:"tool-bar-medium-card"};function m(e,t,n,i,r,a){return(0,o.uX)(),(0,o.CE)("div",h,[(0,o.RG)(e.$slots,"default")])}const f=(0,o.pM)({name:"ToolBarMediumCard"});var p=n(66262);const b=(0,p.A)(f,[["render",m]]),v=b;var y=n(87063);const _=(0,o.pM)({name:"HisResultCard",components:{ToolBarMediumCard:v,IonGrid:c.lO,IonCol:c.hU,IonRow:c.ln},props:{items:{type:Object,required:!0}},computed:{rowItems(){return y.A.convertArrayToTurples(this.items,2)}}}),F=(0,p.A)(_,[["render",d],["__scopeId","data-v-1842fa50"]]),g=F;function T(e,t,n,i,r,a){const l=(0,o.g2)("view-port");return(0,o.uX)(),(0,o.Wv)(l,null,{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("div",{class:"linear-background"},[(0,o.Lk)("div",{class:"inter-draw"}),(0,o.Lk)("div",{class:"inter-crop"}),(0,o.Lk)("div",{class:"inter-right--top"}),(0,o.Lk)("div",{class:"inter-right--bottom"})],-1)]))),_:1})}var k=n(38553);const E=(0,o.pM)({components:{ViewPort:k.A}}),C=(0,p.A)(E,[["render",T],["__scopeId","data-v-0c98acd2"]]),I=C;function A(e,t,n,i,r,a){const l=(0,o.g2)("view-port");return(0,o.uX)(),(0,o.Wv)(l,null,{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("div",{class:"vertically-align"}," Error Loading form element. Exit app and try again and check your network. ",-1)]))),_:1})}const R=(0,o.pM)({components:{ViewPort:k.A}}),O=(0,p.A)(R,[["render",A]]),S=O;function N(){const e={};return l.N.forEach((t=>{e[t]=(0,o.$V)({loader:()=>n(33274)(`./${t}.vue`),loadingComponent:I,errorComponent:S,delay:150,timeout:5e4})})),e}const w=(0,o.pM)({name:"TouchscreenForm",components:{InfoCard:g,IonButtons:c.QW,IonPage:c.AO,IonContent:c.W9,IonFooter:c.M0,IonToolbar:c.ai,IonButton:c.Jm,IonHeader:c.eU,IonTitle:c.BC,IonCol:c.hU,IonRow:c.ln,...N()},emits:["onFinish","onIndex"],props:{onFinish:{type:Function},onFinishDisabled:{type:Boolean,default:!1,required:!1},skipSummary:{type:Boolean,default:!1},activeField:{type:String},fields:{type:Object,required:!0},cancelDestinationPath:{type:String},disableAutoModalDismiss:{type:Boolean},cancelAction:{type:Function}},data:()=>({ftBtnEvent:{eventIndex:0,btnName:"",btnOutput:null},helpText:"",valueClearIndex:0,currentIndex:0,currentField:{},currentFieldContext:null,formData:{},computedFormData:{},footerBtns:[],currentFields:[],fieldsInitialisedOnce:{},state:""}),watch:{fields:{async handler(e){if(!(0,s.isEmpty)(e)){this.buildFormData(e);let t=e;this.skipSummary||(t=[...t,this.getDefaultSummaryField()]),this.currentFields=t,this.activeField?this.mountField(this.activeField):await this.onNext()}},immediate:!0,deep:!0},state:{handler(e){["onValue","onClear","next","prev","onfinish","onload","unload"].includes(e)&&(c.FJ.getTop().then((e=>e?c.FJ.dismiss():null)),this.disableAutoModalDismiss||c.OZ.getTop().then((e=>e&&c.OZ.dismiss())),c.TN.getTop().then((e=>e?c.TN.dismiss():null)),c.eE.getTop().then((e=>e?c.eE.dismiss():null)))},immediate:!0,deep:!0},activeField:{async handler(e){e&&this.mountField(e)}}},mounted(){this.footerBtns=[this.getCancelBtn()],window.addEventListener("keydown",this.bindEnterKeyEvent)},beforeUnmount(){window.removeEventListener("keydown",this.bindEnterKeyEvent)},methods:{clearValue(){this.valueClearIndex+=1,this.setActiveFieldValue(null)},bindEnterKeyEvent(e){"Enter"===e.key&&this.goNext(),"Escape"===e.key&&this.cancelForm()},async onFtButtonClicked(e){this.ftBtnEvent.eventIndex+=1,this.ftBtnEvent.btnName=e.name,this.ftBtnEvent.btnOutput=await e.onClick(this.formData,this.computedFormData,this.currentFieldContext),e.onClickComponentEvents?this.ftBtnEvent.onClickComponentEvents=e.onClickComponentEvents:this.ftBtnEvent.onClickComponentEvents&&delete this.ftBtnEvent.onClickComponentEvents},async mountField(e){if("_NEXT_FIELD_"===e)return await this.goNext(),this.$emit("onIndex",this.currentIndex);const t=(0,s.findIndex)(this.currentFields,{id:e});t>=0&&t<=this.currentFields.length&&(this.setActiveFieldComputedValue(),this.setActiveField(t),this.$emit("onIndex",t))},async cancelForm(){if(await(0,u.Cw)("Are you sure you want to cancel?")){if("function"===typeof this.cancelAction)return this.cancelAction();this.cancelDestinationPath?this.$router.push(this.cancelDestinationPath):this.$router.back()}},getCancelBtn(e={}){const t=e||{};return{name:t.name||"Cancel",color:t.color||"danger",onClick:async()=>{if(t.onClick)return t.onClick();this.cancelForm()}}},getClearBtn(e={}){const t=e||{};return{name:t.name||"Clear",color:t.color||"warning",slot:"end",onClick:async()=>{if(t.onClick)return t.onClick();const e=await(0,u.Cw)("Are you sure you want to clear field data?");e&&this.clearValue()}}},getBackBtn(e={}){const t=e||{},n=()=>!(1===this.currentFields.length||this.currentIndex<=0);return{name:(null===t||void 0===t?void 0:t.name)||"Back",slot:"end",state:{disabled:{default:()=>!1,onsubmit:()=>!0},visible:{onload:()=>n(),default:()=>n()}},onClick:()=>t.onClick?t.onClick():this.goBack()}},getNextBtn(e={}){const t=e||{},n=()=>!(this.currentIndex+1>=this.currentFields.length||this.currentFields.length<=1);return{name:(null===t||void 0===t?void 0:t.name)||"Next",color:(null===t||void 0===t?void 0:t.color)||"success",slot:"end",state:{disabled:{onsubmit:()=>!0,default(e){return"requireNext"in e&&!e.requireNext}},visible:{onsubmit:()=>!1,onfinish:()=>!1,default:()=>n(),onload:()=>n()}},onClick:()=>t.onClick?t.onClick():this.goNext()}},getFinishBtn(e={}){const t=e||{},n=()=>this.currentIndex+1>=this.currentFields.length;return{name:(null===t||void 0===t?void 0:t.name)||"Finish",color:(null===t||void 0===t?void 0:t.color)||"success",slot:"end",state:{disabled:{default:()=>this.$props.onFinishDisabled,onsubmit:()=>!0},visible:{onfinish:()=>!0,onsubmit:()=>!0,default:()=>n(),onload:()=>n()}},onClick:()=>t.onClick?t.onClick():this.goNext()}},onVisibleBtnState(e){var t;try{var n;if(null!==(n=this.currentField)&&void 0!==n&&null!==(n=n.config)&&void 0!==n&&n.hiddenFooterBtns.includes(e.name))return!1}catch(o){}if(null!==e&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.visible){if(this.state in e.state.visible)return e.state.visible[this.state](this.currentField,this.formData);if("default"in e.state.visible)return e.state.visible["default"](this.currentField,this.formData)}return!0},onDisabledBtnState(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.disabled){if(this.state in e.state.disabled)return e.state.disabled[this.state](this.currentField,this.formData);if("default"in e.state.disabled)return e.state.disabled["default"](this.currentField,this.formData)}return!1},getDefaultSummaryField(){return{id:"__form_summary__",helpText:"Summary",type:l.P.TT_SUMMARY,config:{hiddenFooterBtns:["Clear"]},options:(e,t)=>{const n=[];for(const o in e){const i=this.currentFields.filter((e=>e.id===o||e.proxyID===o))[0],r=e[o];if(!r||void 0!=i.appearInSummary&&!i.appearInSummary(e,o))continue;const a=Array.isArray(r)?r:[r];a.forEach((r=>{i.summaryMapValue?n.push(i.summaryMapValue(r,e,t[o])):n.push({label:i.helpText,value:r.label})}))}return n}}},resolveFormValues(e){const t={};for(const n in e)null!=e[n]&&(t[n]=e[n]);return t},async onFinishAction(){const e=this.resolveFormValues(this.formData),t=this.resolveFormValues(this.computedFormData);if(this.onFinish)try{this.state="onsubmit",await this.onFinish(e,t)}catch(n){console.error(n),(0,u.L_)(`${n}`)}this.state="onfinish",this.$emit("onFinish",e,t)},async goNext(){if(this.currentField.validation){const e=this.formData[this.currentField.id],t=this.currentField.validation(e,this.formData,this.computedFormData);if(t)return(0,u._O)(t.join(", "),2e3)}this.currentField.beforeNext&&!await this.currentField.beforeNext(this.formData[this.currentField.id],this.formData,this.computedFormData,this)||await this.onNext()},async goBack(){for(let t=this.currentIndex;t>=0;--t){const n=this.currentFields[t];if((0,s.isEmpty)(this.currentField)||this.currentField.id!==n.id){await this.initFieldOnce(n);try{if(!await this.checkFieldCondition(n))continue}catch(e){continue}return void await this.setActiveField(t,"prev")}}},async checkFieldCondition(e){return!(e.condition&&!await e.condition(this.formData,this.computedFormData))||("function"===typeof e.onConditionFalse&&e.onConditionFalse(),this.formData[e.id]=e.defaultOutput?e.defaultOutput(this.formData,this.computedFormData):null,e.computedValue&&(this.computedFormData[e.id]=e.defaultComputedOutput?e.defaultComputedOutput(this.formData,this.computedFormData):null),!1)},onFieldActivated(e){this.state="onload",this.currentFieldContext=e,this.currentField.onload&&this.currentField.onload(e)},async onUnload(e=""){try{if(this.state="unload",!(0,s.isEmpty)(this.currentField)&&this.currentField.unload){const t=this.formData[this.currentField.id];await this.currentField.unload(t,e,this.formData,this.computedFormData,this)}}catch(t){console.error(t)}},buildFormData(e){this.formData={},e.forEach((e=>{e.proxyID&&(this.formData[e.proxyID]=null),this.formData[e.id]=null}))},async setActiveFieldValue(e){this.state="onValue";const t=this.currentField.proxyID,n=this.currentField.id;t&&(this.formData[t]=e),this.formData[n]=e,"function"===typeof this.currentField.updateHelpTextOnValue&&(this.helpText=this.currentField.updateHelpTextOnValue(e,this.formData))},async onNext(){const e=this.currentFields.length;for(let n=this.currentIndex;n<e;++n){const e=this.currentFields[n];if((0,s.isEmpty)(this.currentField)||this.currentField.id!==e.id){await this.initFieldOnce(e);try{if(!await this.checkFieldCondition(e))continue}catch(t){continue}if("function"===typeof this.currentField.exitsForm&&this.currentField.exitsForm(this.formData,this.computedFormData))break;return this.setActiveFieldComputedValue(),void this.setActiveField(n,"next")}}this.setActiveFieldComputedValue(),await this.onFinishAction()},async setActiveField(e,t=""){var n;await this.onUnload(t),this.state=t,this.currentIndex=e,this.currentField=this.currentFields[this.currentIndex],await this.initFieldOnce(this.currentField),this.helpText=this.currentField.dynamicHelpText?this.currentField.dynamicHelpText(this.formData):"function"===typeof this.currentField.updateHelpTextOnValue?this.currentField.updateHelpTextOnValue(this.formData[this.currentField.id],this.computedFormData[this.currentField.id]):this.currentField.helpText,this.footerBtns=[this.getCancelBtn()],this.currentField.config&&this.currentField.config.footerBtns&&(this.footerBtns=this.footerBtns.concat(this.currentField.config.footerBtns));const o=null===(n=this.currentField.config)||void 0===n?void 0:n.overrideDefaultFooterBtns;this.footerBtns.push(this.getClearBtn(null===o||void 0===o?void 0:o.clearBtn)),this.footerBtns.push(this.getBackBtn(null===o||void 0===o?void 0:o.backBtn)),this.footerBtns.push(this.getNextBtn(null===o||void 0===o?void 0:o.nextBtn)),this.footerBtns.push(this.getFinishBtn(null===o||void 0===o?void 0:o.finishBtn))},setActiveFieldComputedValue(){if("object"===typeof this.currentField&&"function"===typeof this.currentField.computedValue){const e=this.currentField.proxyID||this.currentField.id,t=this.formData[e];this.computedFormData[e]=null==t&&t?null:this.currentField.computedValue(t,this.formData,this.computedFormData)}},onFieldValue(e){this.setActiveFieldValue(e),"requireNext"in this.currentField&&!this.currentField.requireNext&&this.onNext()},async initFieldOnce(e){"function"===typeof e.init&&(this.fieldsInitialisedOnce[e.id]||(this.fieldsInitialisedOnce[`${e.id}`]=await e.init(this.formData,this.computedFormData)))}}}),x=(0,p.A)(w,[["render",a]]),j=x},83230:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var o=n(20641),i=n(90033);function r(e,t,n,r,a,l){const s=(0,o.g2)("ion-button");return(0,o.uX)(),(0,o.CE)("table",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.layout,((t,n)=>((0,o.uX)(),(0,o.CE)("tr",{key:n},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t,((n,r)=>((0,o.uX)(),(0,o.CE)("td",{class:"his-keyboard-margin",key:`btn-${r}`},[n?((0,o.uX)(),(0,o.Wv)(s,{key:0,color:"dark",fill:"outline",style:(0,i.Tr)({width:e.btnSize}),class:(0,i.C4)(`his-keyboard-btn btn-${n}-${e.dynamicClass(t)}`),onClick:()=>e.keyPress(n)},{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(n),1)])),_:2},1032,["style","class","onClick"])):(0,o.Q3)("",!0)])))),128))])))),128))])}var a=n(73235);const l=(0,o.pM)({components:{IonButton:a.Jm},props:{btnSize:{type:String,default:"90%"},layout:{type:Array,required:!0,default:()=>[]},onKeyPress:{type:Function,required:!0}},methods:{keyPress(e){this.onKeyPress(e)},dynamicClass(e){return 3==e.length&&"Unknown"==e[0]?"Keypad":e[0]}}});var s=n(66262);const c=(0,s.A)(l,[["render",r]]),u=c},6336:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(20641),i=n(90033);const r={class:"keypad"};function a(e,t,n,a,l,s){const c=(0,o.g2)("ion-input"),u=(0,o.g2)("ion-chip"),d=(0,o.g2)("center"),h=(0,o.g2)("base-keyboard"),m=(0,o.g2)("ion-content");return(0,o.uX)(),(0,o.Wv)(m,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",r,[(0,o.bF)(c,{value:e.value,disabled:!0,class:"keypad-input"},null,8,["value"]),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,null,{default:(0,o.k6)((()=>[(0,o.eW)((0,i.v_)(e.title||"keypad"),1)])),_:1})])),_:1}),(0,o.bF)(h,{btnSize:"96px",layout:e.keypad,onKeyPress:e.keypress},null,8,["layout","onKeyPress"])])])),_:1})}n(74423),n(27495);var l=n(83230),s=n(52110),c=n(21317),u=n(72256);const d=(0,o.pM)({components:{BaseKeyboard:l.A},props:{title:{type:String},preset:{type:String},onKeyPress:{type:Function,required:!0},strictNumbers:{type:Boolean,default:!1}},data:()=>({value:"0",keypad:s.pZ}),watch:{preset:{handler(e){e&&(this.value=e.toString())},immediate:!0}},methods:{async keypress(e){if(e.match(/done/i))await u.OZ.dismiss(this.value);else if(this.strictNumbers){if(e.includes(".")&&this.value.includes("."))return;e.includes(".")||"0"!==this.value||(this.value=""),this.value=(0,c.A)(e,this.value),this.value||(this.value="0"),`${parseInt(this.value)}`===this.value?this.onKeyPress(parseInt(this.value)):this.onKeyPress(this.value)}else this.value=(0,c.A)(e,this.value),this.onKeyPress(this.value)}}});var h=n(66262);const m=(0,h.A)(d,[["render",a],["__scopeId","data-v-7454247c"]]),f=m},33274:(e,t,n)=>{var o={"./BaseTextInput.vue":[81871,7398],"./FieldMixin.vue":[25883,1791],"./HisAdherenceInput.vue":[8347,5588],"./HisAgeInput.vue":[61050,8397],"./HisArtRegimenSelection.vue":[64437,6363,8386],"./HisBarcodeInput.vue":[90854,1195],"./HisCardSelector.vue":[63512,6363,2768],"./HisDateInput.vue":[40063,9838,5577],"./HisDatePicker.vue":[47918,814],"./HisGridSelector.vue":[47408,3623],"./HisGroupSelector.vue":[21003,4637],"./HisIPAddress.vue":[81060,1828],"./HisInfiniteScrollMultipleSelect.vue":[52817,8031],"./HisMonthlyDays.vue":[44228,8870],"./HisMultiSelectGrid.vue":[90335,5465],"./HisMultipleSelect.vue":[52214,6363,7120,2656],"./HisNextVisitInterval.vue":[82836,6363,9019],"./HisNote.vue":[1654,4626],"./HisNumberInput.vue":[22178,4245],"./HisSelect.vue":[50093,6363,3500],"./HisSummary.vue":[67004,8412],"./HisTextBanner.vue":[21042,2805],"./HisTextInput.vue":[42134,5614],"./HisTime.vue":[4453,8423],"./MultiYesNoSelect.vue":[11829,6363,9400],"./PersonSearchView.vue":[21174,2209],"./PickerSelector.vue":[29020,6602],"./SelectMixin.vue":[96363,6363,5603],"./YesNoSelect.vue":[51716,6363,388]};function i(e){if(!n.o(o,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((()=>n(i)))}i.keys=()=>Object.keys(o),i.id=33274,e.exports=i}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,(()=>{var e=[];n.O=(t,o,i,r)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,i,r]=e[u],l=!0,s=0;s<o.length;s++)(!1&r||a>=r)&&Object.keys(n.O).every((e=>n.O[e](o[s])))?o.splice(s--,1):(l=!1,r<a&&(a=r));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,i,r]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,o)=>(n.f[o](e,t),t)),[]))})(),(()=>{n.u=e=>"js/"+({388:"TouchFormElement28",814:"TouchFormElement8",1195:"TouchFormElement5",1791:"TouchFormElement1",1828:"TouchFormElement11",2209:"TouchFormElement25",2656:"TouchFormElement15",2768:"TouchFormElement6",2805:"TouchFormElement21",3500:"TouchFormElement19",3623:"TouchFormElement9",4245:"TouchFormElement18",4626:"TouchFormElement17",4637:"TouchFormElement10",5465:"TouchFormElement14",5577:"TouchFormElement7",5588:"TouchFormElement2",5614:"TouchFormElement22",6602:"TouchFormElement26",7398:"TouchFormElement0",8031:"TouchFormElement12",8386:"TouchFormElement4",8397:"TouchFormElement3",8412:"TouchFormElement20",8423:"TouchFormElement23",8870:"TouchFormElement13",9019:"TouchFormElement16",9400:"TouchFormElement24"}[e]||e)+"."+{7:"5e2b390e",34:"c4dfa542",66:"bd865d40",129:"e74c4d89",141:"c70efe70",282:"c74b7b5f",301:"268b81df",335:"35bec615",388:"78a79f77",415:"46a9a9b3",419:"188f1cff",462:"fc528d2a",532:"d22eadf7",760:"7ed6e5d1",814:"02b09177",859:"d3710175",872:"1a4e24e0",1099:"e0a0942e",1195:"7aa0269a",1322:"09bf3798",1332:"32633535",1495:"3139605f",1572:"11c7a070",1689:"f703ad77",1776:"70b61cff",1791:"ff222839",1828:"8703e053",1842:"b1656ebc",2011:"2b1d5fcd",2040:"723e8964",2072:"4ef6bd3d",2127:"d595fb12",2206:"99023eba",2209:"7579db62",2358:"67f51a20",2517:"9a322837",2560:"514df827",2656:"901f5d20",2725:"74e059a0",2768:"c0c28b22",2805:"a11d2f97",2923:"437e163b",3015:"b6192cb5",3016:"e0a56126",3123:"43056cb1",3323:"f2e16042",3389:"116a7962",3480:"63713058",3500:"69650bac",3623:"b5cf008e",3827:"8455ef65",3854:"1688f6a1",4047:"b8649142",4060:"046af3ba",4117:"2e357a88",4245:"655fd15b",4295:"2b6e929d",4316:"18f330ee",4318:"3bd73dae",4319:"86db39ab",4394:"684c5eb7",4404:"42514ef3",4533:"3bc7db95",4626:"9001ab25",4637:"8c3d35be",4654:"1a42660f",4692:"55471876",4802:"f2bb8293",4818:"ffbc074f",5053:"7cfd1c0b",5093:"ddeb6606",5100:"9f7044f7",5211:"d4b338cf",5325:"325b19ae",5357:"08f27939",5381:"c4b254b0",5451:"b6e5d1c5",5465:"57bf1f5b",5504:"26c1bdd7",5508:"1cbebcc0",5577:"513d4fd1",5588:"2c5273c3",5614:"bc645323",5647:"10e0ee22",5677:"a9feb588",6166:"e2107ba6",6210:"29e01583",6242:"78fa5f88",6363:"c0ba5020",6367:"dba219ec",6428:"96c895c5",6540:"768452b2",6602:"31745dd1",6698:"162d43ab",7120:"1d29dcfc",7398:"853ed00b",7685:"7c5171d2",7819:"b53140cf",7927:"77eb6bfa",8031:"f24d0855",8186:"0189d1aa",8205:"4a2f8e79",8211:"0fc67fa2",8254:"b4c5c84c",8288:"32dfb8d0",8336:"bf970e5a",8377:"deb7bd68",8386:"e099175b",8397:"e4384e3d",8412:"5c74b069",8423:"aa1f1b99",8573:"03c24646",8591:"b18dc611",8798:"5468dee9",8870:"11809c77",9002:"11085975",9019:"cbfd8994",9106:"45fc61ec",9136:"974cad6f",9187:"3158017d",9400:"cd28bd6d",9545:"e5836bb9",9632:"dc837182",9835:"ee9f2bc6",9838:"9bc19ca9",9898:"ace7539b",9938:"522f81a8"}[e]+".js"})(),(()=>{n.miniCssF=e=>"css/"+({388:"TouchFormElement28",1195:"TouchFormElement5",1828:"TouchFormElement11",2209:"TouchFormElement25",2656:"TouchFormElement15",2768:"TouchFormElement6",2805:"TouchFormElement21",3500:"TouchFormElement19",4245:"TouchFormElement18",4626:"TouchFormElement17",4637:"TouchFormElement10",5465:"TouchFormElement14",5577:"TouchFormElement7",5588:"TouchFormElement2",5603:"TouchFormElement27",5614:"TouchFormElement22",6602:"TouchFormElement26",7398:"TouchFormElement0",8031:"TouchFormElement12",8386:"TouchFormElement4",8397:"TouchFormElement3",8412:"TouchFormElement20",8423:"TouchFormElement23",8870:"TouchFormElement13",9019:"TouchFormElement16",9400:"TouchFormElement24"}[e]||e)+"."+{129:"34c9abe6",388:"6d4c899b",1195:"a81b2f07",1828:"7af93f96",2206:"0096649b",2209:"967cb860",2656:"18f68dca",2768:"074c3336",2805:"0b9b5373",3500:"fce76026",4245:"dd1720a1",4295:"350a3702",4626:"077d8bbe",4637:"d06a8bf6",5465:"d09d579b",5577:"24866715",5588:"63ad155c",5603:"a204f30a",5614:"9c58cd6d",6210:"2fb4305d",6602:"cb366c63",7398:"dd1720a1",8031:"dd1720a1",8386:"079b0c1a",8397:"dd1720a1",8412:"1a4bc627",8423:"b26bc1f4",8870:"dd1720a1",9019:"766bc46b",9400:"8e5af02d"}[e]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="IBLISReception:";n.l=(o,i,r,a)=>{if(e[o])e[o].push(i);else{var l,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){l=d;break}}l||(s=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+r),l.src=o),e[o]=[i];var h=(t,n)=>{l.onerror=l.onload=null,clearTimeout(m);var i=e[o];if(delete e[o],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((e=>e(n))),t)return t(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=h.bind(null,l.onerror),l.onload=h.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{n.p="/"})(),(()=>{if("undefined"!==typeof document){var e=(e,t,o,i,r)=>{var a=document.createElement("link");a.rel="stylesheet",a.type="text/css",n.nc&&(a.nonce=n.nc);var l=n=>{if(a.onerror=a.onload=null,"load"===n.type)i();else{var o=n&&n.type,l=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+l+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=l,a.parentNode&&a.parentNode.removeChild(a),r(s)}};return a.onerror=a.onload=l,a.href=t,o?o.parentNode.insertBefore(a,o.nextSibling):document.head.appendChild(a),a},t=(e,t)=>{for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],r=i.getAttribute("data-href");if(r===e||r===t)return i}},o=o=>new Promise(((i,r)=>{var a=n.miniCssF(o),l=n.p+a;if(t(a,l))return i();e(o,l,null,i,r)})),i={3524:0};n.f.miniCss=(e,t)=>{var n={129:1,388:1,1195:1,1828:1,2206:1,2209:1,2656:1,2768:1,2805:1,3500:1,4245:1,4295:1,4626:1,4637:1,5465:1,5577:1,5588:1,5603:1,5614:1,6210:1,6602:1,7398:1,8031:1,8386:1,8397:1,8412:1,8423:1,8870:1,9019:1,9400:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((()=>{i[e]=0}),(t=>{throw delete i[e],t})))}}})(),(()=>{var e={3524:0};n.f.j=(t,o)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else if(5603!=t){var r=new Promise(((n,o)=>i=e[t]=[n,o]));o.push(i[2]=r);var a=n.p+n.u(t),l=new Error,s=o=>{if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,i[1](l)}};n.l(a,s,"chunk-"+t,t)}else e[t]=0},n.O.j=t=>0===e[t];var t=(t,o)=>{var i,r,[a,l,s]=o,c=0;if(a.some((t=>0!==e[t]))){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(s)var u=s(n)}for(t&&t(o);c<a.length;c++)r=a[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[504],(()=>n(78767)));o=n.O(o)})();
//# sourceMappingURL=app.2f3a34f7.js.map