"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[5647],{82077:(e,t,l)=>{l.d(t,{A:()=>i});l(14603),l(47566),l(98721);var n=l(741),a=l(85901);class i{async writeLbl(e,t,l=`${Date.now()}.lbl`){const i=(0,n.Kj)();try{const n=await i.getText(e,t),s=new Blob([null===n||void 0===n?void 0:n.data],{type:"text/plain"});e=URL.createObjectURL(s);const o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",l),o.click(),URL.revokeObjectURL(e),(0,a.tP)("Accession number printed!")}catch(s){console.error(s)}}}},80027:(e,t,l)=>{l.d(t,{D:()=>n});const n="DD/MM/YYYY"},25647:(e,t,l)=>{l.r(t),l.d(t,{default:()=>p});var n=l(20641),a=l(90033);function i(e,t,l,i,s,o){const d=(0,n.g2)("ion-title"),u=(0,n.g2)("ion-toolbar"),r=(0,n.g2)("ion-header"),f=(0,n.g2)("ion-label"),_=(0,n.g2)("ion-item"),b=(0,n.g2)("ion-card"),c=(0,n.g2)("ion-col"),k=(0,n.g2)("ion-list"),p=(0,n.g2)("ion-row"),F=(0,n.g2)("ion-grid"),g=(0,n.g2)("ion-content"),h=(0,n.g2)("ion-button"),v=(0,n.g2)("ion-footer"),m=(0,n.g2)("ion-page");return(0,n.uX)(),(0,n.Wv)(m,null,{default:(0,n.k6)((()=>[(0,n.bF)(r,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,null,{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[0]||(t[0]=[(0,n.eW)("Test Details")]))),_:1})])),_:1})])),_:1}),(0,n.bF)(g,null,{default:(0,n.k6)((()=>[(0,n.bF)(F,null,{default:(0,n.k6)((()=>[(0,n.bF)(p,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{size:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.eW)("Test Type")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.test_type_name),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Date Ordered")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.moment(e.details.created_date).format(e.format)),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Receipt Date")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(""!=e.receiptDate?e.moment(e.receiptDate).format(e.format):""),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Test Status")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.status),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[5]||(t[5]=[(0,n.eW)("Request Origin")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.request_origin),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[6]||(t[6]=[(0,n.eW)("Requesting Ward/Location")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.requesting_ward),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[7]||(t[7]=[(0,n.eW)("Requesting Physician")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.requested_by),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[8]||(t[8]=[(0,n.eW)("Registered By")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.requestedBy),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(c,{size:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{color:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)(" Patient Details ")]))),_:1})])),_:1}),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[10]||(t[10]=[(0,n.eW)("Patient Identifier")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(null===(t=e.details)||void 0===t?void 0:t.client.id),1)]})),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[11]||(t[11]=[(0,n.eW)("Patient Name")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(`${e.details.client.first_name} ${null!==e.details.client.middle_name?e.details.client.middle_name:""} ${e.details.client.last_name}`),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[12]||(t[12]=[(0,n.eW)("Age")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(e.moment().diff(null===(t=e.details)||void 0===t?void 0:t.client.date_of_birth,"years"))+" years ",1)]})),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[13]||(t[13]=[(0,n.eW)("Sex")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>{var t;return[(0,n.eW)((0,a.v_)(null===(t=e.details)||void 0===t?void 0:t.client.sex),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(b,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{color:"primary"},{default:(0,n.k6)((()=>[(0,n.bF)(d,null,{default:(0,n.k6)((()=>t[14]||(t[14]=[(0,n.eW)(" Specimen Details ")]))),_:1})])),_:1}),(0,n.bF)(k,null,{default:(0,n.k6)((()=>[(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[15]||(t[15]=[(0,n.eW)("Type")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.specimen_type),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[16]||(t[16]=[(0,n.eW)("Tracking Number")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.tracking_number),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[17]||(t[17]=[(0,n.eW)("Accession Number")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.accession_number),1)])),_:1})])),_:1}),(0,n.bF)(_,null,{default:(0,n.k6)((()=>[(0,n.bF)(f,{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.k6)((()=>t[18]||(t[18]=[(0,n.eW)("Status")]))),_:1}),(0,n.bF)(f,{slot:"end",style:{"font-size":"18px"}},{default:(0,n.k6)((()=>[(0,n.eW)((0,a.v_)(e.details.order_status),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.bF)(v,null,{default:(0,n.k6)((()=>[(0,n.bF)(u,{style:{padding:"10px"}},{default:(0,n.k6)((()=>[(0,n.bF)(h,{size:"large",color:"success",slot:"start",onClick:e.goBack},{default:(0,n.k6)((()=>t[19]||(t[19]=[(0,n.eW)(" Back ")]))),_:1},8,["onClick"]),(0,n.bF)(h,{size:"large",slot:"end",onClick:e.navigateToPatient},{default:(0,n.k6)((()=>t[20]||(t[20]=[(0,n.eW)(" View Patient ")]))),_:1},8,["onClick"]),(0,n.bF)(h,{size:"large",slot:"end",onClick:e.printAccessNumber},{default:(0,n.k6)((()=>t[21]||(t[21]=[(0,n.eW)(" Print Accession Number ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})}l(44114),l(81454);var s=l(73235),o=l(741),d=l(95093),u=l.n(d),r=l(82077),f=l(46079),_=l(80027);const b=(0,n.pM)({components:{IonPage:s.AO,IonContent:s.W9,IonToolbar:s.ai,IonHeader:s.eU,IonTitle:s.BC,IonFooter:s.M0,IonButton:s.Jm,IonCol:s.hU,IonRow:s.ln,IonGrid:s.lO,IonCard:s.b_,IonItem:s.uz,IonLabel:s.he,IonList:s.nf},data(){return{details:{client:{first_name:"",middle_name:"",last_name:"",date_of_birth:"",sex:""}},requestedBy:"",receiptDate:"",moment:u(),format:_.D}},async mounted(){var e;const t=(0,o.Kj)(),l=await t.getJson(`tests/${null===(e=this.$router.currentRoute.value.query.test_id)||void 0===e?void 0:e.toString()}`);null!==l&&void 0!==l&&l.ok?(this.details=null===l||void 0===l?void 0:l.data,this.details.status_trail.map((e=>{"pending"==e.status.name?this.requestedBy=`${e.initiator.first_name} ${e.initiator.last_name}`:"accepted"==e.status.name&&(this.receiptDate=e.created_date)})),this.details.order_status_trail.map((e=>{"specimen-accepted"==e.status.name&&(this.receiptDate=e.created_date)}))):console.log(null===l||void 0===l?void 0:l.error)},methods:{goBack(){f.A.back()},navigateToPatient(){f.A.push(`/patient-details/${this.details.client.id}`)},printAccessNumber(){const e=new r.A,t=this.details.accession_number;e.writeLbl("printout/accession_number",{accession_number:t},`${t}.lbl`)}}});var c=l(66262);const k=(0,c.A)(b,[["render",i]]),p=k},62106:(e,t,l)=>{var n=l(50283),a=l(24913);e.exports=function(e,t,l){return l.get&&n(l.get,t,{getter:!0}),l.set&&n(l.set,t,{setter:!0}),a.f(e,t,l)}},22812:e=>{var t=TypeError;e.exports=function(e,l){if(e<l)throw new t("Not enough arguments");return e}},14603:(e,t,l)=>{var n=l(36840),a=l(79504),i=l(655),s=l(22812),o=URLSearchParams,d=o.prototype,u=a(d.append),r=a(d["delete"]),f=a(d.forEach),_=a([].push),b=new o("a=1&a=2&b=3");b["delete"]("a",1),b["delete"]("b",void 0),b+""!=="a=2"&&n(d,"delete",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return r(this,e);var n=[];f(this,(function(e,t){_(n,{key:t,value:e})})),s(t,1);var a,o=i(e),d=i(l),b=0,c=0,k=!1,p=n.length;while(b<p)a=n[b++],k||a.key===o?(k=!0,r(this,a.key)):c++;while(c<p)a=n[c++],a.key===o&&a.value===d||u(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},47566:(e,t,l)=>{var n=l(36840),a=l(79504),i=l(655),s=l(22812),o=URLSearchParams,d=o.prototype,u=a(d.getAll),r=a(d.has),f=new o("a=1");!f.has("a",2)&&f.has("a",void 0)||n(d,"has",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return r(this,e);var n=u(this,e);s(t,1);var a=i(l),o=0;while(o<n.length)if(n[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},98721:(e,t,l)=>{var n=l(43724),a=l(79504),i=l(62106),s=URLSearchParams.prototype,o=a(s.forEach);n&&!("size"in s)&&i(s,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=5647.aa0d8aa5.js.map