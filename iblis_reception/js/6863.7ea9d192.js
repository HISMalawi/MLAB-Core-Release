"use strict";(globalThis["webpackChunkIBLISReception"]=globalThis["webpackChunkIBLISReception"]||[]).push([[6863],{1940:(e,t,l)=>{l.d(t,{Z:()=>u});l(8858),l(1318),l(3228);var n=l(4542),a=l(6188);class u{async writeLbl(e,t,l=`${Date.now()}.lbl`){const u=(0,n.KU)();try{const n=await u.getText(e,t),i=new Blob([null===n||void 0===n?void 0:n.data],{type:"text/plain"});e=URL.createObjectURL(i);const o=document.createElement("a");o.setAttribute("href",e),o.setAttribute("download",l),o.click(),URL.revokeObjectURL(e),(0,a.x9)("Accession number printed!")}catch(i){console.error(i)}}}},1133:(e,t,l)=>{l.d(t,{z:()=>n});const n="DD/MM/YYYY"},6863:(e,t,l)=>{l.r(t),l.d(t,{default:()=>c});l(4043),l(7267),l(560);var n=l(6252),a=l(2262),u=l(3577),i=l(951),o=l(8903),r=l(4542),s=l(2201),d=l(381),f=l.n(d),w=l(1133),U=l(6188),m=l(3231),v=l(1940);const _=(0,n.aZ)({__name:"NlimsOrder",setup(e){const t=(0,s.yj)(),l=(0,a.iH)(null),d=async e=>{const t=(0,r.KU)(),n=await t.getJson("orders/search_order_from_nlims_by_tracking_number",{tracking_number:e.replace(/\$$/,"")});null!==n&&void 0!==n&&n.ok&&(l.value=n.data),null!==n&&void 0!==n&&n.error&&((0,U.N$)("An error occurred"),m.Z.back())},_=async()=>{const e=(0,r.KU)(),t=await e.postJson("orders/merge_order_from_nlims",l.value);null!==t&&void 0!==t&&t.ok&&(l.value=t.data,(0,U.x9)("Order merged successfully"),m.Z.push("/tests")),null!==t&&void 0!==t&&t.ok||(0,U.N$)("An error occurred while merging order")},S=()=>{var e;const t=new v.Z,n=String(null===(e=l.value)||void 0===e?void 0:e.tracking_number);t.writeLbl("printout/tracking_number",{tracking_number:n},`${n}.lbl`)};return(0,n.bv)((()=>{const e=t.query["tracking-number"];"string"===typeof e&&d(e)})),(e,t)=>((0,n.wg)(),(0,n.j4)((0,a.SU)(i._i),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Gu),{translucent:!0},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{style:{padding:"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wd),{style:{"text-transform":"uppercase"},class:"his-lg-text"},{default:(0,n.w5)((()=>[(0,n.Uk)("NLIMS Order")])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.W2),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.jY),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Nd),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wI),{size:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.PM),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wd),null,{default:(0,n.w5)((()=>[(0,n.Uk)("Order Details")])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Test Type")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.tests.map((e=>e.test_type)).join(", ")),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Date Ordered")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)((0,a.SU)(f())(null===(e=l.value)||void 0===e?void 0:e.created_date).format((0,a.SU)(w.z))),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Priority")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.priority),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Test Status")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.tests.map((e=>e.test_status)).join(", ")),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Request Origin")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.sending_facility),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Requesting Ward/Location")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.facility_section),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Receiving Facility")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.receiving_facility),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Requesting Physician")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.requested_by),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Registered By")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.collected_by),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.wI),{size:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.PM),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wd),null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Patient Details ")])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.q_),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("NPID")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e||null===(e=e.patient_identifiers)||void 0===e?void 0:e.npid),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("ART Regimen")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e||null===(e=e.patient_identifiers)||void 0===e?void 0:e.art_regimen),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("ARV Number")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e||null===(e=e.patient_identifiers)||void 0===e?void 0:e.arv_number),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Patient Name")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e,t,a,i;return[(0,n.Uk)((0,u.zw)(`${null===(e=l.value)||void 0===e||null===(e=e.patient)||void 0===e?void 0:e.first_name} ${null!==(null===(t=l.value)||void 0===t||null===(t=t.patient)||void 0===t?void 0:t.middle_name)?null===(a=l.value)||void 0===a||null===(a=a.patient)||void 0===a?void 0:a.middle_name:""} ${null===(i=l.value)||void 0===i||null===(i=i.patient)||void 0===i?void 0:i.last_name}`),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Age")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)((0,a.SU)(f())().diff(null===(e=l.value)||void 0===e||null===(e=e.patient)||void 0===e?void 0:e.date_of_birth,"years"))+" years ",1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Sex")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e||null===(e=e.patient)||void 0===e?void 0:e.sex),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.PM),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wd),null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Specimen Details ")])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.q_),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Type")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.specimen),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Tracking Number")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.tracking_number),1)]})),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.Ie),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)("Status")])),_:1}),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>{var e;return[(0,n.Uk)((0,u.zw)(null===(e=l.value)||void 0===e?void 0:e.order_status),1)]})),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.PM),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{color:"primary"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.wd),null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Results ")])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.q_),{inset:!1},{default:(0,n.w5)((()=>{var e;return[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(null===(e=l.value)||void 0===e?void 0:e.results,(e=>((0,n.wg)(),(0,n.j4)((0,a.SU)(i.Ie),{key:e},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.Q$),{style:{"font-size":"20px","font-weight":"600"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(Object.keys(e)[0]),1)])),_:2},1024),(0,n.Wm)((0,a.SU)(i.Q$),{slot:"end",style:{"font-size":"18px"}},{default:(0,n.w5)((()=>[(0,n.Uk)((0,u.zw)(Object.values(e)[0]),1)])),_:2},1024)])),_:2},1024)))),128))]})),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,a.SU)(i.fr),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.sr),{style:{padding:"10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.YG),{onClick:t[0]||(t[0]=e=>(0,a.SU)(m.Z).back()),size:"large",color:"success",slot:"start"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.gu),{icon:(0,a.SU)(o.XRs),slot:"icon-only",style:{"margin-right":"5px"}},null,8,["icon"]),(0,n.Uk)(" Back ")])),_:1}),(0,n.Wm)((0,a.SU)(i.YG),{onClick:_,size:"large",slot:"end",color:"success"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.gu),{icon:(0,a.SU)(o.IHx),slot:"icon-only",style:{"margin-right":"5px"}},null,8,["icon"]),(0,n.Uk)(" Merge ")])),_:1}),(0,n.Wm)((0,a.SU)(i.YG),{onClick:S,size:"large",slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)((0,a.SU)(i.gu),{icon:(0,a.SU)(o.S0v),slot:"icon-only",style:{"margin-right":"5px"}},null,8,["icon"]),(0,n.Uk)(" Print Tracking Number ")])),_:1})])),_:1})])),_:1})])),_:1}))}}),S=_,c=S},2148:(e,t,l)=>{var n=l(8702),a=l(2560);e.exports=function(e,t,l){return l.get&&n(l.get,t,{getter:!0}),l.set&&n(l.set,t,{setter:!0}),a.f(e,t,l)}},1500:e=>{var t=TypeError;e.exports=function(e,l){if(e<l)throw new t("Not enough arguments");return e}},8858:(e,t,l)=>{var n=l(1880),a=l(8844),u=l(4327),i=l(1500),o=URLSearchParams,r=o.prototype,s=a(r.append),d=a(r["delete"]),f=a(r.forEach),w=a([].push),U=new o("a=1&a=2&b=3");U["delete"]("a",1),U["delete"]("b",void 0),U+""!=="a=2"&&n(r,"delete",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return d(this,e);var n=[];f(this,(function(e,t){w(n,{key:t,value:e})})),i(t,1);var a,o=u(e),r=u(l),U=0,m=0,v=!1,_=n.length;while(U<_)a=n[U++],v||a.key===o?(v=!0,d(this,a.key)):m++;while(m<_)a=n[m++],a.key===o&&a.value===r||s(this,a.key,a.value)}),{enumerable:!0,unsafe:!0})},1318:(e,t,l)=>{var n=l(1880),a=l(8844),u=l(4327),i=l(1500),o=URLSearchParams,r=o.prototype,s=a(r.getAll),d=a(r.has),f=new o("a=1");!f.has("a",2)&&f.has("a",void 0)||n(r,"has",(function(e){var t=arguments.length,l=t<2?void 0:arguments[1];if(t&&void 0===l)return d(this,e);var n=s(this,e);i(t,1);var a=u(l),o=0;while(o<n.length)if(n[o++]===a)return!0;return!1}),{enumerable:!0,unsafe:!0})},3228:(e,t,l)=>{var n=l(7697),a=l(8844),u=l(2148),i=URLSearchParams.prototype,o=a(i.forEach);n&&!("size"in i)&&u(i,"size",{get:function(){var e=0;return o(this,(function(){e++})),e},configurable:!0,enumerable:!0})}}]);
//# sourceMappingURL=6863.7ea9d192.js.map